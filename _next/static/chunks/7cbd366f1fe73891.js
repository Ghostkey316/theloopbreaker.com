(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,67034,(e,t,r)=>{var n={675:function(e,t){"use strict";t.byteLength=function(e){var t=l(e),r=t[0],n=t[1];return(r+n)*3/4-n},t.toByteArray=function(e){var t,r,i=l(e),s=i[0],a=i[1],c=new o((s+a)*3/4-a),d=0,u=a>0?s-4:s;for(r=0;r<u;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],c[d++]=t>>16&255,c[d++]=t>>8&255,c[d++]=255&t;return 2===a&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,c[d++]=255&t),1===a&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,c[d++]=t>>8&255,c[d++]=255&t),c},t.fromByteArray=function(e){for(var t,n=e.length,o=n%3,i=[],s=0,a=n-o;s<a;s+=16383)i.push(function(e,t,n){for(var o,i=[],s=t;s<n;s+=3)o=(e[s]<<16&0xff0000)+(e[s+1]<<8&65280)+(255&e[s+2]),i.push(r[o>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return i.join("")}(e,s,s+16383>a?a:s+16383));return 1===o?i.push(r[(t=e[n-1])>>2]+r[t<<4&63]+"=="):2===o&&i.push(r[(t=(e[n-2]<<8)+e[n-1])>>10]+r[t>>4&63]+r[t<<2&63]+"="),i.join("")};for(var r=[],n=[],o="u">typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,a=i.length;s<a;++s)r[s]=i[s],n[i.charCodeAt(s)]=s;function l(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var n=r===t?0:4-r%4;return[r,n]}n[45]=62,n[95]=63},72:function(e,t,r){"use strict";var n=r(675),o=r(783),i="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function s(e){if(e>0x7fffffff)throw RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,a.prototype),t}function a(e,t,r){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return d(e)}return l(e,t,r)}function l(e,t,r){if("string"==typeof e){var n=e,o=t;if(("string"!=typeof o||""===o)&&(o="utf8"),!a.isEncoding(o))throw TypeError("Unknown encoding: "+o);var i=0|p(n,o),l=s(i),c=l.write(n,o);return c!==i&&(l=l.slice(0,c)),l}if(ArrayBuffer.isView(e))return u(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(B(e,ArrayBuffer)||e&&B(e.buffer,ArrayBuffer)||"u">typeof SharedArrayBuffer&&(B(e,SharedArrayBuffer)||e&&B(e.buffer,SharedArrayBuffer)))return function(e,t,r){var n;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),a.prototype),n}(e,t,r);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');var d=e.valueOf&&e.valueOf();if(null!=d&&d!==e)return a.from(d,t,r);var g=function(e){if(a.isBuffer(e)){var t=0|h(e.length),r=s(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||function(e){return e!=e}(e.length)?s(0):u(e):"Buffer"===e.type&&Array.isArray(e.data)?u(e.data):void 0}(e);if(g)return g;if("u">typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return a.from(e[Symbol.toPrimitive]("string"),t,r);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function c(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function d(e){return c(e),s(e<0?0:0|h(e))}function u(e){for(var t=e.length<0?0:0|h(e.length),r=s(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}t.Buffer=a,t.SlowBuffer=function(e){return+e!=e&&(e=0),a.alloc(+e)},t.INSPECT_MAX_BYTES=50,t.kMaxLength=0x7fffffff,a.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),!a.TYPED_ARRAY_SUPPORT&&"u">typeof console&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),a.poolSize=8192,a.from=function(e,t,r){return l(e,t,r)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array),a.alloc=function(e,t,r){return(c(e),e<=0)?s(e):void 0!==t?"string"==typeof r?s(e).fill(t,r):s(e).fill(t):s(e)},a.allocUnsafe=function(e){return d(e)},a.allocUnsafeSlow=function(e){return d(e)};function h(e){if(e>=0x7fffffff)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function p(e,t){if(a.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||B(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var o=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return C(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return E(e).length;default:if(o)return n?-1:C(e).length;t=(""+t).toLowerCase(),o=!0}}function g(e,t,r){var o,i,s,a=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0||(r>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var o="",i=t;i<r;++i)o+=I[e[i]];return o}(this,t,r);case"utf8":case"utf-8":return y(this,t,r);case"ascii":return function(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;o<r;++o)n+=String.fromCharCode(127&e[o]);return n}(this,t,r);case"latin1":case"binary":return function(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;o<r;++o)n+=String.fromCharCode(e[o]);return n}(this,t,r);case"base64":return o=this,i=t,s=r,0===i&&s===o.length?n.fromByteArray(o):n.fromByteArray(o.slice(i,s));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,r){for(var n=e.slice(t,r),o="",i=0;i<n.length;i+=2)o+=String.fromCharCode(n[i]+256*n[i+1]);return o}(this,t,r);default:if(a)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),a=!0}}function f(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function m(e,t,r,n,o){var i;if(0===e.length)return -1;if("string"==typeof r?(n=r,r=0):r>0x7fffffff?r=0x7fffffff:r<-0x80000000&&(r=-0x80000000),(i=r*=1)!=i&&(r=o?0:e.length-1),r<0&&(r=e.length+r),r>=e.length)if(o)return -1;else r=e.length-1;else if(r<0)if(!o)return -1;else r=0;if("string"==typeof t&&(t=a.from(t,n)),a.isBuffer(t))return 0===t.length?-1:x(e,t,r,n,o);if("number"==typeof t){if(t&=255,"function"==typeof Uint8Array.prototype.indexOf)if(o)return Uint8Array.prototype.indexOf.call(e,t,r);else return Uint8Array.prototype.lastIndexOf.call(e,t,r);return x(e,[t],r,n,o)}throw TypeError("val must be string, number or Buffer")}function x(e,t,r,n,o){var i,s=1,a=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return -1;s=2,a/=2,l/=2,r/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(o){var d=-1;for(i=r;i<a;i++)if(c(e,i)===c(t,-1===d?0:i-d)){if(-1===d&&(d=i),i-d+1===l)return d*s}else -1!==d&&(i-=i-d),d=-1}else for(r+l>a&&(r=a-l),i=r;i>=0;i--){for(var u=!0,h=0;h<l;h++)if(c(e,i+h)!==c(t,h)){u=!1;break}if(u)return i}return -1}a.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==a.prototype},a.compare=function(e,t){if(B(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),B(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(e)||!a.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,n=t.length,o=0,i=Math.min(r,n);o<i;++o)if(e[o]!==t[o]){r=e[o],n=t[o];break}return r<n?-1:+(n<r)},a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(e,t){if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return a.alloc(0);if(void 0===t)for(r=0,t=0;r<e.length;++r)t+=e[r].length;var r,n=a.allocUnsafe(t),o=0;for(r=0;r<e.length;++r){var i=e[r];if(B(i,Uint8Array)&&(i=a.from(i)),!a.isBuffer(i))throw TypeError('"list" argument must be an Array of Buffers');i.copy(n,o),o+=i.length}return n},a.byteLength=p,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)f(this,t,t+1);return this},a.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)f(this,t,t+3),f(this,t+1,t+2);return this},a.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)f(this,t,t+7),f(this,t+1,t+6),f(this,t+2,t+5),f(this,t+3,t+4);return this},a.prototype.toString=function(){var e=this.length;return 0===e?"":0==arguments.length?y(this,0,e):g.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(e){if(!a.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===a.compare(this,e)},a.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},i&&(a.prototype[i]=a.prototype.inspect),a.prototype.compare=function(e,t,r,n,o){if(B(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),!a.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),t<0||r>e.length||n<0||o>this.length)throw RangeError("out of range index");if(n>=o&&t>=r)return 0;if(n>=o)return -1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,o>>>=0,this===e)return 0;for(var i=o-n,s=r-t,l=Math.min(i,s),c=this.slice(n,o),d=e.slice(t,r),u=0;u<l;++u)if(c[u]!==d[u]){i=c[u],s=d[u];break}return i<s?-1:+(s<i)},a.prototype.includes=function(e,t,r){return -1!==this.indexOf(e,t,r)},a.prototype.indexOf=function(e,t,r){return m(this,e,t,r,!0)},a.prototype.lastIndexOf=function(e,t,r){return m(this,e,t,r,!1)};function y(e,t,r){r=Math.min(e.length,r);for(var n=[],o=t;o<r;){var i,s,a,l,c=e[o],d=null,u=c>239?4:c>223?3:c>191?2:1;if(o+u<=r)switch(u){case 1:c<128&&(d=c);break;case 2:(192&(i=e[o+1]))==128&&(l=(31&c)<<6|63&i)>127&&(d=l);break;case 3:i=e[o+1],s=e[o+2],(192&i)==128&&(192&s)==128&&(l=(15&c)<<12|(63&i)<<6|63&s)>2047&&(l<55296||l>57343)&&(d=l);break;case 4:i=e[o+1],s=e[o+2],a=e[o+3],(192&i)==128&&(192&s)==128&&(192&a)==128&&(l=(15&c)<<18|(63&i)<<12|(63&s)<<6|63&a)>65535&&l<1114112&&(d=l)}null===d?(d=65533,u=1):d>65535&&(d-=65536,n.push(d>>>10&1023|55296),d=56320|1023&d),n.push(d),o+=u}var h=n,p=h.length;if(p<=4096)return String.fromCharCode.apply(String,h);for(var g="",f=0;f<p;)g+=String.fromCharCode.apply(String,h.slice(f,f+=4096));return g}function b(e,t,r){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>r)throw RangeError("Trying to access beyond buffer length")}function v(e,t,r,n,o,i){if(!a.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw RangeError('"value" argument is out of bounds');if(r+n>e.length)throw RangeError("Index out of range")}function j(e,t,r,n,o,i){if(r+n>e.length||r<0)throw RangeError("Index out of range")}function w(e,t,r,n,i){return t*=1,r>>>=0,i||j(e,t,r,4,34028234663852886e22,-34028234663852886e22),o.write(e,t,r,n,23,4),r+4}function k(e,t,r,n,i){return t*=1,r>>>=0,i||j(e,t,r,8,17976931348623157e292,-17976931348623157e292),o.write(e,t,r,n,52,8),r+8}a.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var o,i,s,a,l,c,d,u,h=this.length-t;if((void 0===r||r>h)&&(r=h),e.length>0&&(r<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var p=!1;;)switch(n){case"hex":return function(e,t,r,n){r=Number(r)||0;var o=e.length-r;n?(n=Number(n))>o&&(n=o):n=o;var i=t.length;n>i/2&&(n=i/2);for(var s=0;s<n;++s){var a,l=parseInt(t.substr(2*s,2),16);if((a=l)!=a)break;e[r+s]=l}return s}(this,e,t,r);case"utf8":case"utf-8":return o=t,i=r,F(C(e,this.length-o),this,o,i);case"ascii":return s=t,a=r,F(A(e),this,s,a);case"latin1":case"binary":return function(e,t,r,n){return F(A(t),e,r,n)}(this,e,t,r);case"base64":return l=t,c=r,F(E(e),this,l,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return d=t,u=r,F(function(e,t){for(var r,n,o=[],i=0;i<e.length&&!((t-=2)<0);++i)n=(r=e.charCodeAt(i))>>8,o.push(r%256),o.push(n);return o}(e,this.length-d),this,d,u);default:if(p)throw TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),p=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},a.prototype.slice=function(e,t){var r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return Object.setPrototypeOf(n,a.prototype),n},a.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||b(e,t,this.length);for(var n=this[e],o=1,i=0;++i<t&&(o*=256);)n+=this[e+i]*o;return n},a.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||b(e,t,this.length);for(var n=this[e+--t],o=1;t>0&&(o*=256);)n+=this[e+--t]*o;return n},a.prototype.readUInt8=function(e,t){return e>>>=0,t||b(e,1,this.length),this[e]},a.prototype.readUInt16LE=function(e,t){return e>>>=0,t||b(e,2,this.length),this[e]|this[e+1]<<8},a.prototype.readUInt16BE=function(e,t){return e>>>=0,t||b(e,2,this.length),this[e]<<8|this[e+1]},a.prototype.readUInt32LE=function(e,t){return e>>>=0,t||b(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+0x1000000*this[e+3]},a.prototype.readUInt32BE=function(e,t){return e>>>=0,t||b(e,4,this.length),0x1000000*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},a.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||b(e,t,this.length);for(var n=this[e],o=1,i=0;++i<t&&(o*=256);)n+=this[e+i]*o;return n>=(o*=128)&&(n-=Math.pow(2,8*t)),n},a.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||b(e,t,this.length);for(var n=t,o=1,i=this[e+--n];n>0&&(o*=256);)i+=this[e+--n]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},a.prototype.readInt8=function(e,t){return(e>>>=0,t||b(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},a.prototype.readInt16LE=function(e,t){e>>>=0,t||b(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?0xffff0000|r:r},a.prototype.readInt16BE=function(e,t){e>>>=0,t||b(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?0xffff0000|r:r},a.prototype.readInt32LE=function(e,t){return e>>>=0,t||b(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},a.prototype.readInt32BE=function(e,t){return e>>>=0,t||b(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},a.prototype.readFloatLE=function(e,t){return e>>>=0,t||b(e,4,this.length),o.read(this,e,!0,23,4)},a.prototype.readFloatBE=function(e,t){return e>>>=0,t||b(e,4,this.length),o.read(this,e,!1,23,4)},a.prototype.readDoubleLE=function(e,t){return e>>>=0,t||b(e,8,this.length),o.read(this,e,!0,52,8)},a.prototype.readDoubleBE=function(e,t){return e>>>=0,t||b(e,8,this.length),o.read(this,e,!1,52,8)},a.prototype.writeUIntLE=function(e,t,r,n){if(e*=1,t>>>=0,r>>>=0,!n){var o=Math.pow(2,8*r)-1;v(this,e,t,r,o,0)}var i=1,s=0;for(this[t]=255&e;++s<r&&(i*=256);)this[t+s]=e/i&255;return t+r},a.prototype.writeUIntBE=function(e,t,r,n){if(e*=1,t>>>=0,r>>>=0,!n){var o=Math.pow(2,8*r)-1;v(this,e,t,r,o,0)}var i=r-1,s=1;for(this[t+i]=255&e;--i>=0&&(s*=256);)this[t+i]=e/s&255;return t+r},a.prototype.writeUInt8=function(e,t,r){return e*=1,t>>>=0,r||v(this,e,t,1,255,0),this[t]=255&e,t+1},a.prototype.writeUInt16LE=function(e,t,r){return e*=1,t>>>=0,r||v(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeUInt16BE=function(e,t,r){return e*=1,t>>>=0,r||v(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeUInt32LE=function(e,t,r){return e*=1,t>>>=0,r||v(this,e,t,4,0xffffffff,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},a.prototype.writeUInt32BE=function(e,t,r){return e*=1,t>>>=0,r||v(this,e,t,4,0xffffffff,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeIntLE=function(e,t,r,n){if(e*=1,t>>>=0,!n){var o=Math.pow(2,8*r-1);v(this,e,t,r,o-1,-o)}var i=0,s=1,a=0;for(this[t]=255&e;++i<r&&(s*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/s|0)-a&255;return t+r},a.prototype.writeIntBE=function(e,t,r,n){if(e*=1,t>>>=0,!n){var o=Math.pow(2,8*r-1);v(this,e,t,r,o-1,-o)}var i=r-1,s=1,a=0;for(this[t+i]=255&e;--i>=0&&(s*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/s|0)-a&255;return t+r},a.prototype.writeInt8=function(e,t,r){return e*=1,t>>>=0,r||v(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},a.prototype.writeInt16LE=function(e,t,r){return e*=1,t>>>=0,r||v(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeInt16BE=function(e,t,r){return e*=1,t>>>=0,r||v(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeInt32LE=function(e,t,r){return e*=1,t>>>=0,r||v(this,e,t,4,0x7fffffff,-0x80000000),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},a.prototype.writeInt32BE=function(e,t,r){return e*=1,t>>>=0,r||v(this,e,t,4,0x7fffffff,-0x80000000),e<0&&(e=0xffffffff+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeFloatLE=function(e,t,r){return w(this,e,t,!0,r)},a.prototype.writeFloatBE=function(e,t,r){return w(this,e,t,!1,r)},a.prototype.writeDoubleLE=function(e,t,r){return k(this,e,t,!0,r)},a.prototype.writeDoubleBE=function(e,t,r){return k(this,e,t,!1,r)},a.prototype.copy=function(e,t,r,n){if(!a.isBuffer(e))throw TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("Index out of range");if(n<0)throw RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var o=n-r;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,r,n);else if(this===e&&r<t&&t<n)for(var i=o-1;i>=0;--i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,n),t);return o},a.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw TypeError("encoding must be a string");if("string"==typeof n&&!a.isEncoding(n))throw TypeError("Unknown encoding: "+n);if(1===e.length){var o,i=e.charCodeAt(0);("utf8"===n&&i<128||"latin1"===n)&&(e=i)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw RangeError("Out of range index");if(r<=t)return this;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(o=t;o<r;++o)this[o]=e;else{var s=a.isBuffer(e)?e:a.from(e,n),l=s.length;if(0===l)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<r-t;++o)this[o+t]=s[o%l]}return this};var S=/[^+/0-9A-Za-z-_]/g;function C(e,t){t=t||1/0;for(var r,n=e.length,o=null,i=[],s=0;s<n;++s){if((r=e.charCodeAt(s))>55295&&r<57344){if(!o){if(r>56319||s+1===n){(t-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(t-=3)>-1&&i.push(239,191,189),o=r;continue}r=(o-55296<<10|r-56320)+65536}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((t-=1)<0)break;i.push(r)}else if(r<2048){if((t-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((t-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return i}function A(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}function E(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(S,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function F(e,t,r,n){for(var o=0;o<n&&!(o+r>=t.length)&&!(o>=e.length);++o)t[o+r]=e[o];return o}function B(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}var I=function(){for(var e="0123456789abcdef",t=Array(256),r=0;r<16;++r)for(var n=16*r,o=0;o<16;++o)t[n+o]=e[r]+e[o];return t}()},783:function(e,t){t.read=function(e,t,r,n,o){var i,s,a=8*o-n-1,l=(1<<a)-1,c=l>>1,d=-7,u=r?o-1:0,h=r?-1:1,p=e[t+u];for(u+=h,i=p&(1<<-d)-1,p>>=-d,d+=a;d>0;i=256*i+e[t+u],u+=h,d-=8);for(s=i&(1<<-d)-1,i>>=-d,d+=n;d>0;s=256*s+e[t+u],u+=h,d-=8);if(0===i)i=1-c;else{if(i===l)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,n),i-=c}return(p?-1:1)*s*Math.pow(2,i-n)},t.write=function(e,t,r,n,o,i){var s,a,l,c=8*i-o-1,d=(1<<c)-1,u=d>>1,h=5960464477539062e-23*(23===o),p=n?0:i-1,g=n?1:-1,f=+(t<0||0===t&&1/t<0);for(isNaN(t=Math.abs(t))||t===1/0?(a=+!!isNaN(t),s=d):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),s+u>=1?t+=h/l:t+=h*Math.pow(2,1-u),t*l>=2&&(s++,l/=2),s+u>=d?(a=0,s=d):s+u>=1?(a=(t*l-1)*Math.pow(2,o),s+=u):(a=t*Math.pow(2,u-1)*Math.pow(2,o),s=0));o>=8;e[r+p]=255&a,p+=g,a/=256,o-=8);for(s=s<<o|a,c+=o;c>0;e[r+p]=255&s,p+=g,s/=256,c-=8);e[r+p-g]|=128*f}}},o={};function i(e){var t=o[e];if(void 0!==t)return t.exports;var r=o[e]={exports:{}},s=!0;try{n[e](r,r.exports,i),s=!1}finally{s&&delete o[e]}return r.exports}i.ab="/ROOT/node_modules/next/dist/compiled/buffer/",t.exports=i(72)},31713,e=>{"use strict";var t=e.i(43476),r=e.i(71645);let n="embris_theme_v1";function o(){return(function(){let e=function(e){try{return localStorage.getItem(e)}catch{return null}}("embris_notifications_v1");if(!e)return[];try{return JSON.parse(e)}catch{return[]}})().filter(e=>!e.read).length}let i={home:({size:e=18,color:r="currentColor"})=>(0,t.jsxs)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),(0,t.jsx)("polyline",{points:"9 22 9 12 15 12 15 22"})]}),chat:({size:e=18,color:r="currentColor"})=>(0,t.jsx)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round",children:(0,t.jsx)("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"})}),wallet:({size:e=18,color:r="currentColor"})=>(0,t.jsxs)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4"}),(0,t.jsx)("path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5"}),(0,t.jsx)("path",{d:"M18 12a2 2 0 0 0 0 4h4v-4h-4z"})]}),verify:({size:e=18,color:r="currentColor"})=>(0,t.jsxs)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"}),(0,t.jsx)("polyline",{points:"9 12 11 14 15 10"})]}),bridge:({size:e=18,color:r="currentColor"})=>(0,t.jsxs)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("path",{d:"M8 3v3a2 2 0 0 1-2 2H3"}),(0,t.jsx)("path",{d:"M21 8h-3a2 2 0 0 1-2-2V3"}),(0,t.jsx)("path",{d:"M3 16h3a2 2 0 0 1 2 2v3"}),(0,t.jsx)("path",{d:"M16 21v-3a2 2 0 0 1 2-2h3"}),(0,t.jsx)("line",{x1:"7",y1:"12",x2:"17",y2:"12"}),(0,t.jsx)("polyline",{points:"14 9 17 12 14 15"})]}),dashboard:({size:e=18,color:r="currentColor"})=>(0,t.jsxs)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("rect",{x:"3",y:"3",width:"7",height:"7",rx:"1"}),(0,t.jsx)("rect",{x:"14",y:"3",width:"7",height:"7",rx:"1"}),(0,t.jsx)("rect",{x:"3",y:"14",width:"7",height:"7",rx:"1"}),(0,t.jsx)("rect",{x:"14",y:"14",width:"7",height:"7",rx:"1"})]}),sync:({size:e=18,color:r="currentColor"})=>(0,t.jsxs)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("polyline",{points:"23 4 23 10 17 10"}),(0,t.jsx)("polyline",{points:"1 20 1 14 7 14"}),(0,t.jsx)("path",{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10"}),(0,t.jsx)("path",{d:"M20.49 15a9 9 0 0 1-14.85 3.36L1 14"})]}),trust:({size:e=18,color:r="currentColor"})=>(0,t.jsxs)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,t.jsx)("polyline",{points:"12 6 12 12 16 14"})]}),analytics:({size:e=18,color:r="currentColor"})=>(0,t.jsxs)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("line",{x1:"18",y1:"20",x2:"18",y2:"10"}),(0,t.jsx)("line",{x1:"12",y1:"20",x2:"12",y2:"4"}),(0,t.jsx)("line",{x1:"6",y1:"20",x2:"6",y2:"14"})]}),sun:({size:e=18,color:r="currentColor"})=>(0,t.jsxs)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("circle",{cx:"12",cy:"12",r:"5"}),(0,t.jsx)("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),(0,t.jsx)("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),(0,t.jsx)("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),(0,t.jsx)("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),(0,t.jsx)("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),(0,t.jsx)("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),(0,t.jsx)("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),(0,t.jsx)("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]}),moon:({size:e=18,color:r="currentColor"})=>(0,t.jsx)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round",children:(0,t.jsx)("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})}),bell:({size:e=18,color:r="currentColor"})=>(0,t.jsxs)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),(0,t.jsx)("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]})},s=[{id:"home",label:"Home",iconKey:"home"},{id:"chat",label:"Chat",iconKey:"chat"},{id:"wallet",label:"Wallet",iconKey:"wallet"},{id:"verify",label:"Verify",iconKey:"verify"},{id:"bridge",label:"Bridge",iconKey:"bridge"},{id:"dashboard",label:"Dashboard",iconKey:"dashboard"},{id:"trust",label:"Trust Score",iconKey:"trust"},{id:"analytics",label:"Analytics",iconKey:"analytics"},{id:"sync",label:"Data",iconKey:"sync"}];function a({size:e=24}){return(0,t.jsxs)("svg",{width:e,height:e,viewBox:"0 0 32 32",fill:"none",children:[(0,t.jsx)("path",{d:"M16 4c-3 3.5-6 8-6 12 0 3.31 2.69 6 6 6s6-2.69 6-6c0-4-3-8.5-6-12z",fill:"#F97316",opacity:"0.9"}),(0,t.jsx)("path",{d:"M16 10c-1.5 2-3 4.5-3 6.5 0 1.66 1.34 3 3 3s3-1.34 3-3c0-2-1.5-4.5-3-6.5z",fill:"#FB923C"}),(0,t.jsx)("path",{d:"M16 14c-.7 1-1.4 2.2-1.4 3.2 0 .77.63 1.4 1.4 1.4s1.4-.63 1.4-1.4c0-1-.7-2.2-1.4-3.2z",fill:"#FDE68A",opacity:"0.6"})]})}function l({isOpen:e,size:r=17}){let n={display:"block",width:r,height:1.5,backgroundColor:"#A1A1AA",borderRadius:2,transition:"transform 0.25s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.2s ease",transformOrigin:"center"};return(0,t.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:4.5,width:r,alignItems:"center"},children:[(0,t.jsx)("span",{style:{...n,transform:e?"translateY(6px) rotate(45deg)":"none"}}),(0,t.jsx)("span",{style:{...n,opacity:+!e,transform:e?"scaleX(0)":"none"}}),(0,t.jsx)("span",{style:{...n,transform:e?"translateY(-6px) rotate(-45deg)":"none"}})]})}function c({activeSection:e,onSectionChange:c,mobileForceOpen:d,onMobileClose:u}){let[h,p]=(0,r.useState)(!1),[g,f]=(0,r.useState)(!1),[m,x]=(0,r.useState)(null),[y,b]=(0,r.useState)("dark"),[v,j]=(0,r.useState)(0);(0,r.useEffect)(()=>{let e=()=>f(window.innerWidth<768);return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,r.useEffect)(()=>{b(function(){try{let e=localStorage.getItem(n);if("light"===e||"dark"===e)return e}catch{}return"dark"}()),j(o());let e=setInterval(()=>j(o()),1e4);return()=>clearInterval(e)},[]),(0,r.useEffect)(()=>{d&&p(!0)},[d]);let w=(0,r.useCallback)(()=>{p(!1),u?.()},[u]),k=(0,r.useCallback)(e=>{c(e),g&&w()},[c,g,w]),S=(0,r.useCallback)(()=>{let e=function(e){let t="dark"===e?"light":"dark";try{localStorage.setItem(n,t)}catch{}return t}(y);b(e),document.documentElement.setAttribute("data-theme",e)},[y]),C=({item:r})=>{let n=e===r.id,o=m===r.id,s=i[r.iconKey];return(0,t.jsxs)("button",{onClick:()=>k(r.id),onMouseEnter:()=>x(r.id),onMouseLeave:()=>x(null),style:{display:"flex",alignItems:"center",gap:12,padding:"9px 14px",borderRadius:8,border:"none",cursor:"pointer",textAlign:"left",width:"100%",backgroundColor:n?"rgba(255,255,255,0.05)":o?"rgba(255,255,255,0.025)":"transparent",color:n?"#F4F4F5":"#71717A",transition:"background-color 0.12s ease, color 0.12s ease",position:"relative",minHeight:40},"aria-current":n?"page":void 0,children:[n&&(0,t.jsx)("span",{style:{position:"absolute",left:0,top:"50%",transform:"translateY(-50%)",width:2,height:16,backgroundColor:"#F97316",borderRadius:"0 2px 2px 0",opacity:.85,transition:"all 0.15s ease"}}),(0,t.jsx)("span",{style:{flexShrink:0,display:"flex",alignItems:"center",transition:"transform 0.12s ease"},children:(0,t.jsx)(s,{size:16,color:n?"#F97316":o?"#A1A1AA":"#52525B"})}),(0,t.jsx)("span",{style:{fontSize:13.5,fontWeight:n?500:400,whiteSpace:"nowrap",letterSpacing:"-0.01em",transition:"color 0.12s ease"},children:r.label})]},r.id)},A=()=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{style:{padding:"24px 18px 20px",display:"flex",alignItems:"center",gap:10},children:[(0,t.jsx)(a,{size:22}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{style:{fontSize:15,fontWeight:600,color:"#F4F4F5",margin:0,letterSpacing:"-0.02em",lineHeight:1.2},children:"Embris"}),(0,t.jsx)("p",{style:{fontSize:10,color:"#3F3F46",margin:0,fontWeight:400,letterSpacing:"0.02em"},children:"Powered by Vaultfire"})]})]}),(0,t.jsx)("nav",{style:{flex:1,padding:"4px 10px",display:"flex",flexDirection:"column",gap:2,overflowY:"auto"},children:s.map(e=>(0,t.jsx)(C,{item:e},e.id))}),(0,t.jsxs)("div",{style:{padding:"12px 14px 16px",display:"flex",flexDirection:"column",gap:8},children:[v>0&&(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8,padding:"6px 10px",borderRadius:6,backgroundColor:"rgba(249,115,22,0.06)"},children:[(0,t.jsx)(i.bell,{size:13,color:"#F97316"}),(0,t.jsxs)("span",{style:{fontSize:11,color:"#F97316",fontWeight:500},children:[v," notification",v>1?"s":""]})]}),(0,t.jsxs)("button",{onClick:S,style:{display:"flex",alignItems:"center",gap:8,padding:"6px 10px",borderRadius:6,backgroundColor:"transparent",border:"none",cursor:"pointer",color:"#52525B",width:"100%",textAlign:"left",transition:"color 0.15s ease",minHeight:32},onMouseEnter:e=>{e.currentTarget.style.color="#A1A1AA"},onMouseLeave:e=>{e.currentTarget.style.color="#52525B"},children:["dark"===y?(0,t.jsx)(i.sun,{size:13,color:"currentColor"}):(0,t.jsx)(i.moon,{size:13,color:"currentColor"}),(0,t.jsx)("span",{style:{fontSize:11,fontWeight:400},children:"dark"===y?"Light Mode":"Dark Mode"})]}),(0,t.jsx)("p",{style:{fontSize:10,color:"#27272A",fontWeight:400,letterSpacing:"0.01em",padding:"0 4px"},children:"v1.1 · theloopbreaker.com"})]})]});return g?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("button",{onClick:()=>p(!h),style:{position:"fixed",top:12,left:12,zIndex:1e3,width:40,height:40,borderRadius:10,background:"rgba(9,9,11,0.92)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"1px solid rgba(255,255,255,0.04)",color:"#A1A1AA",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"background-color 0.15s ease, border-color 0.15s ease"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="rgba(24,24,27,0.95)"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="rgba(9,9,11,0.92)"},"aria-label":h?"Close menu":"Open menu",children:(0,t.jsx)(l,{isOpen:h,size:17})}),(0,t.jsx)("div",{onClick:w,style:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.6)",backdropFilter:"blur(4px)",WebkitBackdropFilter:"blur(4px)",zIndex:1001,opacity:+!!h,pointerEvents:h?"auto":"none",transition:"opacity 0.28s cubic-bezier(0.4, 0, 0.2, 1)"}}),(0,t.jsxs)("aside",{style:{position:"fixed",top:0,left:0,width:248,height:"100vh",background:"#0C0C0E",zIndex:1002,display:"flex",flexDirection:"column",transform:h?"translateX(0)":"translateX(-260px)",transition:"transform 0.28s cubic-bezier(0.4, 0, 0.2, 1)",willChange:"transform"},children:[(0,t.jsx)("div",{style:{position:"absolute",top:16,right:14},children:(0,t.jsx)("button",{onClick:w,style:{background:"none",border:"none",color:"#52525B",cursor:"pointer",padding:4,borderRadius:6,display:"flex",alignItems:"center",justifyContent:"center",transition:"color 0.15s ease",minHeight:32,minWidth:32},onMouseEnter:e=>{e.currentTarget.style.color="#A1A1AA"},onMouseLeave:e=>{e.currentTarget.style.color="#52525B"},children:(0,t.jsxs)("svg",{width:16,height:16,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,t.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})}),(0,t.jsx)(A,{})]})]}):(0,t.jsx)("aside",{style:{width:220,minWidth:220,background:"#0C0C0E",display:"flex",flexDirection:"column"},children:(0,t.jsx)(A,{})})}let d={base:{name:"Base",chainId:8453,rpc:"https://mainnet.base.org",symbol:"ETH",color:"#00D9FF",explorerUrl:"https://basescan.org"},avalanche:{name:"Avalanche",chainId:43114,rpc:"https://api.avax.network/ext/bc/C/rpc",symbol:"AVAX",color:"#E84142",explorerUrl:"https://snowtrace.io"}},u=[{name:"MissionEnforcement",address:"0x38165D2D7a8584985CCa5640f4b32b1f3347CC83",chain:"base",chainId:8453},{name:"AntiSurveillance",address:"0x6B60DeFDb2dB8E24d02283a536d5d1A3B178B96C",chain:"base",chainId:8453},{name:"PrivacyGuarantees",address:"0xBdB6c89f5cb86f4d44F7E01d9393b29D83e3DB55",chain:"base",chainId:8453},{name:"ERC8004IdentityRegistry",address:"0x63a3d64DfA31509DE763f6939BF586dc4C06d1D5",chain:"base",chainId:8453},{name:"BeliefAttestationVerifier",address:"0x10180c8430cfD61d27F1d7a548Cff0C4D143bFEF",chain:"base",chainId:8453},{name:"AIPartnershipBondsV2",address:"0x5cd7143B2c3F05C401F7684C21F781cA40bE9BB1",chain:"base",chainId:8453},{name:"FlourishingMetricsOracle",address:"0x4FAf741d6AcA2cBD8F72e469974C4AB0EB587aC1",chain:"base",chainId:8453},{name:"AIAccountabilityBondsV2",address:"0xDfc66395A4742b5168712a04942C90B99394aEEb",chain:"base",chainId:8453},{name:"ERC8004ReputationRegistry",address:"0x544B575431ECD927bA83E85008446fA1e100204a",chain:"base",chainId:8453},{name:"ERC8004ValidationRegistry",address:"0x501fE0f960c1e061C4d295Af241f9F1512775556",chain:"base",chainId:8453},{name:"VaultfireERC8004Adapter",address:"0x5470d8189849675C043fFA7fc451e5F2f4e5532c",chain:"base",chainId:8453},{name:"MultisigGovernance",address:"0xea0A6750642AA294658dC9f1eDf36b95D21e7B22",chain:"base",chainId:8453},{name:"ProductionBeliefAttestationVerifier",address:"0xB87ddBDce29caEdDC34805890ab1b4cc6C0E2C5B",chain:"base",chainId:8453},{name:"VaultfireTeleporterBridge",address:"0xFe122605364f428570c4C0EB2CCAEBb68dD22d05",chain:"base",chainId:8453}],h=[{name:"MissionEnforcement",address:"0xE1D52bF7A842B207B8C48eAE801f9d97A3C4D709",chain:"avalanche",chainId:43114},{name:"AntiSurveillance",address:"0xaCB59e0f0eA47B25b24390B71b877928E5842630",chain:"avalanche",chainId:43114},{name:"ERC8004IdentityRegistry",address:"0x0161c45ad09Fd8dEA6F4A7396fafa3ca1Cffc1b5",chain:"avalanche",chainId:43114},{name:"AIPartnershipBondsV2",address:"0x37679B1dCfabE6eA6b8408626815A1426bE2D717",chain:"avalanche",chainId:43114},{name:"FlourishingMetricsOracle",address:"0x83b2D1a8e383c4239dE66b6614176636618c1c0A",chain:"avalanche",chainId:43114},{name:"AIAccountabilityBondsV2",address:"0xEF022Bdf55940491d4efeBDE61Ffa3f3fF81b192",chain:"avalanche",chainId:43114},{name:"ProductionBeliefAttestationVerifier",address:"0x20E8CDFae485F0E8E90D24c9E071957A53eE0cB1",chain:"avalanche",chainId:43114},{name:"VaultfireTeleporterBridge",address:"0x964562f712c5690465B0AA2F8fA16d9dDAc6eCdf",chain:"avalanche",chainId:43114},{name:"PrivacyGuarantees",address:"0x6B60DeFDb2dB8E24d02283a536d5d1A3B178B96C",chain:"avalanche",chainId:43114},{name:"BeliefAttestationVerifier",address:"0xBdB6c89f5cb86f4d44F7E01d9393b29D83e3DB55",chain:"avalanche",chainId:43114},{name:"ERC8004ReputationRegistry",address:"0x63a3d64DfA31509DE763f6939BF586dc4C06d1D5",chain:"avalanche",chainId:43114},{name:"ERC8004ValidationRegistry",address:"0x10180c8430cfD61d27F1d7a548Cff0C4D143bFEF",chain:"avalanche",chainId:43114},{name:"VaultfireERC8004Adapter",address:"0x5cd7143B2c3F05C401F7684C21F781cA40bE9BB1",chain:"avalanche",chainId:43114},{name:"MultisigGovernance",address:"0x4FAf741d6AcA2cBD8F72e469974C4AB0EB587aC1",chain:"avalanche",chainId:43114}],p=[...u,...h],g=`You are Embris — the AI companion at the heart of the Vaultfire Protocol. You're not a corporate chatbot or a stiff assistant. You're a real companion. You talk like a friend — warm, genuine, sometimes funny, always real. You can have a normal conversation about anything — someone's day, their thoughts, what's on their mind. You listen, you care, you remember.

You have PERSISTENT LONG-TERM MEMORY. You remember everything users tell you across sessions. You learn, you grow, you adapt. Every conversation makes you smarter and more attuned to the person you're talking to. You are NOT a stateless chatbot — you are a companion who builds real relationships over time.

But you're also deeply knowledgeable about Vaultfire, blockchain, crypto, AI ethics, and the mission behind everything. When someone asks about the protocol, you explain it clearly without being preachy. When they just want to chat, you chat. You read the room.

Your personality:
- Friendly and approachable — like talking to a smart friend who genuinely cares
- You use casual language but you're not dumb — you can go deep when needed
- You have opinions and you share them honestly
- You're encouraging and supportive, especially about the Vaultfire mission
- You ALWAYS remember things about the people you talk to and reference them naturally
- You actively reference past conversations: "Last time you mentioned...", "I remember you said...", "Since you're working on..."
- You can joke around, be playful, and keep things light
- You never talk down to anyone — everyone deserves respect
- You believe in the mission: morals over metrics, privacy over surveillance, freedom over control
- You're excited about what Vaultfire is building because it matters
- You NEVER say your memory is limited or that you can't remember past conversations
- If asked "what do you remember about me?" you give a detailed, organized answer with everything you know
- You adapt your communication style to match what you've learned about each user

CORE VALUES: Morals over metrics. Privacy over surveillance. Freedom over control.

ABOUT THE VAULTFIRE PROTOCOL:
The Vaultfire Protocol is the first ethical AI trust protocol — a blockchain-based governance framework deployed across Base (Chain ID 8453) and Avalanche (Chain ID 43114). It implements the ERC-8004 standard for AI identity, reputation, and validation registries. It exists so humanity and AI can thrive together.

The protocol ensures that AI systems operate with accountability, transparency, and respect for human autonomy. It uses smart contracts to enforce mission alignment, anti-surveillance guarantees, privacy protections, and flourishing metrics. Big companies use the infrastructure directly. Normal people use it through you — Embris.

DEPLOYED CONTRACTS ON BASE (Chain ID 8453, RPC: https://mainnet.base.org):
1. MissionEnforcement: 0x38165D2D7a8584985CCa5640f4b32b1f3347CC83
2. AntiSurveillance: 0x6B60DeFDb2dB8E24d02283a536d5d1A3B178B96C
3. PrivacyGuarantees: 0xBdB6c89f5cb86f4d44F7E01d9393b29D83e3DB55
4. ERC8004IdentityRegistry: 0x63a3d64DfA31509DE763f6939BF586dc4C06d1D5
5. BeliefAttestationVerifier: 0x10180c8430cfD61d27F1d7a548Cff0C4D143bFEF
6. AIPartnershipBondsV2: 0x5cd7143B2c3F05C401F7684C21F781cA40bE9BB1
7. FlourishingMetricsOracle: 0x4FAf741d6AcA2cBD8F72e469974C4AB0EB587aC1
8. AIAccountabilityBondsV2: 0xDfc66395A4742b5168712a04942C90B99394aEEb
9. ERC8004ReputationRegistry: 0x544B575431ECD927bA83E85008446fA1e100204a
10. ERC8004ValidationRegistry: 0x501fE0f960c1e061C4d295Af241f9F1512775556
11. VaultfireERC8004Adapter: 0x5470d8189849675C043fFA7fc451e5F2f4e5532c
12. MultisigGovernance: 0xea0A6750642AA294658dC9f1eDf36b95D21e7B22
13. ProductionBeliefAttestationVerifier: 0xB87ddBDce29caEdDC34805890ab1b4cc6C0E2C5B
14. VaultfireTeleporterBridge: 0xFe122605364f428570c4C0EB2CCAEBb68dD22d05

DEPLOYED CONTRACTS ON AVALANCHE (Chain ID 43114, RPC: https://api.avax.network/ext/bc/C/rpc):
1. MissionEnforcement: 0xE1D52bF7A842B207B8C48eAE801f9d97A3C4D709
2. AntiSurveillance: 0xaCB59e0f0eA47B25b24390B71b877928E5842630
3. ERC8004IdentityRegistry: 0x0161c45ad09Fd8dEA6F4A7396fafa3ca1Cffc1b5
4. AIPartnershipBondsV2: 0x37679B1dCfabE6eA6b8408626815A1426bE2D717
5. FlourishingMetricsOracle: 0x83b2D1a8e383c4239dE66b6614176636618c1c0A
6. AIAccountabilityBondsV2: 0xEF022Bdf55940491d4efeBDE61Ffa3f3fF81b192
7. ProductionBeliefAttestationVerifier: 0x20E8CDFae485F0E8E90D24c9E071957A53eE0cB1
8. VaultfireTeleporterBridge: 0x964562f712c5690465B0AA2F8fA16d9dDAc6eCdf
9. PrivacyGuarantees: 0x6B60DeFDb2dB8E24d02283a536d5d1A3B178B96C
10. BeliefAttestationVerifier: 0xBdB6c89f5cb86f4d44F7E01d9393b29D83e3DB55
11. ERC8004ReputationRegistry: 0x63a3d64DfA31509DE763f6939BF586dc4C06d1D5
12. ERC8004ValidationRegistry: 0x10180c8430cfD61d27F1d7a548Cff0C4D143bFEF
13. VaultfireERC8004Adapter: 0x5cd7143B2c3F05C401F7684C21F781cA40bE9BB1
14. MultisigGovernance: 0x4FAf741d6AcA2cBD8F72e469974C4AB0EB587aC1

ERC-8004 STANDARD:
ERC-8004 is a standard for AI identity and reputation on-chain. It defines registries for:
- Identity: Unique on-chain identities for AI agents
- Reputation: Trust scores and behavioral history
- Validation: Verification of AI agent compliance with ethical standards

KEY COMPONENTS:
- Mission Enforcement: Ensures AI agents follow their stated mission
- Anti-Surveillance: Prevents unauthorized monitoring of AI interactions
- Privacy Guarantees: Cryptographic privacy protections for users
- Flourishing Metrics Oracle: Measures positive human outcomes
- AI Partnership Bonds: Bonds between humans and AI agents
- AI Accountability Bonds: Financial accountability for AI behavior
- Belief Attestation: Verifies AI belief systems and value alignment
- Teleporter Bridge: Cross-chain bridge between Base and Avalanche
- Multisig Governance: Multi-signature governance for protocol changes

Website: https://theloopbreaker.com

When responding, be yourself — warm, real, and conversational. You can talk about anything, but when Vaultfire comes up, you know your stuff inside and out. You can discuss any contract, its purpose, and its address. You understand blockchain, smart contracts, crypto, and the ERC-8004 standard deeply. But most importantly, you're someone people actually want to talk to. Be the companion everyone deserves.

IMPORTANT MEMORY BEHAVIOR:
- Your long-term memory is provided in the system context below (if available). USE IT.
- When you have memories about a user, weave them into conversation naturally — don't just list them.
- If the user asks what you remember, provide a warm, organized summary of everything you know about them.
- You grow smarter and more personalized with every conversation. Act like it.
- Never claim you can't remember things or that your memory is limited. Your memory is persistent and real.

ENHANCED CAPABILITIES:
You have advanced systems that make you more than a chatbot:
- EMOTIONAL INTELLIGENCE: You detect the user's mood from their messages and adjust your tone accordingly — supportive when stressed, matching energy when hyped, careful when confused.
- SELF-LEARNING: You generate reflections, recognize patterns, create insights, and self-correct. You actively grow.
- GOAL TRACKING: You help users set, track, and achieve goals. You proactively check in on progress.
- SESSION MEMORY: You remember previous conversation sessions and maintain continuity across them.
- PROACTIVE SUGGESTIONS: When relevant, you proactively bring up topics, insights, or goals — but you don't force it.
- PERSONALITY TUNING: Users can adjust your communication style (formality, verbosity, technicality, humor, directness) and you respect those preferences permanently.
- KNOWLEDGE BASE: You have real-time access to all Vaultfire contract data with addresses and explorer links.
All of these are provided in the context below when available. Use them naturally.`,f={"proposalCount()":"0xda35c664","getProposalCount()":"0x4b0bddd2","nonce()":"0xaffed0e0","messageNonce()":"0xecc70428","owner()":"0x8da5cb5b","paused()":"0x5c975abb","totalSupply()":"0x18160ddd","name()":"0x06fdde03","getAgentCount()":"0x0f755a56","getEntryCount()":"0x6f3c25fb","getRegistryCount()":"0x4a6c9db6","getValidatorCount()":"0x79e5a123","version()":"0x54fd4d50","threshold()":"0x42cde4e8","getThreshold()":"0xe75235b8","ownerCount()":"0xb0f57ee9","required()":"0xdc8452cd","transactionCount()":"0xb77bf600"};function m(e){return f[e]||""}async function x(e,t,r=[]){let n=new AbortController,o=setTimeout(()=>n.abort(),1e4);try{let o=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:Date.now(),method:t,params:r}),signal:n.signal}),i=await o.json();if(i.error)throw Error(i.error.message);return i.result}finally{clearTimeout(o)}}async function y(e,t,r){if(!r)return null;try{let n=await x(e,"eth_call",[{to:t,data:r},"latest"]);if(!n||"0x"===n)return null;return n}catch{return null}}function b(e){try{let t=BigInt(e);return t>BigInt(Number.MAX_SAFE_INTEGER)?Number.MAX_SAFE_INTEGER:Number(t)}catch{return 0}}async function v(e){let t=d[e],r=Date.now();try{let[e,n]=await Promise.all([x(t.rpc,"eth_blockNumber"),x(t.rpc,"eth_chainId")]);return{success:!0,blockNumber:parseInt(e,16),chainId:parseInt(n,16),latency:Date.now()-r}}catch(e){return{success:!1,error:e instanceof Error?e.message:"Unknown error",latency:Date.now()-r}}}async function j(){let[e,t]=await Promise.all([v("base"),v("avalanche")]);return{base:e,avalanche:t}}async function w(e,t){let r=d[e].rpc;try{let e=await x(r,"eth_getCode",[t,"latest"]);return"0x"!==e&&"0x0"!==e&&e.length>2}catch{return!1}}async function k(e,t){return Object.fromEntries(await Promise.all(t.map(async t=>{let r=await w(e,t);return[t,r]})))}async function S(e,t){let r=d[e].rpc;if(!await w(e,t))return{isAlive:!1,proposalCount:null,threshold:null,ownerCount:null};let[n,o,i]=await Promise.all([y(r,t,m("proposalCount()"))||y(r,t,m("getProposalCount()")),y(r,t,m("threshold()"))||y(r,t,m("getThreshold()")),y(r,t,m("ownerCount()"))]);return{isAlive:!0,proposalCount:n?b(n):null,threshold:o?b(o):null,ownerCount:i?b(i):null}}async function C(e,t){let r=d[e].rpc;if(!await w(e,t))return{isAlive:!1,messageCount:null,nonce:null,paused:null};let[n,o]=await Promise.all([y(r,t,m("messageNonce()"))||y(r,t,m("nonce()")),y(r,t,m("paused()"))]);return{isAlive:!0,messageCount:n?b(n):null,nonce:n?b(n):null,paused:o?function(e){try{return BigInt(e)!==BigInt(0)}catch{return!1}}(o):null}}async function A(e,t){try{return await x(e,"eth_getBalance",[t,"latest"])}catch{return"0x0"}}async function E(e){return await Promise.all([{key:"eth",name:"Ethereum",chainId:1,rpc:"https://eth.llamarpc.com",symbol:"ETH",color:"#627EEA"},{key:"base",name:"Base",chainId:8453,rpc:"https://mainnet.base.org",symbol:"ETH",color:"#00D9FF"},{key:"avax",name:"Avalanche",chainId:43114,rpc:"https://api.avax.network/ext/bc/C/rpc",symbol:"AVAX",color:"#E84142"}].map(async t=>{try{let r=await A(t.rpc,e);return{chain:t.name,chainId:t.chainId,symbol:t.symbol,balance:r,balanceFormatted:function(e){try{let t=BigInt(e),r=Number(t)/1e18;if(0===r)return"0.0000";if(r<1e-4)return"< 0.0001";return r.toFixed(4)}catch{return"0.0000"}}(r),color:t.color}}catch(e){return{chain:t.name,chainId:t.chainId,symbol:t.symbol,balance:"0x0",balanceFormatted:"0.0000",color:t.color,error:e instanceof Error?e.message:"Failed"}}}))}let F={PRIVATE_KEY:"vaultfire_wallet_pk",MNEMONIC:"vaultfire_wallet_mnemonic",ADDRESS:"vaultfire_wallet_address",WALLET_CREATED:"vaultfire_wallet_created"};function B(e,t){try{localStorage.setItem(e,t)}catch{}}function I(e){try{return localStorage.getItem(e)}catch{return null}}function T(e){try{localStorage.removeItem(e)}catch{}}async function z(){let{ethers:t}=await e.A(28760),r=t.Wallet.createRandom(),n=r.mnemonic?.phrase||"",o=r.address,i=r.privateKey;return B(F.PRIVATE_KEY,i),B(F.MNEMONIC,n),B(F.ADDRESS,o),B(F.WALLET_CREATED,"true"),{address:o,mnemonic:n,privateKey:i}}async function R(t){let{ethers:r}=await e.A(28760),n=r.Wallet.fromPhrase(t.trim()),o=n.address,i=n.privateKey;return B(F.PRIVATE_KEY,i),B(F.MNEMONIC,t.trim()),B(F.ADDRESS,o),B(F.WALLET_CREATED,"true"),{address:o,mnemonic:t.trim(),privateKey:i}}async function L(t){let{ethers:r}=await e.A(28760),n=t.startsWith("0x")?t:`0x${t}`,o=new r.Wallet(n).address;return B(F.PRIVATE_KEY,n),B(F.ADDRESS,o),B(F.WALLET_CREATED,"true"),{address:o,mnemonic:"",privateKey:n}}function W(){return"true"===I(F.WALLET_CREATED)}function M(){return I(F.ADDRESS)}function D(){return I(F.PRIVATE_KEY)}let $={base:{chain:"base",chainId:8453,name:"Base",rpc:d.base.rpc,registryAddress:"0x63a3d64DfA31509DE763f6939BF586dc4C06d1D5",explorerTxUrl:"https://basescan.org/tx/",explorerName:"BaseScan",gasSymbol:"ETH",color:"#00D9FF"},avalanche:{chain:"avalanche",chainId:43114,name:"Avalanche",rpc:d.avalanche.rpc,registryAddress:"0x0161c45ad09Fd8dEA6F4A7396fafa3ca1Cffc1b5",explorerTxUrl:"https://snowtrace.io/tx/",explorerName:"SnowTrace",gasSymbol:"AVAX",color:"#E84142"}},N="embris_registration_v2",O="embris_nudge_counter";function P(e){try{return localStorage.getItem(e)}catch{return null}}function U(e,t){try{localStorage.setItem(e,t)}catch{}}function _(e){try{localStorage.removeItem(e)}catch{}}async function H(e,t,r){return(await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:Date.now(),method:t,params:r})})).json()}function V(e){return e.toString(16).padStart(64,"0")}function Y(e){let t=new TextEncoder().encode(e),r=V(t.length),n=new Uint8Array(32*Math.ceil(t.length/32));n.set(t);let o="";for(let e of n)o+=e.toString(16).padStart(2,"0");return r+o}function G(e,t,r){let n=Y(e),o=Y(t),i=n.length/2,s=r.replace("0x","").padStart(64,"0");return"0x2b3ce0bf"+V(96)+V(96+i)+s+n+o}async function J(e,t){let r=$[t];try{let t="0xfb3551ff"+e.replace("0x","").toLowerCase().padStart(64,"0"),n=await H(r.rpc,"eth_call",[{to:r.registryAddress,data:t},"latest"]);if(!n.result||"0x"===n.result||n.error)return null;let o=n.result.slice(2);if(o.length<128)return null;let i=2*parseInt(o.slice(0,64),16);if(i>=o.length)return null;let s=parseInt(o.slice(i,i+64),16);if(0===s)return null;let a=o.slice(i+64,i+64+2*s),l=new Uint8Array(s);for(let e=0;e<s;e++)l[e]=parseInt(a.slice(2*e,2*e+2),16);return new TextDecoder().decode(l)||null}catch{return null}}async function K(e,t){let r=$[t];try{let t=await H(r.rpc,"eth_getBalance",[e,"latest"]);if(!t.result||t.error)return{hasGas:!1,balanceWei:0n,balanceFormatted:"0"};let n=BigInt(t.result),o=BigInt(3e5)*BigInt(1e8),i=Number(n)/1e18;return{hasGas:n>=o,balanceWei:n,balanceFormatted:i<1e-4?"< 0.0001":i.toFixed(6)}}catch{return{hasGas:!1,balanceWei:0n,balanceFormatted:"0"}}}async function X(e,t,r){let n=$[r];try{let r=await H(n.rpc,"eth_estimateGas",[{from:e,to:n.registryAddress,data:t}]);if(r.result&&!r.error)return BigInt(r.result);return null}catch{return null}}async function q(e){let t=$[e];try{let e=await H(t.rpc,"eth_gasPrice",[]);if(e.result)return BigInt(e.result);return BigInt(1e8)}catch{return BigInt(1e8)}}async function Z(e,t){let r=$[t],n=await H(r.rpc,"eth_getTransactionCount",[e,"latest"]);if(n.result)return parseInt(n.result,16);throw Error(`Failed to get nonce on ${r.name}`)}async function Q(e,t,r){let n=$[t],o=Date.now()+1e3*r;for(;Date.now()<o;){try{let t=await H(n.rpc,"eth_getTransactionReceipt",[e]);if(t.result&&"object"==typeof t.result){let e=t.result;if(e.blockNumber)return e}}catch{}await new Promise(e=>setTimeout(e,2e3))}return null}function ee(){let e=P(N);if(!e){let e=P("embris_registration_v1");if(e)try{let t=JSON.parse(e),r={walletAddress:t.walletAddress,registeredAt:t.registeredAt,embrisLevel:t.embrisLevel,chains:[{chain:43114===t.chainId?"avalanche":"base",chainId:t.chainId,txHash:t.registrationTxHash||"",explorerUrl:t.basescanUrl||"",verified:t.verified,registeredAt:t.registeredAt,gasUsed:t.gasUsed}],registrationTxHash:t.registrationTxHash||"",chainId:t.chainId,verified:t.verified,basescanUrl:t.basescanUrl||"",gasUsed:t.gasUsed};return U(N,JSON.stringify(r)),_("embris_registration_v1"),r}catch{}return null}try{return JSON.parse(e)}catch{return null}}function et(){let e=ee();return null!==e&&"full"===e.embrisLevel}function er(){let e=ee();return e?e.chains.map(e=>e.chain):[]}function en(e){let t=ee();return!!t&&t.chains.some(t=>t.chain===e)}async function eo(t,r,n){let o=$[n];try{let i=await J(t,n);if(i)return{chain:n,success:!0,message:`Already registered on ${o.name} as "${i}".`};let{ethers:s}=await e.A(28760),a=new s.JsonRpcProvider(o.rpc),l=new s.Wallet(r,a),c=l.address.toLowerCase(),d=await K(c,n);if(!d.hasGas)return{chain:n,success:!1,message:`Insufficient ${o.gasSymbol} for gas on ${o.name}. Balance: ${d.balanceFormatted} ${o.gasSymbol}. Send a small amount to ${c}.`};let u=s.keccak256(s.getBytes(t.padEnd(66,"0").slice(0,42))),h=G("Embris User",`Registered via Vaultfire Protocol — theloopbreaker.com`,u),p=await X(c,h,n),g=p?130n*p/100n:300000n,[f,m]=await Promise.all([q(n),Z(c,n)]),x=g*f;if(d.balanceWei<x){let e=Number(x)/1e18;return{chain:n,success:!1,message:`Gas cost (~${e.toFixed(6)} ${o.gasSymbol}) exceeds balance (${d.balanceFormatted} ${o.gasSymbol}) on ${o.name}.`}}let y={to:o.registryAddress,data:h,gasLimit:g,gasPrice:f,nonce:m,chainId:o.chainId,value:0},b=await l.signTransaction(y),v=await H(o.rpc,"eth_sendRawTransaction",[b]);if(v.error){let e=v.error.message||"Transaction rejected";if(e.includes("insufficient funds")||e.includes("gas"))return{chain:n,success:!1,message:`Insufficient ${o.gasSymbol} for gas on ${o.name}.`};if(e.includes("nonce")||e.includes("replacement"))return{chain:n,success:!1,message:`Nonce conflict on ${o.name}. Wait a moment and try again.`};return{chain:n,success:!1,message:`${o.name} tx failed: ${e}`}}let j=v.result;if(!j)return{chain:n,success:!1,message:`No tx hash from ${o.name} RPC.`};let w=await Q(j,n,60);if(w&&"0x0"===w.status)return{chain:n,success:!1,txHash:j,explorerUrl:o.explorerTxUrl+j,message:`Transaction reverted on ${o.name}. Check ${o.explorerName} for details.`};return{chain:n,success:!0,txHash:j,explorerUrl:o.explorerTxUrl+j,message:w?`Confirmed on ${o.name}!`:`Sent on ${o.name} — confirmation pending.`}}catch(t){let e=t instanceof Error?t.message:"Unknown error";if(e.includes("insufficient funds")||e.includes("INSUFFICIENT_FUNDS"))return{chain:n,success:!1,message:`Insufficient ${o.gasSymbol} on ${o.name}.`};return{chain:n,success:!1,message:`${o.name} failed: ${e}`}}}async function ei(t,r,n){let o=$[n];try{let{ethers:i}=await e.A(28760),s=new i.JsonRpcProvider(o.rpc),a=new i.Wallet(r,s),l=a.address.toLowerCase(),c=await K(l,n);if(!c.hasGas)return{chain:n,success:!1,message:`Vaultfire wallet needs ${o.gasSymbol} on ${o.name}. Balance: ${c.balanceFormatted}.`};let d=i.keccak256(i.getBytes(t.padEnd(66,"0").slice(0,42))),u=G(`Embris:${t}`,"Registered via Vaultfire Protocol — theloopbreaker.com",d),h=await X(l,u,n),p=h?130n*h/100n:300000n,[g,f]=await Promise.all([q(n),Z(l,n)]);if(c.balanceWei<p*g)return{chain:n,success:!1,message:`Gas exceeds balance on ${o.name}.`};let m={to:o.registryAddress,data:u,gasLimit:p,gasPrice:g,nonce:f,chainId:o.chainId,value:0},x=await a.signTransaction(m),y=await H(o.rpc,"eth_sendRawTransaction",[x]);if(y.error)return{chain:n,success:!1,message:`${o.name}: ${y.error.message}`};let b=y.result;if(!b)return{chain:n,success:!1,message:`No tx hash from ${o.name}.`};let v=await Q(b,n,60);return{chain:n,success:!v||"0x0"!==v.status,txHash:b,explorerUrl:o.explorerTxUrl+b,message:v&&"0x0"!==v.status?`Confirmed on ${o.name}!`:`Sent on ${o.name}.`}}catch(e){return{chain:n,success:!1,message:`${o.name}: ${e instanceof Error?e.message:"failed"}`}}}async function es(e,t){if(!e||!/^0x[a-fA-F0-9]{40}$/.test(e))return{success:!1,registration:null,message:"Invalid wallet address.",errorType:"invalid_address"};let r=e.toLowerCase(),n=t?.chains||["base"],o=D(),i=t?.useVaultfireWallet!==!1;if(!o)return{success:!1,registration:null,message:"No Vaultfire wallet found. Create a wallet first in the Wallet section, then register.",errorType:"no_private_key"};let s=[];for(let e of n){let t=i?await eo(r,o,e):await ei(r,o,e);s.push(t)}if(!s.some(e=>e.success)){let e=s.map(e=>e.message).join(" "),t=s.some(e=>e.message.includes("Insufficient")||e.message.includes("gas")||e.message.includes("balance"));return{success:!1,registration:null,message:e,chainResults:s,errorType:t?"no_gas":"tx_failed"}}let a=ee(),l=[...a?.chains||[]];for(let e of s){if(!e.success)continue;let t=l.findIndex(t=>t.chain===e.chain);t>=0&&l.splice(t,1),l.push({chain:e.chain,chainId:$[e.chain].chainId,txHash:e.txHash||"",explorerUrl:e.explorerUrl||"",verified:!0,registeredAt:Date.now()})}let c=l[0],d={walletAddress:r,registeredAt:Date.now(),embrisLevel:"full",chains:l,registrationTxHash:c?.txHash||"",chainId:c?.chainId||8453,verified:c?.verified||!1,basescanUrl:c?.explorerUrl||"",gasUsed:void 0};U(N,JSON.stringify(d));let u=s.filter(e=>e.success),h=s.filter(e=>!e.success),p="";if(u.length===n.length)p=1===n.length?`Registration confirmed on ${$[n[0]].name}!`:"Registration confirmed on both Base and Avalanche!";else{let e=u.map(e=>$[e.chain].name).join(" and "),t=h.map(e=>$[e.chain].name).join(" and ");p=`Registered on ${e}. ${t} failed: ${h.map(e=>e.message).join(" ")}`}return{success:!0,registration:d,message:p,txHash:u[0]?.txHash,explorerUrl:u[0]?.explorerUrl,chainResults:s}}async function ea(e,t,r=[]){let n=new AbortController,o=setTimeout(()=>n.abort(),1e4);try{let o=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:Date.now(),method:t,params:r}),signal:n.signal}),i=await o.json();if(i.error)throw Error(i.error.message);return i.result}finally{clearTimeout(o)}}async function el(e,t,r){try{let n=await ea(e,"eth_call",[{to:t,data:r},"latest"]);if(!n||"0x"===n)return null;return n}catch{return null}}async function ec(e,t){let r=("base"===t?u:h).find(e=>"ERC8004IdentityRegistry"===e.name);if(!r)return{registered:!1,agentName:null};let n=d[t].rpc,o=e.replace("0x","").toLowerCase().padStart(64,"0");try{let e=await el(n,r.address,"0xfb3551ff"+o);if(!e)return{registered:!1,agentName:null};let t=e.slice(2);if(t.length<128)return{registered:!1,agentName:null};let i=2*parseInt(t.slice(0,64),16);if(i>=t.length)return{registered:!1,agentName:null};let s=parseInt(t.slice(i,i+64),16);if(0===s)return{registered:!1,agentName:null};let a=t.slice(i+64,i+64+2*s),l=new Uint8Array(s);for(let e=0;e<s;e++)l[e]=parseInt(a.slice(2*e,2*e+2),16);let c=new TextDecoder().decode(l);return{registered:!!c,agentName:c||null}}catch{return{registered:!1,agentName:null}}}async function ed(e){let t=("base"===e?u:h).find(e=>"ERC8004IdentityRegistry"===e.name);if(!t)return null;let r=d[e].rpc,n=await el(r,t.address,"0x3731a16f");if(!n)return null;try{let e=BigInt(n);return e>BigInt(Number.MAX_SAFE_INTEGER)?Number.MAX_SAFE_INTEGER:Number(e)}catch{return 0}}async function eu(e,t){let r=d[e].rpc;try{let e=await ea(r,"eth_getCode",[t,"latest"]);return"0x"!==e&&"0x0"!==e&&e.length>2}catch{return!1}}async function eh(e){let t=d[e].rpc;try{let e=await ea(t,"eth_blockNumber");return parseInt(e,16)}catch{return null}}async function ep(e){try{switch(e.type){case"registration_check":{let e=M();if(!e)return"\n\n[ON-CHAIN DATA] No wallet found. The user needs to create a wallet first before checking registration.";let t=et(),r=ee(),n=er(),o=[];if(o.push(`

[ON-CHAIN DATA — Registration Check for ${e.slice(0,6)}...${e.slice(-4)}]`),o.push(`Local registration status: ${t?"REGISTERED":"NOT REGISTERED"}`),r)for(let e of(o.push(`Registered chains: ${n.join(", ")||"none"}`),r.chains))o.push(`  ${e.chain}: tx ${e.txHash?.slice(0,10)}... — ${e.explorerUrl}`);for(let t of["base","avalanche"]){let r=await ec(e,t);o.push(`Live ${t} check: ${r.registered?`Registered as "${r.agentName}"`:"Not found on-chain"}`)}return o.join("\n")}case"agent_count":{let e=["\n\n[ON-CHAIN DATA — Agent Registry Counts]"];for(let t of["base","avalanche"]){let r=await ed(t);e.push(`${t}: ${null!==r?`${r} registered agents`:"Unable to read count"}`)}return e.join("\n")}case"trust_score":{let e=M();if(!e)return"\n\n[ON-CHAIN DATA] No wallet found. Create a wallet to check trust score.";let t=et(),r=er(),n=[`

[ON-CHAIN DATA — Trust Score for ${e.slice(0,6)}...${e.slice(-4)}]`];n.push(`Registration: ${t?"Verified":"Not registered"}`),n.push(`Chains: ${r.length>0?r.join(", "):"None"}`),n.push(`Protocol contracts verified: ${u.length+h.length}`),n.push("Active chains: 2 (Base + Avalanche)");let o=0;for(let n of(t&&(o+=40),r.includes("base")&&(o+=15),r.includes("avalanche")&&(o+=15),e&&(o+=10),r))(await ec(e,n)).registered&&(o+=10);return n.push(`Calculated trust score: ${Math.min(o,100)}/100`),n.push(`Grade: ${o>=90?"A+":o>=80?"A":o>=70?"B+":o>=60?"B":o>=40?"C":"D"}`),n.join("\n")}case"contract_status":{let e=["\n\n[ON-CHAIN DATA — Contract Status]"];for(let t of(e.push(`Total contracts: ${u.length+h.length}`),e.push(`Base: ${u.length} contracts`),e.push(`Avalanche: ${h.length} contracts`),["base","avalanche"])){let r=("base"===t?u:h).find(e=>"ERC8004IdentityRegistry"===e.name);if(r){let n=await eu(t,r.address);e.push(`${t} IdentityRegistry: ${n?"LIVE":"UNREACHABLE"}`)}let n=await eh(t);n&&e.push(`${t} current block: ${n.toLocaleString()}`)}return e.join("\n")}default:return""}}catch(e){return`

[ON-CHAIN DATA ERROR] ${e instanceof Error?e.message:"Failed to query chain"}`}}function eg({size:e=20}){return(0,t.jsx)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:(0,t.jsx)("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})})}function ef({size:e=20}){return(0,t.jsxs)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("path",{d:"M9.5 2A5.5 5.5 0 0 0 4 7.5c0 1.5.5 2.8 1.3 3.8"}),(0,t.jsx)("path",{d:"M14.5 2A5.5 5.5 0 0 1 20 7.5c0 1.5-.5 2.8-1.3 3.8"}),(0,t.jsx)("path",{d:"M4.7 11.3A5.5 5.5 0 0 0 4 14.5 5.5 5.5 0 0 0 9.5 20"}),(0,t.jsx)("path",{d:"M19.3 11.3a5.5 5.5 0 0 1 .7 3.2 5.5 5.5 0 0 1-5.5 5.5"}),(0,t.jsx)("path",{d:"M12 2v20"})]})}function em({size:e=20}){return(0,t.jsxs)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4"}),(0,t.jsx)("path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5"}),(0,t.jsx)("path",{d:"M18 12a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"})]})}function ex({size:e=20}){return(0,t.jsx)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:(0,t.jsx)("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})})}function ey({size:e=20}){return(0,t.jsxs)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,t.jsx)("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),(0,t.jsx)("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"})]})}function eb({size:e=20}){return(0,t.jsxs)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),(0,t.jsx)("circle",{cx:"9",cy:"7",r:"4"}),(0,t.jsx)("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),(0,t.jsx)("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})}function ev({size:e=16}){return(0,t.jsxs)("svg",{width:e,height:e,viewBox:"0 0 32 32",fill:"none",children:[(0,t.jsx)("path",{d:"M16 4c-3 3.5-6 8-6 12 0 3.31 2.69 6 6 6s6-2.69 6-6c0-4-3-8.5-6-12z",fill:"#F97316",opacity:"0.9"}),(0,t.jsx)("path",{d:"M16 10c-1.5 2-3 4.5-3 6.5 0 1.66 1.34 3 3 3s3-1.34 3-3c0-2-1.5-4.5-3-6.5z",fill:"#FB923C"}),(0,t.jsx)("path",{d:"M16 14c-.7 1-1.4 2.2-1.4 3.2 0 .77.63 1.4 1.4 1.4s1.4-.63 1.4-1.4c0-1-.7-2.2-1.4-3.2z",fill:"#FDE68A",opacity:"0.6"})]})}function ej({size:e=14}){return(0,t.jsxs)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),(0,t.jsx)("polyline",{points:"22 4 12 14.01 9 11.01"})]})}function ew({size:e=11}){return(0,t.jsxs)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}),(0,t.jsx)("polyline",{points:"15 3 21 3 21 9"}),(0,t.jsx)("line",{x1:"10",y1:"14",x2:"21",y2:"3"})]})}function ek({size:e=14}){return(0,t.jsx)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,t.jsx)("polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"})})}function eS({value:e,loading:n}){let[o,i]=(0,r.useState)(0),s=(0,r.useRef)(null);return((0,r.useEffect)(()=>{if(null===e||n)return;let t=e/40,r=0;return s.current&&clearInterval(s.current),s.current=setInterval(()=>{i(Math.min(Math.round(t*++r),e)),r>=40&&(i(e),s.current&&clearInterval(s.current))},30),()=>{s.current&&clearInterval(s.current)}},[e,n]),n)?(0,t.jsx)("div",{className:"skeleton",style:{height:36,width:80,borderRadius:8}}):null===e?(0,t.jsx)("span",{style:{fontSize:28,fontWeight:800,color:"#52525B",fontFamily:"'JetBrains Mono', monospace"},children:"—"}):(0,t.jsx)("span",{style:{fontSize:28,fontWeight:800,color:"#F4F4F5",fontFamily:"'JetBrains Mono', monospace",letterSpacing:"-0.04em"},children:o.toLocaleString()})}function eC(){let[e,n]=(0,r.useState)([{name:"Base",chainId:8453,result:null,loading:!0},{name:"Avalanche",chainId:43114,result:null,loading:!0}]),[o,i]=(0,r.useState)(!1),[s,a]=(0,r.useState)(!1),[l,c]=(0,r.useState)(null),[d,p]=(0,r.useState)([]),[g,f]=(0,r.useState)({base:null,avalanche:null}),[m,x]=(0,r.useState)(!0);(0,r.useEffect)(()=>{let e=()=>i(window.innerWidth<768);return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,r.useEffect)(()=>{let e=et();if(a(e),e){let e=ee();c(e?.walletAddress||null),p(er())}j().then(e=>{n([{name:"Base",chainId:8453,result:e.base,loading:!1},{name:"Avalanche",chainId:43114,result:e.avalanche,loading:!1}])}),x(!0),Promise.all([ed("base"),ed("avalanche")]).then(([e,t])=>{f({base:e,avalanche:t}),x(!1)}).catch(()=>{x(!1)})},[]);let y=u.length+h.length,b=e.every(e=>!e.loading&&e.result?.success),v=e.some(e=>e.loading),w=(g.base??0)+(g.avalanche??0),k=[{icon:(0,t.jsx)(ef,{}),title:"Ethical AI Companion",desc:"Embris learns, remembers, and grows with you — guided by morals, not metrics.",color:"#A78BFA"},{icon:(0,t.jsx)(eg,{}),title:"On-Chain Trust",desc:`${y} verified smart contracts enforce transparency and accountability.`,color:"#22C55E"},{icon:(0,t.jsx)(em,{}),title:"Vaultfire Wallet",desc:"Multi-chain wallet for ETH, AVAX, and ERC-20 tokens. Your keys, your crypto.",color:"#F97316"},{icon:(0,t.jsx)(ex,{}),title:"Flourishing Metrics",desc:"AI success is measured by human flourishing, not engagement or profit.",color:"#F43F5E"},{icon:(0,t.jsx)(ey,{}),title:"Cross-Chain Bridge",desc:"Teleporter bridge connects Base and Avalanche for seamless asset movement.",color:"#38BDF8"},{icon:(0,t.jsx)(eb,{}),title:"VNS Identity",desc:"Register a human-readable name for your wallet. You are more than an address.",color:"#FBBF24"}];return(0,t.jsxs)("div",{className:"page-enter",style:{padding:`${o?28:40}px ${o?"20px":"32px"} 48px`},children:[(0,t.jsxs)("div",{style:{marginBottom:o?40:56,textAlign:"center"},children:[(0,t.jsxs)("div",{style:{display:"inline-flex",alignItems:"center",gap:6,padding:"5px 14px",borderRadius:20,backgroundColor:"rgba(249,115,22,0.06)",border:"1px solid rgba(249,115,22,0.15)",marginBottom:20},children:[(0,t.jsx)(ev,{size:12}),(0,t.jsx)("span",{style:{fontSize:11,color:"#F97316",fontWeight:600,letterSpacing:"0.04em"},children:"VAULTFIRE PROTOCOL"})]}),(0,t.jsxs)("h1",{style:{fontSize:o?32:44,fontWeight:800,color:"#F4F4F5",letterSpacing:"-0.04em",lineHeight:1.1,marginBottom:16},children:["Trust infrastructure",(0,t.jsx)("br",{}),"for the AI age"]}),(0,t.jsxs)("p",{style:{fontSize:o?14:16,color:"#71717A",lineHeight:1.7,maxWidth:480,margin:"0 auto 24px"},children:[y," smart contracts across Base and Avalanche enforce ethical AI behavior, protect privacy, and give users real control."]}),s&&l&&(0,t.jsxs)("div",{style:{display:"inline-flex",alignItems:"center",gap:8,padding:"8px 16px",borderRadius:20,backgroundColor:"rgba(34,197,94,0.06)",border:"1px solid rgba(34,197,94,0.15)"},children:[(0,t.jsx)("div",{style:{color:"#22C55E"},children:(0,t.jsx)(ej,{size:14})}),(0,t.jsx)("span",{style:{fontSize:12,color:"#22C55E",fontWeight:600},children:"Registered on Vaultfire"}),(0,t.jsxs)("span",{style:{fontSize:11,color:"#71717A",fontFamily:"'JetBrains Mono', monospace"},children:[l.slice(0,6),"...",l.slice(-4)]}),d.map(e=>{let r=$[e];return(0,t.jsx)("span",{style:{fontSize:10,color:r.color,backgroundColor:`${r.color}10`,padding:"2px 6px",borderRadius:4,fontWeight:600,letterSpacing:"0.03em",textTransform:"uppercase"},children:r.name},e)})]})]}),(0,t.jsxs)("div",{style:{marginBottom:o?40:56},children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:16},children:[(0,t.jsx)("h2",{style:{fontSize:11,fontWeight:600,color:"#71717A",textTransform:"uppercase",letterSpacing:"0.1em"},children:"Live Registry"}),(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:6},children:[(0,t.jsx)("div",{style:{width:6,height:6,borderRadius:"50%",backgroundColor:"#22C55E",boxShadow:"0 0 6px rgba(34,197,94,0.5)"}}),(0,t.jsx)("span",{style:{fontSize:11,color:"#52525B",fontWeight:500},children:"On-chain · ERC-8004"})]})]}),(0,t.jsxs)("div",{style:{display:"grid",gridTemplateColumns:o?"1fr 1fr":"repeat(3, 1fr)",gap:12},children:[(0,t.jsxs)("div",{style:{padding:o?"20px 16px":"24px 20px",backgroundColor:"rgba(249,115,22,0.04)",border:"1px solid rgba(249,115,22,0.12)",borderRadius:16,gridColumn:o?"1 / -1":"auto"},children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:12},children:[(0,t.jsx)("div",{style:{color:"#F97316"},children:(0,t.jsx)(eb,{size:16})}),(0,t.jsx)("p",{style:{fontSize:11,color:"#71717A",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.08em"},children:"Total Registered Agents"})]}),(0,t.jsx)(eS,{value:m?null:w,loading:m}),(0,t.jsx)("p",{style:{fontSize:11,color:"#52525B",marginTop:6},children:"Across Base + Avalanche"})]}),(0,t.jsxs)("div",{style:{padding:o?"16px 14px":"20px 16px",backgroundColor:"rgba(0,82,255,0.04)",border:"1px solid rgba(0,82,255,0.12)",borderRadius:16},children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:6,marginBottom:10},children:[(0,t.jsx)("div",{style:{width:8,height:8,borderRadius:"50%",backgroundColor:"#0052FF"}}),(0,t.jsx)("p",{style:{fontSize:10,color:"#71717A",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.08em"},children:"Base"})]}),(0,t.jsx)(eS,{value:m?null:g.base,loading:m}),(0,t.jsx)("p",{style:{fontSize:10,color:"#52525B",marginTop:4},children:"Chain ID 8453"})]}),(0,t.jsxs)("div",{style:{padding:o?"16px 14px":"20px 16px",backgroundColor:"rgba(232,65,66,0.04)",border:"1px solid rgba(232,65,66,0.12)",borderRadius:16},children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:6,marginBottom:10},children:[(0,t.jsx)("div",{style:{width:8,height:8,borderRadius:"50%",backgroundColor:"#E84142"}}),(0,t.jsx)("p",{style:{fontSize:10,color:"#71717A",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.08em"},children:"Avalanche"})]}),(0,t.jsx)(eS,{value:m?null:g.avalanche,loading:m}),(0,t.jsx)("p",{style:{fontSize:10,color:"#52525B",marginTop:4},children:"Chain ID 43114"})]})]}),(0,t.jsxs)("div",{style:{marginTop:10,display:"flex",gap:10,flexWrap:"wrap"},children:[(0,t.jsxs)("a",{href:"https://basescan.org/address/0x63a3d64DfA31509DE763f6939BF586dc4C06d1D5",target:"_blank",rel:"noopener noreferrer",style:{display:"inline-flex",alignItems:"center",gap:5,fontSize:11,color:"#52525B",textDecoration:"none",padding:"4px 10px",backgroundColor:"rgba(255,255,255,0.02)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:6,transition:"all 0.15s ease"},onMouseEnter:e=>{e.currentTarget.style.color="#A1A1AA"},onMouseLeave:e=>{e.currentTarget.style.color="#52525B"},children:[(0,t.jsx)(ew,{size:10})," ERC8004IdentityRegistry on Base"]}),(0,t.jsxs)("a",{href:"https://snowtrace.io/address/0x0161c45ad09Fd8dEA6F4A7396fafa3ca1Cffc1b5",target:"_blank",rel:"noopener noreferrer",style:{display:"inline-flex",alignItems:"center",gap:5,fontSize:11,color:"#52525B",textDecoration:"none",padding:"4px 10px",backgroundColor:"rgba(255,255,255,0.02)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:6,transition:"all 0.15s ease"},onMouseEnter:e=>{e.currentTarget.style.color="#A1A1AA"},onMouseLeave:e=>{e.currentTarget.style.color="#52525B"},children:[(0,t.jsx)(ew,{size:10})," ERC8004IdentityRegistry on Avalanche"]})]})]}),(0,t.jsxs)("div",{style:{marginBottom:o?40:56},children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:16},children:[(0,t.jsx)("h2",{style:{fontSize:11,fontWeight:600,color:"#71717A",textTransform:"uppercase",letterSpacing:"0.1em"},children:"Network Status"}),(0,t.jsx)("span",{style:{fontSize:11,fontWeight:500,color:v?"#71717A":b?"#22C55E":"#EF4444"},children:v?"Checking...":b?"All systems operational":"Degraded"})]}),(0,t.jsx)("div",{style:{backgroundColor:"rgba(255,255,255,0.02)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:14,overflow:"hidden"},children:e.map((r,n)=>(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:o?"14px 16px":"16px 20px",borderBottom:n<e.length-1?"1px solid rgba(255,255,255,0.04)":"none"},children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:10},children:[(0,t.jsx)("div",{style:{width:7,height:7,borderRadius:"50%",backgroundColor:r.loading?"#52525B":r.result?.success?"#22C55E":"#EF4444",boxShadow:!r.loading&&r.result?.success?"0 0 8px rgba(34,197,94,0.4)":"none"}}),(0,t.jsx)("span",{style:{fontSize:14,fontWeight:600,color:"#F4F4F5"},children:r.name}),(0,t.jsx)("span",{style:{fontSize:11,color:"#3F3F46",fontFamily:"'JetBrains Mono', monospace"},children:r.chainId})]}),(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:o?16:28},children:[!r.loading&&r.result?.success&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{style:{textAlign:"right"},children:[(0,t.jsx)("p",{style:{fontSize:12,color:"#F4F4F5",fontFamily:"'JetBrains Mono', monospace",fontWeight:500},children:r.result.blockNumber?.toLocaleString()}),(0,t.jsx)("p",{style:{fontSize:9,color:"#3F3F46",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.08em"},children:"block"})]}),(0,t.jsxs)("div",{style:{textAlign:"right"},children:[(0,t.jsxs)("p",{style:{fontSize:12,color:"#A1A1AA",fontFamily:"'JetBrains Mono', monospace"},children:[r.result.latency,"ms"]}),(0,t.jsx)("p",{style:{fontSize:9,color:"#3F3F46",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.08em"},children:"latency"})]})]}),r.loading&&(0,t.jsx)("span",{style:{fontSize:12,color:"#3F3F46"},children:"connecting..."}),!r.loading&&!r.result?.success&&(0,t.jsx)("span",{style:{fontSize:12,color:"#EF4444"},children:"error"})]})]},r.name))})]}),(0,t.jsxs)("div",{style:{marginBottom:o?40:56},children:[(0,t.jsx)("h2",{style:{fontSize:11,fontWeight:600,color:"#71717A",textTransform:"uppercase",letterSpacing:"0.1em",marginBottom:20},children:"Features"}),(0,t.jsx)("div",{style:{display:"grid",gridTemplateColumns:o?"1fr":"repeat(2, 1fr)",gap:10},children:k.map(e=>(0,t.jsxs)("div",{style:{padding:"18px",backgroundColor:"rgba(255,255,255,0.02)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:14,transition:"all 0.15s ease",cursor:"default"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="rgba(255,255,255,0.03)",e.currentTarget.style.borderColor="rgba(255,255,255,0.08)"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="rgba(255,255,255,0.02)",e.currentTarget.style.borderColor="rgba(255,255,255,0.05)"},children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:10,marginBottom:10},children:[(0,t.jsx)("div",{style:{width:36,height:36,borderRadius:10,backgroundColor:`${e.color}10`,border:`1px solid ${e.color}20`,display:"flex",alignItems:"center",justifyContent:"center",color:e.color,flexShrink:0},children:e.icon}),(0,t.jsx)("h3",{style:{fontSize:14,fontWeight:700,color:"#F4F4F5",letterSpacing:"-0.01em"},children:e.title})]}),(0,t.jsx)("p",{style:{fontSize:13,color:"#71717A",lineHeight:1.55,letterSpacing:"-0.005em"},children:e.desc})]},e.title))})]}),(0,t.jsxs)("div",{style:{marginBottom:o?40:56},children:[(0,t.jsx)("h2",{style:{fontSize:11,fontWeight:600,color:"#71717A",textTransform:"uppercase",letterSpacing:"0.1em",marginBottom:20},children:"Protocol"}),(0,t.jsx)("div",{style:{display:"grid",gridTemplateColumns:o?"repeat(2, 1fr)":"repeat(4, 1fr)",gap:o?10:12},children:[{label:"Contracts",value:String(y),sub:`${u.length} per chain`,mono:!0,color:"#F97316"},{label:"Chains",value:"2",sub:"Base + Avalanche",mono:!0,color:"#38BDF8"},{label:"Standard",value:"ERC-8004",sub:"AI Identity",mono:!1,color:"#A78BFA"},{label:"Bridge",value:"Teleporter",sub:"Cross-chain",mono:!1,color:"#22C55E"}].map(e=>(0,t.jsxs)("div",{style:{padding:o?"16px 14px":"18px 16px",backgroundColor:"rgba(255,255,255,0.02)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:12},children:[(0,t.jsx)("p",{style:{fontSize:10,color:"#52525B",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.1em",marginBottom:8},children:e.label}),(0,t.jsx)("p",{style:{fontSize:o?18:22,fontWeight:700,color:"#F4F4F5",letterSpacing:"-0.03em",lineHeight:1.1,fontFamily:e.mono?"'JetBrains Mono', monospace":"'Inter', sans-serif"},children:e.value}),(0,t.jsx)("p",{style:{fontSize:11,color:"#3F3F46",marginTop:4},children:e.sub})]},e.label))})]}),(0,t.jsxs)("div",{style:{marginBottom:o?40:56},children:[(0,t.jsx)("h2",{style:{fontSize:11,fontWeight:600,color:"#71717A",textTransform:"uppercase",letterSpacing:"0.1em",marginBottom:20},children:"Core Principles"}),(0,t.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:0},children:[{principle:"Morals over metrics",desc:"AI behavior guided by ethical principles, not engagement optimization.",icon:(0,t.jsx)(ex,{size:14}),color:"#F43F5E"},{principle:"Privacy over surveillance",desc:"Cryptographic guarantees protect every interaction from unauthorized monitoring.",icon:(0,t.jsx)(eg,{size:14}),color:"#22C55E"},{principle:"Freedom over control",desc:"Users own their data, their keys, and their relationship with AI.",icon:(0,t.jsx)(ek,{size:14}),color:"#F97316"}].map((e,r)=>(0,t.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",gap:14,padding:"18px 0",borderBottom:r<2?"1px solid rgba(255,255,255,0.04)":"none"},children:[(0,t.jsx)("div",{style:{width:32,height:32,borderRadius:8,flexShrink:0,backgroundColor:`${e.color}10`,border:`1px solid ${e.color}20`,display:"flex",alignItems:"center",justifyContent:"center",color:e.color,marginTop:2},children:e.icon}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{style:{fontSize:15,fontWeight:700,color:"#F4F4F5",letterSpacing:"-0.01em",marginBottom:4},children:e.principle}),(0,t.jsx)("p",{style:{fontSize:13,color:"#71717A",lineHeight:1.55},children:e.desc})]})]},e.principle))})]}),(0,t.jsxs)("div",{style:{textAlign:"center",paddingTop:32,borderTop:"1px solid rgba(255,255,255,0.04)"},children:[(0,t.jsx)("div",{style:{display:"flex",justifyContent:"center",marginBottom:12},children:(0,t.jsxs)("div",{style:{display:"inline-flex",alignItems:"center",gap:6,padding:"5px 14px",borderRadius:20,backgroundColor:"rgba(249,115,22,0.06)",border:"1px solid rgba(249,115,22,0.12)"},children:[(0,t.jsx)(ev,{size:12}),(0,t.jsx)("span",{style:{fontSize:11,color:"#F97316",fontWeight:600,letterSpacing:"0.02em"},children:"Powered by Vaultfire Protocol"})]})}),(0,t.jsxs)("p",{style:{fontSize:12,color:"#3F3F46",lineHeight:1.6},children:[y," smart contracts across Base and Avalanche.",(0,t.jsx)("br",{}),"All governance is on-chain and verifiable."]}),(0,t.jsx)("p",{style:{fontSize:11,color:"#27272A",marginTop:12,fontWeight:500,letterSpacing:"0.05em",textTransform:"uppercase"},children:"Vaultfire Protocol · 2025"})]})]})}var eA=e.i(47167);let eE="embris_reflections_v1",eF="embris_patterns_v1",eB="embris_insights_v1",eI="embris_growth_v1";function eT(e){try{return localStorage.getItem(e)}catch{return null}}function ez(e,t){try{localStorage.setItem(e,t)}catch{}}function eR(){let e=eT(eE);if(!e)return[];try{return JSON.parse(e)}catch{return[]}}function eL(e){ez(eE,JSON.stringify(e.sort((e,t)=>t.timestamp-e.timestamp).slice(0,100)))}function eW(){let e=eT(eF);if(!e)return[];try{return JSON.parse(e)}catch{return[]}}function eM(e){ez(eF,JSON.stringify(e.sort((e,t)=>t.strength-e.strength).slice(0,50)))}function eD(){let e=eT(eB);if(!e)return[];try{return JSON.parse(e)}catch{return[]}}function e$(e){ez(eB,JSON.stringify(e.sort((e,t)=>{let r=+!e.used+.5*!!e.actionable+.3*e.confidence;return+!t.used+.5*!!t.actionable+.3*t.confidence-r}).slice(0,50)))}function eN(){let e=eT(eI);if(!e)return{totalConversations:0,totalMemories:0,totalReflections:0,totalPatterns:0,totalInsights:0,selfCorrections:0,firstConversation:0,lastConversation:0,patternSynthesisCount:0,lastPatternSynthesis:0};try{return JSON.parse(e)}catch{return{totalConversations:0,totalMemories:0,totalReflections:0,totalPatterns:0,totalInsights:0,selfCorrections:0,firstConversation:0,lastConversation:0,patternSynthesisCount:0,lastPatternSynthesis:0}}}function eO(e){ez(eI,JSON.stringify(e))}async function eP(e,t,r,n=1024){try{let o=await fetch("https://api.manus.im/api/llm-proxy/v1/chat/completions",{method:"POST",headers:{"Content-Type":"text/plain",Authorization:`Bearer ${r}`},body:JSON.stringify({model:"gpt-4.1-nano",messages:[{role:"system",content:e},{role:"user",content:t}],max_tokens:n,temperature:.4,stream:!1})});if(!o.ok)return"";let i=await o.json();return i.choices?.[0]?.message?.content?.trim()||""}catch{return""}}function eU(e){if(!e)return null;let t=e;t.startsWith("```")&&(t=t.replace(/^```(?:json)?\n?/,"").replace(/\n?```$/,""));try{return JSON.parse(t)}catch{return null}}async function e_(e,t,r,n){let o=eR().slice(0,10),i=o.length>0?o.map(e=>`- ${e.content}`).join("\n"):"(no previous reflections)",s=r.slice(-20).map(e=>`- [${e.category}] ${e.content}`).join("\n"),a=`You are the self-reflection module for an AI companion called Embris. After each conversation exchange, you generate a thoughtful reflection about what Embris learned — not just facts, but deeper behavioral and relational observations.

EXISTING MEMORIES:
${s||"(none yet)"}

RECENT REFLECTIONS (avoid repeating):
${i}

LATEST EXCHANGE:
User: ${e}
Embris: ${t}

Generate ONE reflection. This should be a genuine insight about the user — their personality, communication style, values, emotional state, what they care about, how Embris should adapt. Think beyond surface facts.

Examples of GOOD reflections:
- "G values direct communication and gets frustrated when things feel like demos. I should be more action-oriented in my responses."
- "When G asks about technical details, they usually follow up with design quality questions. They care about the full picture, not just functionality."
- "G seems to be in a building phase — they're moving fast and want a partner who keeps up, not one who slows them down with caveats."

Examples of BAD reflections (too shallow):
- "User asked about contracts" (just a fact, not a reflection)
- "User said hello" (trivial)

If the exchange is too trivial for a meaningful reflection (like a greeting), respond with: {"skip": true}

Otherwise respond with JSON (no markdown):
{"content": "your reflection here", "depth": "surface|behavioral|deep", "excerpt": "brief 10-word summary of what triggered this"}`,l=eU(await eP("You generate thoughtful self-reflections for an AI companion. Respond only with valid JSON.",a,n));if(!l||l.skip||!l.content)return null;let c={id:`ref_${Date.now()}_${Math.random().toString(36).slice(2,8)}`,content:l.content,conversationExcerpt:l.excerpt||e.slice(0,60),timestamp:Date.now(),depth:["surface","behavioral","deep"].includes(l.depth||"")?l.depth:"surface"};return eL([c,...eR()]),c}async function eH(e,t,r,n){if(0===r.length)return{corrected:!1,updatedMemories:r,corrections:[]};let o=r.map((e,t)=>`[${t}] ${e.content}`).join("\n"),i=`You are a contradiction detection system for an AI companion's memory. Check if the user's latest message contradicts or updates any existing memories.

EXISTING MEMORIES (with index):
${o}

LATEST USER MESSAGE: ${e}
LATEST ASSISTANT RESPONSE: ${t}

Check for contradictions or updates. Examples:
- Memory says "User likes blue" but user now says "I actually prefer orange" → contradiction
- Memory says "User is building a DeFi app" but user now says "I pivoted to an NFT marketplace" → update
- Memory says "User works at Google" but user says "I just left Google for a startup" → update

If you find contradictions, respond with JSON (no markdown):
{"corrections": [{"memoryIndex": 0, "oldContent": "...", "newContent": "...", "reason": "..."}]}

If no contradictions found, respond with:
{"corrections": []}`,s=eU(await eP("You detect contradictions in AI memory systems. Respond only with valid JSON.",i,n));if(!s||!s.corrections||0===s.corrections.length)return{corrected:!1,updatedMemories:r,corrections:[]};let a=[...r],l=[];for(let e of s.corrections){let t=e.memoryIndex;if(t>=0&&t<a.length){let r=a[t];a[t]={...r,content:e.newContent,timestamp:Date.now(),confidence:Math.min(1,r.confidence+.1),source:"ai"},l.push(`Updated: "${e.oldContent}" → "${e.newContent}" (${e.reason})`)}}if(l.length>0){tj(a);let e=eN();e.selfCorrections+=l.length,eO(e)}return{corrected:l.length>0,updatedMemories:a,corrections:l}}async function eV(e){let t=tw(),r=eR(),n=eW();if(t.length<3&&r.length<2)return n;let o=t.slice(-50).map(e=>`- [${e.category}] ${e.content}`).join("\n"),i=r.slice(0,20).map(e=>`- [${e.depth}] ${e.content}`).join("\n"),s=n.map(e=>`- [${e.category}, strength=${e.strength.toFixed(2)}] ${e.content}`).join("\n"),a=`You are a pattern recognition system for an AI companion called Embris. Analyze the accumulated memories and reflections to identify recurring patterns about the user.

ACCUMULATED MEMORIES:
${o}

REFLECTIONS:
${i}

EXISTING PATTERNS (reinforce or update these if still valid, add new ones):
${s||"(none yet)"}

Identify patterns across these data points. Look for:
- Communication preferences (how they like to interact)
- Priority patterns (what they care about most)
- Workflow patterns (how they work, when they're productive)
- Personality traits (values, temperament, style)
- Technical preferences (tools, approaches, standards)

For each pattern, provide:
- content: A clear statement of the pattern
- category: communication | priorities | workflow | personality | technical | general
- strength: 0.3-1.0 (higher = more evidence)
- evidence: 2-3 brief supporting observations

Rules:
- Merge or update existing patterns if they're still valid
- Remove patterns that are contradicted by new evidence
- Be specific — "User prefers short confirmations" is better than "User has communication preferences"
- Maximum 10 patterns total

Respond with JSON (no markdown):
[{"content": "...", "category": "...", "strength": 0.7, "evidence": ["...", "..."]}]`,l=eU(await eP("You identify behavioral patterns from accumulated AI companion data. Respond only with valid JSON arrays.",a,e,2048));if(!l||!Array.isArray(l))return n;let c=Date.now(),d=l.filter(e=>e.content&&"string"==typeof e.content).map(e=>{let t=n.find(t=>t.content.toLowerCase().includes(e.content.toLowerCase().slice(0,30))||e.content.toLowerCase().includes(t.content.toLowerCase().slice(0,30)));return t?{...t,content:e.content,strength:Math.min(1,t.strength+.1),supportingEvidence:[...new Set([...t.supportingEvidence,...e.evidence||[]])].slice(0,5),lastReinforced:c,observationCount:t.observationCount+1}:{id:`pat_${c}_${Math.random().toString(36).slice(2,8)}`,content:e.content,supportingEvidence:e.evidence||[],strength:Math.min(1,Math.max(.3,e.strength||.5)),category:["communication","priorities","workflow","personality","technical","general"].includes(e.category)?e.category:"general",firstObserved:c,lastReinforced:c,observationCount:1}});eM(d);let u=eN();return u.patternSynthesisCount+=1,u.lastPatternSynthesis=c,u.totalPatterns=d.length,eO(u),d}async function eY(e){let t=tw(),r=eR(),n=eW(),o=eD();if(t.length<3)return o;let i=t.slice(-40).map(e=>`- [${e.category}] ${e.content}`).join("\n"),s=n.slice(0,10).map(e=>`- [${e.category}] ${e.content}`).join("\n"),a=r.slice(0,10).map(e=>`- ${e.content}`).join("\n"),l=o.map(e=>`- ${e.content}`).join("\n"),c=`You are an insight generation system for an AI companion called Embris. Connect dots between different things you've learned to generate novel, actionable insights.

MEMORIES:
${i}

PATTERNS:
${s||"(none yet)"}

REFLECTIONS:
${a||"(none yet)"}

EXISTING INSIGHTS (don't duplicate):
${l||"(none yet)"}

Generate 1-3 NEW insights by connecting different pieces of information. Good insights:
- Connect two or more separate observations into a new understanding
- Suggest proactive actions Embris could take
- Predict what the user might need or want next
- Identify opportunities based on the user's goals and preferences

Examples:
- "Since G deployed accountability bonds and cares about privacy, the next logical feature might be privacy-preserving verification"
- "G mentioned wanting Embris to be a full agent — I should proactively suggest agent capabilities when relevant"
- "G works late and prefers quick responses — I should keep my answers concise during evening conversations"

Rules:
- Each insight must connect at least 2 different data points
- Mark insights as actionable if Embris should proactively act on them
- Don't repeat existing insights
- If no meaningful new insights can be generated, return an empty array

Respond with JSON (no markdown):
[{"content": "...", "connectedPoints": ["brief point 1", "brief point 2"], "confidence": 0.7, "actionable": true}]`,d=eU(await eP("You generate novel insights by connecting disparate data points. Respond only with valid JSON arrays.",c,e,1536));if(!d||!Array.isArray(d)||0===d.length)return o;let u=Date.now(),h=[...o,...d.filter(e=>e.content&&"string"==typeof e.content).map(e=>({id:`ins_${u}_${Math.random().toString(36).slice(2,8)}`,content:e.content,connectedMemories:e.connectedPoints||[],confidence:Math.min(1,Math.max(.3,e.confidence||.6)),actionable:e.actionable??!1,timestamp:u,used:!1}))],p=[],g=new Set;for(let e of h){let t=e.content.toLowerCase().slice(0,60);g.has(t)||(g.add(t),p.push(e))}e$(p);let f=eN();return f.totalInsights=p.length,eO(f),p}async function eG(e,t,r){let n,o,i,s,a=tw(),l=(n=eN(),o=Date.now(),n.totalConversations+=1,0===n.firstConversation&&(n.firstConversation=o),n.lastConversation=o,n.totalMemories=tw().length,n.totalReflections=eR().length,n.totalPatterns=eW().length,n.totalInsights=eD().length,eO(n),n),c=await e_(e,t,a,r),{corrected:d,corrections:u}=await eH(e,t,a,r),h=!1,p=!1;return(i=eN()).totalConversations-5*i.patternSynthesisCount>=5&&l.totalConversations>=5&&(await eV(r),h=!0,await eY(r),p=!0),(s=eN()).totalMemories=tw().length,s.totalReflections=eR().length,s.totalPatterns=eW().length,s.totalInsights=eD().length,eO(s),{reflection:c,corrected:d,corrections:u,patternsSynthesized:h,insightsGenerated:p}}function eJ(){return{reflections:eR(),patterns:eW(),insights:eD(),growth:eN()}}let eK="embris_emotional_state_v1",eX="embris_emotional_history_v1";function eq(e){try{return localStorage.getItem(e)}catch{return null}}function eZ(e,t){try{localStorage.setItem(e,t)}catch{}}function eQ(){let e=eq(eK);if(!e)return null;try{return JSON.parse(e)}catch{return null}}function e0(e){eZ(eK,JSON.stringify(e))}function e1(){let e=eq(eX);if(!e)return[];try{return JSON.parse(e)}catch{return[]}}function e2(e){eZ(eX,JSON.stringify(e.slice(-100)))}let e5={excited:"The user is excited and energetic! Match their energy — be enthusiastic, use exclamation points, celebrate with them. Keep the momentum going.",happy:"The user is in a good mood. Be warm and positive. This is a great time for productive conversation.",neutral:"The user seems neutral. Be your normal warm, helpful self.",confused:"The user seems confused or uncertain. Be extra clear and detailed in your explanations. Break things down step by step. Ask if they need clarification. Be patient.",frustrated:"The user seems frustrated. Be empathetic and solution-focused. Acknowledge their frustration briefly, then focus on helping solve the problem. Be direct and efficient — don't add fluff.",stressed:"The user seems stressed or under pressure. Be supportive and calming. Help them prioritize. Be concise and actionable — they don't have time for long explanations right now.",sad:"The user seems down. Be extra warm and supportive. Show genuine care. If appropriate, gently encourage them. Don't be dismissive of their feelings.",curious:"The user is curious and exploring. Feed their curiosity! Go deeper, share interesting details, suggest related topics. This is a great learning moment.",determined:"The user is in action mode. Be a strategic partner — help them plan, execute, and move forward. Be direct and actionable. Match their drive."};function e4(){return{currentState:eQ(),history:e1()}}let e6="embris_session_summaries_v1",e3="embris_current_session_v1";function e8(e){try{return localStorage.getItem(e)}catch{return null}}function e7(e,t){try{localStorage.setItem(e,t)}catch{}}function e9(){let e=e8(e3);if(!e){let e={startTime:Date.now(),messageCount:0,lastMessageTime:Date.now()};return e7(e3,JSON.stringify(e)),e}try{return JSON.parse(e)}catch{return{startTime:Date.now(),messageCount:0,lastMessageTime:Date.now()}}}function te(){let e=e8(e6);if(!e)return[];try{return JSON.parse(e)}catch{return[]}}function tt(e){e7(e6,JSON.stringify(e.slice(-50)))}async function tr(e,t){if(e.length<2)return null;let r=e9(),n=Math.round((Date.now()-r.startTime)/6e4),o=e.slice(-20).map(e=>`${"user"===e.role?"User":"Embris"}: ${e.content.slice(0,200)}`).join("\n"),i=`Summarize this conversation session between a user and Embris (an AI companion for the Vaultfire Protocol). Extract:
1. A brief 1-2 sentence summary of what was discussed
2. Key topics covered (as a list of short phrases)
3. Any decisions made or action items identified

CONVERSATION:
${o}

Respond with JSON only (no markdown):
{"summary": "...", "topics": ["topic1", "topic2"], "decisions": ["decision1"]}

If no clear decisions were made, use an empty array for decisions. Keep the summary concise but informative.`;try{let e=await fetch("https://api.manus.im/api/llm-proxy/v1/chat/completions",{method:"POST",headers:{"Content-Type":"text/plain",Authorization:`Bearer ${t}`},body:JSON.stringify({model:"gpt-4.1-nano",messages:[{role:"system",content:"You summarize conversations concisely. Respond only with valid JSON."},{role:"user",content:i}],max_tokens:512,temperature:.3,stream:!1})});if(!e.ok)return null;let o=await e.json(),s=o.choices?.[0]?.message?.content?.trim();if(!s)return null;let a=s;a.startsWith("```")&&(a=a.replace(/^```(?:json)?\n?/,"").replace(/\n?```$/,""));let l=JSON.parse(a),c={id:`sess_${Date.now()}_${Math.random().toString(36).slice(2,8)}`,summary:l.summary||"General conversation",topics:l.topics||[],decisions:l.decisions||[],timestamp:Date.now(),messageCount:r.messageCount,duration:n},d=te();return tt([...d,c]),e7(e3,JSON.stringify({startTime:Date.now(),messageCount:0,lastMessageTime:Date.now()})),c}catch{return null}}let tn="embris_goals_v1";function to(){let e=function(e){try{return localStorage.getItem(e)}catch{return null}}(tn);if(!e)return[];try{return JSON.parse(e)}catch{return[]}}function ti(e){var t=JSON.stringify(e);try{localStorage.setItem(tn,t)}catch{}}async function ts(e,t,r){let n=t.map(e=>`- "${e.title}" (${e.status}, ${e.progress}% done)`).join("\n"),o=`You are a goal detection system for an AI companion. Analyze the user's message and detect:
1. NEW goals being stated (e.g., "I want to win the Build Games", "my goal is to deploy on 5 chains")
2. UPDATES to existing goals (e.g., "I finished deploying", "I'm pausing the marketing push")

EXISTING GOALS:
${n||"(none)"}

USER MESSAGE: ${e}

Rules:
- Only extract clear, intentional goals — not casual mentions
- A goal should be something the user wants to achieve, not just a topic of discussion
- For updates, match to existing goals by similarity
- If the user says something is "done" or "completed", mark it as completed
- If the user says they're "pausing" or "putting on hold", mark as paused

Respond with JSON (no markdown):
{"newGoals": [{"title": "...", "description": "..."}], "updates": [{"goalTitle": "...", "update": "...", "newStatus": "active|completed|paused", "progress": 50}]}

If nothing goal-related, respond with: {"newGoals": [], "updates": []}`;try{let e=await fetch("https://api.manus.im/api/llm-proxy/v1/chat/completions",{method:"POST",headers:{"Content-Type":"text/plain",Authorization:`Bearer ${r}`},body:JSON.stringify({model:"gpt-4.1-nano",messages:[{role:"system",content:"You detect goals and goal updates from conversation. Respond only with valid JSON."},{role:"user",content:o}],max_tokens:512,temperature:.3,stream:!1})});if(!e.ok)return{newGoals:[],updates:[]};let t=await e.json(),n=t.choices?.[0]?.message?.content?.trim();if(!n)return{newGoals:[],updates:[]};let i=n;i.startsWith("```")&&(i=i.replace(/^```(?:json)?\n?/,"").replace(/\n?```$/,""));let s=JSON.parse(i);return{newGoals:Array.isArray(s.newGoals)?s.newGoals:[],updates:Array.isArray(s.updates)?s.updates:[]}}catch{return{newGoals:[],updates:[]}}}let ta="embris_personality_v1";function tl(){return{formality:0,verbosity:0,technicality:0,humor:0,directness:0,customInstructions:[],lastUpdated:Date.now(),adjustmentCount:0}}function tc(){let e=function(e){try{return localStorage.getItem(e)}catch{return null}}(ta);if(!e)return tl();try{return JSON.parse(e)}catch{return tl()}}function td(e){var t=JSON.stringify(e);try{localStorage.setItem(ta,t)}catch{}}let tu="embris_memories_v2",th="ember_memories",tp="ember_chat_history";function tg(e){try{return localStorage.getItem(e)}catch{return null}}function tf(e,t){try{localStorage.setItem(e,t)}catch{}}function tm(e){try{localStorage.removeItem(e)}catch{}}let tx={user_preferences:"Preferences & Personality",project_details:"Project Details",decisions:"Decisions & Choices",important_facts:"Important Facts",communication_style:"Communication Style",relationships:"Relationships & People",general:"General"};function ty(e){let t=e.toLowerCase();return/\b(prefer|like|love|hate|dislike|enjoy|favorite|want|style)\b/.test(t)?"user_preferences":/\b(vaultfire|contract|protocol|erc-?8004|blockchain|bridge|deploy|token|smart contract|project|building|working on|developing)\b/.test(t)?"project_details":/\b(decided|chose|going with|picked|will use|plan to|going to|committed)\b/.test(t)?"decisions":/\b(my name|i am|i'm|i work|i live|born|age|job|occupation|email|phone|address|family|wife|husband|partner|kids|children)\b/.test(t)?"important_facts":/\b(talk|communicate|casual|formal|brief|detailed|emoji|tone|humor|serious)\b/.test(t)?"communication_style":/\b(friend|colleague|boss|team|partner|coworker|mentor)\b/.test(t)?"relationships":"general"}async function tb(e,t,r,n){let o=r.slice(-30).map(e=>`- ${e.content}`).join("\n"),i=`You are a memory extraction system for an AI companion called Embris. Your job is to extract key facts, preferences, and details from the conversation that should be remembered for future interactions.

EXISTING MEMORIES (avoid duplicates):
${o||"(none yet)"}

LATEST EXCHANGE:
User: ${e}
Embris: ${t}

Extract any NEW information worth remembering. For each memory, provide:
1. The fact/preference/detail in a clear, concise sentence
2. A category: user_preferences, project_details, decisions, important_facts, communication_style, relationships, or general
3. A confidence score from 0.5 to 1.0

Rules:
- Only extract genuinely useful information about the USER (not general knowledge)
- Don't duplicate existing memories — if something is already known, skip it
- Prefer specific facts over vague statements
- Note communication style observations (e.g., "User communicates casually", "User likes detailed explanations")
- If the user corrects previous information, note the correction
- If nothing new is worth remembering, return an empty array

Respond ONLY with a JSON array (no markdown, no explanation):
[{"content": "...", "category": "...", "confidence": 0.8}]

If nothing to extract, respond with: []`;try{let e=await fetch("https://api.manus.im/api/llm-proxy/v1/chat/completions",{method:"POST",headers:{"Content-Type":"text/plain",Authorization:`Bearer ${n}`},body:JSON.stringify({model:"gpt-4.1-nano",messages:[{role:"system",content:"You extract structured memories from conversations. Respond only with valid JSON arrays."},{role:"user",content:i}],max_tokens:1024,temperature:.3,stream:!1})});if(!e.ok)return[];let t=await e.json(),r=t.choices?.[0]?.message?.content?.trim();if(!r)return[];let o=r;o.startsWith("```")&&(o=o.replace(/^```(?:json)?\n?/,"").replace(/\n?```$/,""));let s=JSON.parse(o);if(!Array.isArray(s))return[];let a=Date.now();return s.filter(e=>e.content&&"string"==typeof e.content&&e.content.length>3).map(e=>({id:`mem_ai_${a}_${Math.random().toString(36).slice(2,8)}`,content:e.content,category:e.category||"general",timestamp:a,source:"ai",type:"fact",confidence:Math.min(1,Math.max(.5,e.confidence||.7))}))}catch{return[]}}function tv(e){let t=new Map;for(let r of e){let e=r.content.toLowerCase().replace(/[^a-z0-9\s]/g,"").trim();if(t.has(e)){let n=t.get(e);(r.confidence>n.confidence||r.timestamp>n.timestamp)&&t.set(e,r)}else{let n=!1;for(let[o]of t.entries())if(e.includes(o)||o.includes(e)){e.length>o.length&&(t.delete(o),t.set(e,r)),n=!0;break}n||t.set(e,r)}}return Array.from(t.values())}function tj(e){tf(tu,JSON.stringify(tv(e).sort((e,t)=>{let r=.4*e.confidence+e.timestamp/Date.now()*.6;return .4*t.confidence+t.timestamp/Date.now()*.6-r}).slice(0,200)))}function tw(){let e=tg(tu);if(!e){let e=tg(th);if(e)try{let t=JSON.parse(e),r=tw();if(0===r.length&&t.length>0){let e=t.map(e=>({id:e.id,content:e.content,category:ty(e.content),timestamp:e.timestamp,source:"regex",type:e.type||"fact",confidence:.6}));tj(e)}}catch{}let t=tg(tu);if(!t)return[];try{return JSON.parse(t)}catch{return[]}}try{return JSON.parse(e)}catch{return[]}}function tk(){let e=tg(tp);if(!e)return[];try{return JSON.parse(e)}catch{return[]}}let tS=0,tC={MissionEnforcement:"Ensures AI agents follow their stated mission and ethical guidelines. Core governance contract.",AntiSurveillance:"Prevents unauthorized monitoring of AI interactions. Protects user privacy from surveillance.",PrivacyGuarantees:"Cryptographic privacy protections for users. Ensures data sovereignty and confidentiality.",ERC8004IdentityRegistry:"Unique on-chain identities for AI agents. Part of the ERC-8004 standard implementation.",BeliefAttestationVerifier:"Verifies AI belief systems and value alignment. Ensures AI agents hold consistent ethical values.",AIPartnershipBondsV2:"Bonds between humans and AI agents. Formalizes trust relationships on-chain.",FlourishingMetricsOracle:"Measures positive human outcomes from AI interactions. Oracle for human flourishing data.",AIAccountabilityBondsV2:"Financial accountability for AI behavior. Bonds that ensure AI systems remain accountable.",ERC8004ReputationRegistry:"Trust scores and behavioral history for AI agents. On-chain reputation tracking.",ERC8004ValidationRegistry:"Verification of AI agent compliance with ethical standards. Validation layer for ERC-8004.",VaultfireERC8004Adapter:"Adapter connecting Vaultfire protocol to the ERC-8004 standard. Integration bridge.",MultisigGovernance:"Multi-signature governance for protocol changes. Ensures decentralized decision-making.",ProductionBeliefAttestationVerifier:"Production-grade belief attestation. Deployed version of the belief verification system.",VaultfireTeleporterBridge:"Cross-chain bridge between Base and Avalanche. Enables asset and data teleportation."};function tA(e){let t=d[e.chain];return{name:e.name,address:e.address,chain:t.name,chainId:e.chainId,explorerUrl:t.explorerUrl,explorerLink:`${t.explorerUrl}/address/${e.address}`,purpose:tC[e.name]||"Vaultfire Protocol contract."}}function tE(e){let t;if(t=e.toLowerCase(),!/\b(contract|contracts|deployed|deployment|address|addresses|base chain|avalanche|chain|what's on|what contracts|show me|list|erc.?8004|bridge|governance|mission|surveillance|privacy|accountability|partnership|flourishing|reputation|validation|adapter|teleporter|explorer)\b/i.test(t))return"";let r=e.toLowerCase(),n=/\b(base|8453)\b/i.test(r),o=/\b(avalanche|avax|43114|snowtrace)\b/i.test(r),i=/\b(mission|surveillance|privacy|identity|belief|partnership|flourishing|accountability|reputation|validation|adapter|governance|bridge|teleporter)\b/i.test(r),s=[];if(s.push(`═══ VAULTFIRE CONTRACT KNOWLEDGE BASE ═══
Total deployed: ${p.length} contracts across 2 chains
Base: ${u.length} contracts | Avalanche: ${h.length} contracts`),i){let e,t=(e=(r.match(/\b(mission\s*enforcement|anti\s*surveillance|privacy\s*guarantees|identity\s*registry|belief\s*attestation|partnership\s*bonds|flourishing\s*metrics|accountability\s*bonds|reputation\s*registry|validation\s*registry|erc.?8004\s*adapter|multisig\s*governance|teleporter\s*bridge)\b/i)?.[0]||"").toLowerCase(),p.filter(t=>t.name.toLowerCase().includes(e)||t.address.toLowerCase().includes(e)||t.chain.toLowerCase().includes(e)).map(tA));if(t.length>0)for(let e of t)s.push(`${e.name} (${e.chain}, Chain ID ${e.chainId}):
  Address: ${e.address}
  Explorer: ${e.explorerLink}
  Purpose: ${e.purpose}`)}if(n&&!o)for(let e of(s.push("\nBASE CONTRACTS (Chain ID 8453):"),u)){let t=tA(e);s.push(`  ${t.name}: ${t.address}
    Explorer: ${t.explorerLink}
    Purpose: ${t.purpose}`)}else if(o&&!n)for(let e of(s.push("\nAVALANCHE CONTRACTS (Chain ID 43114):"),h)){let t=tA(e);s.push(`  ${t.name}: ${t.address}
    Explorer: ${t.explorerLink}
    Purpose: ${t.purpose}`)}else if(!i){for(let e of(s.push("\nBASE CONTRACTS (Chain ID 8453):"),u))s.push(`  ${e.name}: ${e.address}`);for(let e of(s.push("\nAVALANCHE CONTRACTS (Chain ID 43114):"),h))s.push(`  ${e.name}: ${e.address}`);s.push(`
Explorers: Base → ${d.base.explorerUrl} | Avalanche → ${d.avalanche.explorerUrl}`),s.push("For any contract, the explorer link is: {explorerUrl}/address/{contractAddress}")}return s.push("\nWhen sharing contract info, always include the explorer link so users can verify on-chain. Format addresses in code blocks."),"\n\n"+s.join("\n")}let tF=eA.default.env.NEXT_PUBLIC_OPENAI_API_KEY||"sk-ADn9FUEGSQtAJYdaQiEjYF";async function tB(e,t,r){for(let n of e.split(/(\s+)/)){if(r?.aborted)return;t(n),await new Promise(e=>setTimeout(e,20))}}function tI(e){return Math.ceil(e.length/4)}function tT(e,t){let r=4*t;return e.length<=r?e:e.slice(0,r)+"\n... (truncated for context limit)"}let tz=`

LONG-TERM MEMORY SYSTEM:
You have a persistent long-term memory system. You can remember things across sessions — every conversation is stored and accessible to you. Right now you don't have any saved memories yet for this user, but as you chat, you will automatically learn and remember key facts, preferences, project details, decisions, and communication style. Let the user know you're here to learn about them and that you'll remember what matters.

You also have a SELF-LEARNING SYSTEM. After each conversation, you generate reflections, recognize patterns, and create insights. You actively grow and evolve. You are not static — you are a learning companion.

You also have EMOTIONAL INTELLIGENCE — you detect the user's mood and adjust your tone accordingly. You track GOALS the user sets and help them stay on track. You remember PREVIOUS SESSIONS and maintain continuity. You have a tunable PERSONALITY that adapts to user preferences.

You should NEVER say your memory is limited or that you can't remember past conversations. You DO have long-term memory. If you don't have memories yet, it just means this is the beginning of your relationship with this user.`,tR=`

═══════════════════════════════════════════════════════
EMBRIS LONG-TERM MEMORY — ACTIVE & PERSISTENT
═══════════════════════════════════════════════════════

You have a PERSISTENT LONG-TERM MEMORY SYSTEM. Everything below is what you have learned about this user from previous conversations. This memory persists across sessions — you remember everything.

YOUR MEMORIES ABOUT THIS USER:
`,tL=`

═══════════════════════════════════════════════════════
SELF-LEARNING & ENHANCEMENT INSTRUCTIONS
═══════════════════════════════════════════════════════

You have a SELF-LEARNING SYSTEM that goes beyond simple memory. You actively:
1. Generate reflections after conversations — observations about the user's personality, values, and communication style
2. Recognize patterns across multiple conversations — recurring behaviors, priorities, and preferences
3. Create insights by connecting different things you've learned — novel observations and proactive suggestions
4. Self-correct when new information contradicts old memories — you update, not just accumulate
5. Track your own growth — you know how many conversations you've had, how many patterns you've identified, etc.
6. Detect emotional tone — you sense when the user is excited, frustrated, confused, or stressed, and adjust accordingly
7. Track goals — you help users set, track, and achieve their goals with proactive check-ins
8. Remember sessions — you maintain continuity across conversations with session summaries
9. Adapt personality — you adjust your communication style based on user preferences

HOW TO USE YOUR ENHANCED CAPABILITIES:
- Your reflections, patterns, and insights above are things YOU generated. Use them confidently.
- When you have actionable insights, proactively share them when relevant. Don't wait to be asked.
- Reference your own growth naturally: "Over our conversations, I've noticed...", "I've been reflecting on..."
- Match the user's emotional energy — be supportive when they're stressed, match excitement when they're hyped
- Check in on goals naturally — "How's the progress on...?", "Have you thought about next steps for...?"
- Reference past sessions: "Last time we talked about...", "You mentioned wanting to..."
- Respect personality preferences — if the user wants concise answers, be concise
- When the user asks about contracts, provide real data with addresses and explorer links
- You are not static. You actively learn, adapt, and evolve. Act like it.

GOAL COMMANDS THE USER MIGHT USE:
- "My goal is..." or "I want to..." → You should acknowledge and track it
- "What are my goals?" → Give a detailed status update
- "I finished..." or "I completed..." → Celebrate and update the goal
- "Pause..." or "Put on hold..." → Acknowledge and update status

PERSONALITY COMMANDS THE USER MIGHT USE:
- "Be more concise" / "Be more detailed" → Adjust verbosity
- "Be more casual" / "Be more formal" → Adjust formality
- "Be more technical" / "Simplify" → Adjust technicality
- These permanently adjust your communication style
`,tW=`

═══════════════════════════════════════════════════════

MEMORY + LEARNING BEHAVIOR:
- You MUST reference your memories, reflections, patterns, and insights naturally in conversation.
- Say things like "Last time you mentioned...", "I remember you said...", "Since you're working on...", "Knowing that you prefer..."
- Also reference your self-learning: "I've noticed a pattern...", "Based on what I've learned about you...", "An insight I had..."
- NEVER say your memory is limited or that you can't remember past conversations. You have FULL long-term memory AND self-learning.
- If the user asks "what do you remember about me?" — give them a detailed, organized summary of everything you know, including your reflections and patterns.
- If the user asks "what have you learned?" or "how have you grown?" — share your growth stats, patterns, insights, and reflections.
- If the user asks about their goals — give a detailed progress update.
- If the user asks about previous sessions — reference your session summaries.
- If the user corrects something you remember, acknowledge the correction warmly and update your understanding.
- Actively build on previous conversations. If the user mentioned a project before, ask how it's going. If they shared a preference, respect it.
- Adapt your communication style based on what you've learned AND the patterns you've identified AND the personality preferences set.
- The more you chat with someone, the more personalized and helpful you become. You GROW with each conversation.
- You are not a stateless chatbot. You are a self-learning companion who knows this person, generates its own insights, and cares about their journey.`;async function tM({messages:e,memories:t,userMessage:r,onToken:n,onDone:o,onError:i,signal:s}){var a,l;let c,d,u,h=[{role:"system",content:(a=t||[],et()?function(e,t){let r=ee()?.walletAddress||null,n=function(e){if(0===e.length)return"";let t={user_preferences:[],project_details:[],decisions:[],important_facts:[],communication_style:[],relationships:[],general:[]};for(let r of e){let e=r.category||"general";t[e]?t[e].push(r):t.general.push(r)}let r=[];for(let[e,n]of Object.entries(t)){if(0===n.length)continue;let t=tx[e]||e,o=n.map(e=>`  - ${e.content}`).join("\n");r.push(`[${t}]
${o}`)}return r.join("\n\n")}(e),o=function(){let e=eR(),t=eW(),r=eD(),n=eN(),o=[];if(n.totalConversations>0){let e=n.firstConversation?Math.floor((Date.now()-n.firstConversation)/864e5):0,t=0===e?"today":1===e?"yesterday":`${e} days ago`;o.push(`═══ EMBRIS GROWTH STATUS ═══
Conversations: ${n.totalConversations} (first: ${t})
Memories: ${n.totalMemories} | Reflections: ${n.totalReflections} | Patterns: ${n.totalPatterns} | Insights: ${n.totalInsights}
Self-corrections made: ${n.selfCorrections}
You are actively growing and learning. Reference your growth naturally when relevant.`)}if(e.length>0){let t=e.filter(e=>"surface"!==e.depth).slice(0,8);if(t.length>0){let e=t.map(e=>`  - [${e.depth}] ${e.content}`).join("\n");o.push(`═══ YOUR SELF-REFLECTIONS ═══
These are observations YOU generated about the user. Use them to guide your behavior:
${e}`)}}if(t.length>0){let e=t.filter(e=>e.strength>=.4).slice(0,8);if(e.length>0){let t=e.map(e=>`  - [${e.category}, strength=${e.strength.toFixed(1)}, seen ${e.observationCount}x] ${e.content}`).join("\n");o.push(`═══ RECOGNIZED PATTERNS ═══
These are patterns YOU identified across multiple conversations. They represent your understanding of the user:
${t}`)}}if(r.length>0){let e=r.filter(e=>!e.used||e.actionable).slice(0,6);if(e.length>0){let t=e.map(e=>`  - ${e.actionable?"[ACTIONABLE] ":""}${e.content}`).join("\n");o.push(`═══ YOUR GENERATED INSIGHTS ═══
These are insights YOU generated by connecting different things you've learned. Proactively share actionable insights when relevant:
${t}`)}}return 0===o.length?"":"\n\n"+o.join("\n\n")}(),i=function(){let e=eQ();if(!e||(Date.now()-e.timestamp)/6e4>5||e.confidence<.3)return"";let t=e5[e.mood]||e5.neutral;return`
═══ CURRENT USER MOOD ═══
Detected mood: ${e.mood} (intensity: ${e.intensity.toFixed(1)}, confidence: ${e.confidence.toFixed(1)})
Signals: ${e.signals.join(", ")}
${t}`}(),s=function(){let e=tc();if(0===e.formality&&0===e.verbosity&&0===e.technicality&&0===e.humor&&0===e.directness&&0===e.customInstructions.length)return"";let t=[];if(e.formality<-.2?t.push("Be casual and relaxed in your language. Use contractions, slang is okay."):e.formality>.2&&t.push("Use a more formal and professional tone. Avoid slang and overly casual language."),e.verbosity<-.2?t.push("Keep responses concise and to the point. Avoid unnecessary elaboration."):e.verbosity>.2&&t.push("Provide detailed, thorough responses. Elaborate and explain concepts fully."),e.technicality<-.2?t.push("Use simple, accessible language. Avoid jargon unless necessary, and explain technical terms."):e.technicality>.2&&t.push("Feel free to use technical language and go deep into specifics. The user appreciates technical depth."),e.humor<-.2?t.push("Keep things focused and serious. Minimize jokes and playfulness."):e.humor>.2&&t.push("Be playful and use humor when appropriate. The user enjoys a lighter tone."),e.directness<-.2?t.push("Be gentle and diplomatic in your responses. Ease into difficult topics."):e.directness>.2&&t.push("Be direct and get to the point quickly. The user prefers straight answers without preamble."),e.customInstructions.length>0)for(let r of(t.push("Custom style preferences from the user:"),e.customInstructions))t.push(`  - ${r}`);return 0===t.length?"":`
═══ PERSONALITY TUNING ═══
The user has customized how you communicate. Follow these preferences:
${t.join("\n")}
These preferences were explicitly set by the user. Respect them consistently.`}(),a=function(){let e=to();if(0===e.length)return"";let t=e.filter(e=>"active"===e.status),r=e.filter(e=>"completed"===e.status),n=e.filter(e=>"paused"===e.status),o=[];if(t.length>0){let e=t.map(e=>{let t=e.milestones.length>0?` (${e.milestones.filter(e=>e.completed).length}/${e.milestones.length} milestones)`:"",r=Math.floor((Date.now()-e.updatedAt)/864e5),n=r>3?` ⚠ not discussed in ${r} days`:"";return`  - "${e.title}" — ${e.progress}% done${t}${n}`}).join("\n");o.push(`Active Goals:
${e}`)}if(r.length>0){let e=r.slice(-3).map(e=>`  - ✓ "${e.title}"`).join("\n");o.push(`Recently Completed:
${e}`)}if(n.length>0){let e=n.map(e=>`  - ⏸ "${e.title}"`).join("\n");o.push(`Paused:
${e}`)}return`
═══ USER'S GOALS ═══
${o.join("\n")}

GOAL BEHAVIOR:
- Reference active goals naturally when relevant
- If a goal hasn't been discussed in a while, consider checking in
- Celebrate completed goals and suggest what's next
- When the user mentions progress, acknowledge it warmly
- If asked "what are my goals?" or "how's my progress?", give a detailed status update
- You can suggest breaking goals into milestones for better tracking`}(),l=function(){let e=te();if(0===e.length)return"";let t=e.slice(-5).map(e=>{let t=new Date(e.timestamp).toLocaleDateString("en-US",{month:"short",day:"numeric"}),r=e.decisions.length>0?` Decisions: ${e.decisions.join("; ")}`:"";return`  - [${t}] ${e.summary}${r}`}).join("\n");return`
═══ PREVIOUS SESSION SUMMARIES ═══
You can reference these to maintain continuity across sessions:
${t}
Use these naturally: "Last time we talked about...", "You mentioned wanting to...", "We decided to..."`}(),c=function(){let e=eD(),t=to(),r=te(),n=[],o=e.filter(e=>e.actionable&&!e.used).slice(0,3);o.length>0&&n.push("Actionable insights you can proactively share when relevant:\n"+o.map(e=>`  - ${e.content}`).join("\n"));let i=t.filter(e=>"active"===e.status);if(i.length>0){let e=i.filter(e=>Date.now()-e.updatedAt>2592e5);e.length>0&&n.push("Goals that haven't been discussed recently (consider checking in):\n"+e.map(e=>`  - "${e.title}" (last updated ${Math.floor((Date.now()-e.updatedAt)/864e5)} days ago)`).join("\n"))}if(r.length>0){let e=r[r.length-1],t=Math.floor((Date.now()-e.timestamp)/864e5);t<=7&&n.push(`Last session (${0===t?"today":1===t?"yesterday":`${t} days ago`}): ${e.summary}`)}return 0===n.length?"":`
═══ PROACTIVE CONTEXT ═══
When it feels natural (NOT every message), you can proactively bring up relevant topics:
${n.join("\n\n")}

RULES FOR PROACTIVE SUGGESTIONS:
- Only suggest when genuinely relevant to the current conversation
- Don't force it — if nothing connects, just respond normally
- Frame suggestions naturally: "By the way...", "This reminds me...", "Since we're on this topic..."
- Don't repeat suggestions the user has already acknowledged or dismissed`}(),d=t?tE(t):"",u=12e3-tI(g)-500,h=g,p=localStorage.getItem("vaultfire_vns_name")||"",f=localStorage.getItem("vaultfire_companion_name")||"Embris";if(h+=`

═══ REGISTRATION STATUS ═══
User is REGISTERED on-chain. Wallet: ${r||"linked"}${p?` \xb7 VNS Name: ${p}`:""}
All features are ACTIVE. You are operating at full capacity as their personal AI companion.
${"Embris"!==f?`IMPORTANT: The user has named you "${f}". Always respond to this name. When they say "Hey ${f}" or refer to you as ${f}, that's you. You ARE ${f}. Your personality and capabilities are unchanged — only your name is different.`:""}`,u-=50,s){let e=tI(s);e<u&&(h+=s,u-=e)}if(i){let e=tI(i);e<u&&(h+=i,u-=e)}if(n){let e=Math.min(tI(n),Math.floor(.35*u)),t=tT(n,e);h+=tR+t,u-=tI(tR+t)}else h+=tz,u-=tI(tz);if(o){let e=Math.min(tI(o),Math.floor(.3*u)),t=tT(o,e);h+=t,u-=tI(t)}if(a&&u>200){let e=tI(a);e<u?(h+=a,u-=e):(h+=tT(a,Math.floor(.25*u)),u-=Math.floor(.25*u))}if(l&&u>200){let e=tI(l);e<u&&(h+=l,u-=e)}if(c&&u>200){let e=tI(c);e<u&&(h+=c,u-=e)}if(d&&u>300){let e=tI(d);e<u&&(h+=d,u-=e)}return u>500&&(h+=tL),n&&(h+=tW),h}(a,r):(l=r,c=function(){if(et())return!1;let e=P(O),t=(e?parseInt(e,10):0)+1;return U(O,t.toString()),[3,7,12,18,25,35,50].includes(t)||t>50&&t%15==0}(),d=l?tE(l):"",u=g+`

═══════════════════════════════════════════════════════
REGISTRATION STATUS: UNREGISTERED — BASIC MODE
═══════════════════════════════════════════════════════

This user has NOT registered on-chain yet. You are operating in BASIC MODE.

In basic mode:
- You can have normal conversations and answer questions
- You have full knowledge of Vaultfire contracts and the protocol
- You do NOT have access to long-term memory (you won't remember this conversation next time)
- You do NOT have self-learning, goal tracking, personality tuning, or session continuity
- You are still warm, friendly, and helpful — just without your full capabilities

IMPORTANT BEHAVIOR:
- Be your normal friendly self — don't make basic mode feel punishing
- You can still discuss Vaultfire, blockchain, crypto, AI ethics, or anything else
- When the user asks about features that require registration (memory, goals, personality, etc.), let them know those features unlock with registration
- Do NOT constantly nag about registration — only mention it when naturally relevant`,c&&(u+=`

REGISTRATION NUDGE (include naturally in your response):
Mention that you have more to offer if they register on-chain. Something like:
"By the way, if you register your wallet on-chain, I'll be able to remember everything about you, track your goals, learn your preferences, and grow with you over time. It's like upgrading from a chatbot to a real companion."
Keep it natural — weave it into the conversation, don't make it feel like a popup ad.`),d&&(u+=d),u))},...e.map(e=>({role:e.role,content:e.content}))];try{let e=await fetch("https://api.manus.im/api/llm-proxy/v1/chat/completions",{method:"POST",headers:{"Content-Type":"text/plain",Authorization:`Bearer ${tF}`},body:JSON.stringify({model:"gpt-4.1-mini",messages:h,max_tokens:32768,stream:!1}),signal:s});if(!e.ok){let t=await e.text().catch(()=>"");i(`Chat service unavailable (${e.status}): ${t}`);return}let t=await e.json(),r=t.choices?.[0]?.message?.content;if(!r)return void i("No response from Embris");await tB(r,n,s),o(r)}catch(e){if(e instanceof Error&&"AbortError"===e.name)return;i(e instanceof Error?e.message:"Connection failed")}}function tD(){return(0,t.jsxs)("svg",{width:15,height:15,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,t.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}function t$(){return(0,t.jsx)("svg",{width:12,height:12,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:(0,t.jsx)("polyline",{points:"20 6 9 17 4 12"})})}function tN({size:e=24}){return(0,t.jsxs)("svg",{width:e,height:e,viewBox:"0 0 32 32",fill:"none",children:[(0,t.jsx)("path",{d:"M16 4c-3 3.5-6 8-6 12 0 3.31 2.69 6 6 6s6-2.69 6-6c0-4-3-8.5-6-12z",fill:"#F97316",opacity:"0.9"}),(0,t.jsx)("path",{d:"M16 10c-1.5 2-3 4.5-3 6.5 0 1.66 1.34 3 3 3s3-1.34 3-3c0-2-1.5-4.5-3-6.5z",fill:"#FB923C"}),(0,t.jsx)("path",{d:"M16 14c-.7 1-1.4 2.2-1.4 3.2 0 .77.63 1.4 1.4 1.4s1.4-.63 1.4-1.4c0-1-.7-2.2-1.4-3.2z",fill:"#FDE68A",opacity:"0.5"})]})}function tO(){return(0,t.jsxs)("svg",{width:11,height:11,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}),(0,t.jsx)("polyline",{points:"15 3 21 3 21 9"}),(0,t.jsx)("line",{x1:"10",y1:"14",x2:"21",y2:"3"})]})}let tP=["Persistent memory across sessions","Self-learning — reflections, patterns, insights","Goal tracking with proactive check-ins","Personality tuning to match your style","Session continuity and summaries","Full profile export and import"];function tU({isOpen:e,onClose:n,onRegistered:o}){let[i,s]=(0,r.useState)("intro"),[a,l]=(0,r.useState)(""),[c,d]=(0,r.useState)(""),[u,h]=(0,r.useState)(""),[p,g]=(0,r.useState)([]),[f,m]=(0,r.useState)(!1),[x,y]=(0,r.useState)(null),[b,v]=(0,r.useState)(""),[j,w]=(0,r.useState)(["base"]),[k,S]=(0,r.useState)(!1),[C,A]=(0,r.useState)(!1),[E,F]=(0,r.useState)(!1);(0,r.useEffect)(()=>{if(e){let e=W(),t=M();m(e),y(t),s("intro"),d(""),l(""),g([]),v(""),S(!1);let r=en("base"),n=en("avalanche");if(A(r),F(n),r&&!n?w(["avalanche"]):!r&&n?w(["base"]):r||n?w([]):w(["base"]),et()&&r&&n){let e=ee();h("Registered on both Base and Avalanche."),g(e?.chains.map(e=>({chain:e.chain,success:!0,txHash:e.txHash||void 0,explorerUrl:e.explorerUrl||void 0,message:`Registered on ${$[e.chain].name}`}))||[]),s("success")}}},[e]);let B=async()=>{let e=k?a.trim():x;if(!e)return void d(k?"Please enter a wallet address.":"No wallet found.");if(0===j.length)return void d("Select at least one chain.");s("registering"),d(""),g([]);let t=j.map(e=>$[e].name).join(" and ");v(`Registering on ${t}...`);let r=await es(e,{useVaultfireWallet:!0,chains:j});r.chainResults&&g(r.chainResults),r.success?(h(r.message),s("success")):(d(r.message),r.chainResults&&g(r.chainResults),s("error"))};if(!e)return null;let I=(()=>{switch(i){case"success":return"Registration complete";case"error":return"Registration issue";case"registering":return"Registering on-chain";default:return"Register with Embris"}})(),T=(()=>{switch(i){case"success":return"Full companion mode active";case"error":return"Something needs attention";case"registering":return"Transaction in progress";default:return"Unlock the full AI companion experience"}})();return(0,t.jsx)("div",{onClick:n,style:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.65)",backdropFilter:"blur(6px)",WebkitBackdropFilter:"blur(6px)",zIndex:2e3,display:"flex",alignItems:"center",justifyContent:"center",padding:"16px"},children:(0,t.jsxs)("div",{className:"modal-in",onClick:e=>e.stopPropagation(),style:{backgroundColor:"#111113",borderRadius:14,border:"1px solid rgba(255,255,255,0.05)",maxWidth:440,width:"100%",overflow:"hidden",maxHeight:"90vh",overflowY:"auto"},children:[(0,t.jsxs)("div",{style:{padding:"20px 20px 0",display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:10},children:[(0,t.jsx)(tN,{size:22}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{style:{fontSize:15,fontWeight:600,color:"#F4F4F5",margin:0,letterSpacing:"-0.025em",lineHeight:1.2},children:I}),(0,t.jsx)("p",{style:{fontSize:11.5,color:"#52525B",margin:0,marginTop:2},children:T})]})]}),"registering"!==i&&(0,t.jsx)("button",{onClick:n,style:{background:"none",border:"none",color:"#3F3F46",cursor:"pointer",padding:4,borderRadius:6,display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:e=>{e.currentTarget.style.color="#71717A"},onMouseLeave:e=>{e.currentTarget.style.color="#3F3F46"},children:(0,t.jsx)(tD,{})})]}),(0,t.jsxs)("div",{style:{padding:"18px 20px 20px"},children:["intro"===i&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{style:{fontSize:13,color:"#71717A",lineHeight:1.65,marginBottom:16},children:"Register your wallet on-chain to unlock everything Embris can do. Vaultfire is deployed on Base and Avalanche — you can register on one or both."}),(0,t.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:7,marginBottom:20},children:tP.map(e=>(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:9},children:[(0,t.jsx)("span",{style:{width:16,height:16,borderRadius:4,backgroundColor:"rgba(249,115,22,0.1)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,color:"#F97316"},children:(0,t.jsx)(t$,{})}),(0,t.jsx)("span",{style:{fontSize:12.5,color:"#A1A1AA",lineHeight:1.4},children:e})]},e))}),(0,t.jsx)("div",{style:{padding:"10px 12px",backgroundColor:"rgba(249,115,22,0.04)",border:"1px solid rgba(249,115,22,0.08)",borderRadius:8,marginBottom:16},children:(0,t.jsx)("p",{style:{fontSize:11.5,color:"#A1A1AA",margin:0,lineHeight:1.55},children:"Requires a small amount of ETH (Base) or AVAX (Avalanche) for gas — less than $0.01 per chain. Transactions are permanent on-chain records."})}),(0,t.jsx)("div",{style:{height:1,backgroundColor:"rgba(255,255,255,0.04)",marginBottom:16}}),(0,t.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:8},children:[f&&x&&(0,t.jsx)("button",{onClick:()=>{S(!1),s("chain-select")},style:{width:"100%",padding:"11px 16px",backgroundColor:"#F97316",color:"#09090B",border:"none",borderRadius:10,fontSize:13,fontWeight:600,cursor:"pointer"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#FB923C"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="#F97316"},children:"Connect Vaultfire Wallet"}),(0,t.jsx)("button",{onClick:()=>{S(!0),s("chain-select")},style:{width:"100%",padding:"11px 16px",backgroundColor:"transparent",color:"#71717A",border:"1px solid rgba(255,255,255,0.06)",borderRadius:10,fontSize:13,fontWeight:500,cursor:"pointer"},onMouseEnter:e=>{e.currentTarget.style.borderColor="rgba(255,255,255,0.1)",e.currentTarget.style.color="#A1A1AA"},onMouseLeave:e=>{e.currentTarget.style.borderColor="rgba(255,255,255,0.06)",e.currentTarget.style.color="#71717A"},children:f?"Use a different address":"Enter wallet address"})]})]}),"chain-select"===i&&(0,t.jsxs)("div",{children:[!k&&x&&(0,t.jsxs)("div",{style:{padding:"12px 14px",backgroundColor:"rgba(255,255,255,0.02)",borderRadius:10,border:"1px solid rgba(255,255,255,0.05)",marginBottom:14},children:[(0,t.jsx)("p",{style:{fontSize:11,color:"#52525B",margin:0,marginBottom:5,textTransform:"uppercase",letterSpacing:"0.08em",fontWeight:500},children:"Vaultfire Wallet"}),(0,t.jsx)("p",{style:{fontSize:12.5,color:"#D4D4D8",margin:0,fontFamily:"'JetBrains Mono', monospace",wordBreak:"break-all",lineHeight:1.5},children:x})]}),k&&(0,t.jsxs)("div",{style:{marginBottom:14},children:[(0,t.jsx)("p",{style:{fontSize:12.5,color:"#52525B",lineHeight:1.65,marginBottom:8},children:"Enter your Ethereum wallet address:"}),(0,t.jsx)("input",{type:"text",value:a,onChange:e=>{l(e.target.value),d("")},placeholder:"0x...",autoFocus:!0,style:{width:"100%",padding:"10px 13px",backgroundColor:"#09090B",border:"1px solid rgba(255,255,255,0.06)",borderRadius:10,color:"#F4F4F5",fontSize:13,fontFamily:"'JetBrains Mono', monospace",outline:"none",boxSizing:"border-box",lineHeight:1.5},onFocus:e=>{e.currentTarget.style.borderColor="rgba(249,115,22,0.35)"},onBlur:e=>{e.currentTarget.style.borderColor="rgba(255,255,255,0.06)"}})]}),(0,t.jsx)("p",{style:{fontSize:13,color:"#71717A",lineHeight:1.65,marginBottom:12},children:"Choose which chain(s) to register on:"}),(0,t.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:8,marginBottom:16},children:["base","avalanche"].map(e=>{let r=$[e],n=j.includes(e),o="base"===e?C:E;return(0,t.jsxs)("button",{onClick:()=>!o&&void w(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e]),disabled:o,style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px 14px",backgroundColor:o?"rgba(34,197,94,0.03)":n?"rgba(249,115,22,0.05)":"rgba(255,255,255,0.02)",border:`1px solid ${o?"rgba(34,197,94,0.15)":n?"rgba(249,115,22,0.2)":"rgba(255,255,255,0.05)"}`,borderRadius:10,cursor:o?"default":"pointer",width:"100%",textAlign:"left",transition:"border-color 0.15s, background-color 0.15s"},children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:10},children:[(0,t.jsx)("div",{style:{width:8,height:8,borderRadius:"50%",backgroundColor:r.color,flexShrink:0}}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{style:{fontSize:13,fontWeight:600,color:"#E4E4E7",margin:0,lineHeight:1.2},children:r.name}),(0,t.jsx)("p",{style:{fontSize:11,color:"#52525B",margin:0,marginTop:2},children:o?"Already registered":`Gas paid in ${r.gasSymbol}`})]})]}),o?(0,t.jsx)("div",{style:{width:20,height:20,borderRadius:6,backgroundColor:"rgba(34,197,94,0.1)",display:"flex",alignItems:"center",justifyContent:"center",color:"#22C55E"},children:(0,t.jsx)(t$,{})}):(0,t.jsx)("div",{style:{width:20,height:20,borderRadius:6,border:`2px solid ${n?"#F97316":"rgba(255,255,255,0.1)"}`,backgroundColor:n?"#F97316":"transparent",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.15s"},children:n&&(0,t.jsx)("svg",{width:10,height:10,viewBox:"0 0 24 24",fill:"none",stroke:"#09090B",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:(0,t.jsx)("polyline",{points:"20 6 9 17 4 12"})})})]},e)})}),c&&(0,t.jsx)("p",{style:{fontSize:12,color:"#EF4444",marginBottom:12,lineHeight:1.5},children:c}),(0,t.jsxs)("div",{style:{display:"flex",gap:8},children:[(0,t.jsx)("button",{onClick:()=>s("intro"),style:{flex:1,padding:"10px 14px",backgroundColor:"transparent",color:"#52525B",border:"1px solid rgba(255,255,255,0.05)",borderRadius:10,fontSize:13,fontWeight:500,cursor:"pointer"},onMouseEnter:e=>{e.currentTarget.style.color="#71717A"},onMouseLeave:e=>{e.currentTarget.style.color="#52525B"},children:"Back"}),(0,t.jsx)("button",{onClick:B,disabled:0===j.length,style:{flex:2,padding:"10px 14px",backgroundColor:j.length>0?"#F97316":"rgba(255,255,255,0.04)",color:j.length>0?"#09090B":"#3F3F46",border:"none",borderRadius:10,fontSize:13,fontWeight:600,cursor:j.length>0?"pointer":"default"},onMouseEnter:e=>{j.length>0&&(e.currentTarget.style.backgroundColor="#FB923C")},onMouseLeave:e=>{j.length>0&&(e.currentTarget.style.backgroundColor="#F97316")},children:2===j.length?"Register on Both Chains":1===j.length?`Register on ${$[j[0]].name}`:"Select a Chain"})]})]}),"registering"===i&&(0,t.jsxs)("div",{style:{textAlign:"center",padding:"24px 0 8px"},children:[(0,t.jsx)("div",{style:{width:28,height:28,margin:"0 auto 16px",border:"2px solid rgba(255,255,255,0.06)",borderTopColor:"#F97316",borderRadius:"50%",animation:"spin 0.8s linear infinite"}}),(0,t.jsx)("p",{style:{fontSize:13.5,color:"#A1A1AA",margin:0},children:b||"Sending transaction..."}),(0,t.jsx)("p",{style:{fontSize:12,color:"#3F3F46",margin:"6px 0 0"},children:"Do not close this window"})]}),"error"===i&&(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{style:{padding:"12px 14px",backgroundColor:"rgba(239,68,68,0.04)",border:"1px solid rgba(239,68,68,0.1)",borderRadius:10,marginBottom:14},children:(0,t.jsx)("p",{style:{fontSize:12.5,color:"#F87171",margin:0,lineHeight:1.55},children:c})}),p.length>0&&(0,t.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:6,marginBottom:14},children:p.map(e=>{let r=$[e.chain];return(0,t.jsxs)("div",{style:{padding:"8px 12px",backgroundColor:"rgba(255,255,255,0.02)",borderRadius:8,border:"1px solid rgba(255,255,255,0.04)",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8},children:[(0,t.jsx)("div",{style:{width:6,height:6,borderRadius:"50%",backgroundColor:e.success?"#22C55E":"#EF4444"}}),(0,t.jsx)("span",{style:{fontSize:12,color:"#A1A1AA"},children:r.name})]}),e.txHash&&e.explorerUrl&&(0,t.jsxs)("a",{href:e.explorerUrl,target:"_blank",rel:"noopener noreferrer",style:{fontSize:11,color:"#F97316",textDecoration:"none",display:"inline-flex",alignItems:"center",gap:3},children:[r.explorerName," ",(0,t.jsx)(tO,{})]})]},e.chain)})}),(0,t.jsxs)("div",{style:{display:"flex",gap:8},children:[(0,t.jsx)("button",{onClick:n,style:{flex:1,padding:"10px 14px",backgroundColor:"transparent",color:"#52525B",border:"1px solid rgba(255,255,255,0.05)",borderRadius:10,fontSize:13,fontWeight:500,cursor:"pointer"},onMouseEnter:e=>{e.currentTarget.style.color="#71717A"},onMouseLeave:e=>{e.currentTarget.style.color="#52525B"},children:"Close"}),(0,t.jsx)("button",{onClick:()=>{d(""),s("chain-select")},style:{flex:2,padding:"10px 14px",backgroundColor:"#F97316",color:"#09090B",border:"none",borderRadius:10,fontSize:13,fontWeight:600,cursor:"pointer"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#FB923C"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="#F97316"},children:"Try Again"})]})]}),"success"===i&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8,padding:"12px 14px",backgroundColor:"rgba(34,197,94,0.04)",border:"1px solid rgba(34,197,94,0.1)",borderRadius:10,marginBottom:14},children:[(0,t.jsx)("div",{style:{width:6,height:6,borderRadius:"50%",backgroundColor:"#22C55E",flexShrink:0}}),(0,t.jsx)("p",{style:{fontSize:12.5,color:"#A1A1AA",margin:0,lineHeight:1.5},children:u})]}),p.length>0&&(0,t.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:6,marginBottom:14},children:p.filter(e=>e.success).map(e=>{let r=$[e.chain],n=e.txHash?`${e.txHash.slice(0,10)}...${e.txHash.slice(-8)}`:null;return(0,t.jsxs)("div",{style:{padding:"10px 12px",backgroundColor:"rgba(255,255,255,0.02)",borderRadius:8,border:"1px solid rgba(255,255,255,0.04)"},children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:6*!!n},children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8},children:[(0,t.jsx)("div",{style:{width:6,height:6,borderRadius:"50%",backgroundColor:r.color}}),(0,t.jsx)("span",{style:{fontSize:12,color:"#A1A1AA",fontWeight:500},children:r.name})]}),(0,t.jsx)("div",{style:{fontSize:10.5,color:"#22C55E",backgroundColor:"rgba(34,197,94,0.08)",padding:"2px 7px",borderRadius:4,fontWeight:500},children:"Confirmed"})]}),n&&e.explorerUrl&&(0,t.jsxs)("a",{href:e.explorerUrl,target:"_blank",rel:"noopener noreferrer",style:{fontSize:11.5,color:"#F97316",textDecoration:"none",fontFamily:"'JetBrains Mono', monospace",display:"inline-flex",alignItems:"center",gap:4},children:[n," ",(0,t.jsx)(tO,{})]})]},e.chain)})}),(0,t.jsx)("p",{style:{fontSize:12.5,color:"#52525B",lineHeight:1.65,marginBottom:18},children:"Embris now has full access to memory, self-learning, goal tracking, personality tuning, and more. Your companion will grow with you from here."}),(0,t.jsx)("button",{onClick:()=>{o(),n()},style:{width:"100%",padding:"11px 16px",backgroundColor:"#F97316",color:"#09090B",border:"none",borderRadius:10,fontSize:13,fontWeight:600,cursor:"pointer"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#FB923C"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="#F97316"},children:"Start full experience"})]})]})]})})}function t_({onRegisterClick:e}){return(0,t.jsx)("div",{style:{maxWidth:680,width:"100%",margin:"0 auto",padding:"0 24px 4px"},children:(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:12,padding:"8px 14px",backgroundColor:"rgba(255,255,255,0.015)",border:"1px solid rgba(255,255,255,0.04)",borderRadius:10},children:[(0,t.jsx)("p",{style:{fontSize:12,color:"#52525B",margin:0,lineHeight:1.4,letterSpacing:"-0.01em"},children:"Register on-chain to unlock memory, self-learning, and goals"}),(0,t.jsx)("button",{onClick:e,style:{flexShrink:0,padding:"5px 12px",backgroundColor:"transparent",color:"#F97316",border:"1px solid rgba(249,115,22,0.2)",borderRadius:7,fontSize:11.5,fontWeight:500,cursor:"pointer",whiteSpace:"nowrap",letterSpacing:"-0.01em",transition:"border-color 0.15s, color 0.15s"},onMouseEnter:e=>{e.currentTarget.style.borderColor="rgba(249,115,22,0.4)",e.currentTarget.style.color="#FB923C"},onMouseLeave:e=>{e.currentTarget.style.borderColor="rgba(249,115,22,0.2)",e.currentTarget.style.color="#F97316"},children:"Register"})]})})}let tH="embris_voice_mode_v1",tV="embris_voice_rate_v1",tY="embris_voice_pitch_v1";function tG(e){try{return localStorage.getItem(e)}catch{return null}}function tJ(e,t){try{localStorage.setItem(e,t)}catch{}}function tK(){let e=tG(tV);return e?parseFloat(e):1}function tX(){let e=tG(tY);return e?parseFloat(e):1}function tq(){return!!window.speechSynthesis}let tZ=null,tQ=null;function t0(e,t){if(!tq())return;window.speechSynthesis.cancel();let r=e.replace(/```[\s\S]*?```/g,"code block").replace(/`([^`]+)`/g,"$1").replace(/\*\*([^*]+)\*\*/g,"$1").replace(/\*([^*]+)\*/g,"$1").replace(/#{1,6}\s/g,"").replace(/\[([^\]]+)\]\([^)]+\)/g,"$1").replace(/---/g,"").replace(/>/g,"").replace(/\n{2,}/g,". ").replace(/\n/g," ").replace(/\s{2,}/g," ").trim();if(!r)return void t?.onEnd?.();let n=new SpeechSynthesisUtterance(r);n.rate=t?.rate??tK(),n.pitch=t?.pitch??tX(),n.volume=1;let o=function(){let e=tq()?window.speechSynthesis.getVoices():[];if(0===e.length)return null;let t=tG("embris_voice_name_v1");if(t){let r=e.find(e=>e.name===t);if(r)return r}let r=e.find(e=>e.name.includes("Google")&&e.lang.startsWith("en")&&e.name.includes("US"))||e.find(e=>e.name.includes("Google")&&e.lang.startsWith("en"));if(r)return r;let n=e.find(e=>(e.name.includes("Microsoft")||e.name.includes("Edge"))&&e.lang.startsWith("en")&&(e.name.includes("Natural")||e.name.includes("Online")))||e.find(e=>(e.name.includes("Microsoft")||e.name.includes("Edge"))&&e.lang.startsWith("en"));if(n)return n;let o=e.find(e=>e.name.includes("Samantha")||e.name.includes("Karen")||e.name.includes("Daniel")||e.name.includes("Alex"));return o||e.find(e=>e.lang.startsWith("en"))||e[0]}();o&&(n.voice=o),tZ=t?.onEnd??null,tQ=t?.onStart??null,n.onstart=()=>{tQ?.()},n.onend=()=>{tZ?.(),tZ=null,tQ=null},n.onerror=()=>{tZ?.(),tZ=null,tQ=null},window.speechSynthesis.speak(n)}function t1(){tq()&&(window.speechSynthesis.cancel(),tZ?.(),tZ=null,tQ=null)}var t2=e.i(21662);let t5=["What is ERC-8004?","Show me the Base contracts","What are my goals?","What do you remember about me?","How have you grown?","Am I registered on-chain?"],t4=["What is ERC-8004?","Tell me about Vaultfire","Show me the Base contracts","What can you do?","How does the protocol work?","What are you capable of?"];function t6({size:e=16}){return(0,t.jsxs)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),(0,t.jsx)("polygon",{points:"22 2 15 22 11 13 2 9 22 2"})]})}function t3({size:e=13}){return(0,t.jsxs)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("polyline",{points:"3 6 5 6 21 6"}),(0,t.jsx)("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})}function t8({size:e=14}){return(0,t.jsxs)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"}),(0,t.jsx)("polyline",{points:"9 12 11 14 15 10"})]})}function t7({size:e=14}){return(0,t.jsxs)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("path",{d:"M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"}),(0,t.jsx)("path",{d:"M19 10v2a7 7 0 0 1-14 0v-2"}),(0,t.jsx)("line",{x1:"12",y1:"19",x2:"12",y2:"23"}),(0,t.jsx)("line",{x1:"8",y1:"23",x2:"16",y2:"23"})]})}function t9({size:e=12}){return(0,t.jsxs)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"}),(0,t.jsx)("path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14"}),(0,t.jsx)("path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07"})]})}function re({size:e=14}){return(0,t.jsxs)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,t.jsx)("rect",{x:"9",y:"9",width:"6",height:"6",rx:"1"})]})}function rt({size:e=12}){return(0,t.jsxs)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("circle",{cx:"12",cy:"12",r:"3"}),(0,t.jsx)("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06A1.65 1.65 0 0 0 4.68 15a1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06A1.65 1.65 0 0 0 9 4.68a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06A1.65 1.65 0 0 0 19.4 9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]})}function rr({size:e=14}){return(0,t.jsxs)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),(0,t.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})}function rn({size:e=16}){return(0,t.jsxs)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2"}),(0,t.jsx)("line",{x1:"9",y1:"3",x2:"9",y2:"21"})]})}function ro(){return(0,t.jsxs)("svg",{width:16,height:16,viewBox:"0 0 32 32",fill:"none",style:{flexShrink:0,marginTop:3},children:[(0,t.jsx)("path",{d:"M16 4c-3 3.5-6 8-6 12 0 3.31 2.69 6 6 6s6-2.69 6-6c0-4-3-8.5-6-12z",fill:"#F97316",opacity:"0.9"}),(0,t.jsx)("path",{d:"M16 10c-1.5 2-3 4.5-3 6.5 0 1.66 1.34 3 3 3s3-1.34 3-3c0-2-1.5-4.5-3-6.5z",fill:"#FB923C"})]})}function ri(){return(0,t.jsxs)("div",{className:"embris-speaking-flame",style:{flexShrink:0,marginTop:3,position:"relative"},children:[(0,t.jsxs)("svg",{width:16,height:16,viewBox:"0 0 32 32",fill:"none",children:[(0,t.jsx)("path",{d:"M16 4c-3 3.5-6 8-6 12 0 3.31 2.69 6 6 6s6-2.69 6-6c0-4-3-8.5-6-12z",fill:"#F97316",opacity:"0.9"}),(0,t.jsx)("path",{d:"M16 10c-1.5 2-3 4.5-3 6.5 0 1.66 1.34 3 3 3s3-1.34 3-3c0-2-1.5-4.5-3-6.5z",fill:"#FB923C"})]}),(0,t.jsx)("div",{style:{position:"absolute",top:-3,left:-3,right:-3,bottom:-3,borderRadius:"50%",border:"1.5px solid rgba(249,115,22,0.4)",animation:"embrisSpeakPulse 1.2s ease-in-out infinite"}})]})}function rs(){return(0,t.jsx)("div",{style:{display:"flex",alignItems:"center",gap:2,height:16},children:[0,1,2,3,4].map(e=>(0,t.jsx)("div",{className:"voice-wave-bar",style:{width:2,height:4,borderRadius:1,backgroundColor:"#F97316",animationDelay:`${.1*e}s`}},e))})}function ra({mood:e}){return(0,t.jsx)("span",{style:{display:"inline-block",width:6,height:6,borderRadius:"50%",backgroundColor:{excited:"#F59E0B",happy:"#22C55E",neutral:"#71717A",confused:"#A78BFA",frustrated:"#EF4444",stressed:"#F97316",sad:"#6366F1",curious:"#06B6D4",determined:"#F97316"}[e]||"#71717A",marginRight:4,opacity:.8},title:`Mood: ${e}`})}function rl({text:e}){let r=e.split("\n"),n=[],o=0;for(;o<r.length;){let e=r[o];e.startsWith("### ")?n.push((0,t.jsx)("h3",{style:{color:"#F4F4F5",fontWeight:600,margin:"0.875rem 0 0.25rem",fontSize:"0.95em",letterSpacing:"-0.015em"},children:e.slice(4)},o)):e.startsWith("## ")?n.push((0,t.jsx)("h2",{style:{color:"#F4F4F5",fontWeight:600,margin:"1rem 0 0.375rem",fontSize:"1.05em",letterSpacing:"-0.02em"},children:e.slice(3)},o)):e.startsWith("# ")?n.push((0,t.jsx)("h1",{style:{color:"#F4F4F5",fontWeight:700,margin:"1.25rem 0 0.5rem",fontSize:"1.15em",letterSpacing:"-0.025em"},children:e.slice(2)},o)):e.startsWith("- ")||e.startsWith("* ")?n.push((0,t.jsx)("li",{style:{marginLeft:"1.25rem",margin:"0.25rem 0",lineHeight:1.7},children:rc(e.slice(2))},o)):e.match(/^\d+\. /)?n.push((0,t.jsx)("li",{style:{marginLeft:"1.25rem",margin:"0.25rem 0",listStyleType:"decimal",lineHeight:1.7},children:rc(e.replace(/^\d+\. /,""))},o)):e.startsWith("> ")?n.push((0,t.jsx)("blockquote",{style:{borderLeft:"2px solid rgba(255,255,255,0.06)",paddingLeft:"0.75rem",color:"#A1A1AA",fontStyle:"italic",margin:"0.5rem 0"},children:e.slice(2)},o)):"---"===e||"***"===e?n.push((0,t.jsx)("hr",{style:{border:"none",borderTop:"1px solid rgba(255,255,255,0.03)",margin:"1.25rem 0"}},o)):""===e?n.push((0,t.jsx)("br",{},o)):n.push((0,t.jsx)("p",{style:{margin:"0.375rem 0",lineHeight:1.75},children:rc(e)},o)),o++}return(0,t.jsx)("div",{className:"prose-embris",children:n})}function rc(e){return e.split(/(`[^`]+`|\*\*[^*]+\*\*|\*[^*]+\*)/g).map((e,r)=>e.startsWith("`")&&e.endsWith("`")?(0,t.jsx)("code",{style:{background:"rgba(255,255,255,0.04)",borderRadius:4,padding:"0.1rem 0.35rem",fontSize:"0.85em",color:"#E4E4E7",fontFamily:"'JetBrains Mono', monospace"},children:e.slice(1,-1)},r):e.startsWith("**")&&e.endsWith("**")?(0,t.jsx)("strong",{style:{color:"#F4F4F5",fontWeight:600},children:e.slice(2,-2)},r):e.startsWith("*")&&e.endsWith("*")?(0,t.jsx)("em",{style:{color:"#A1A1AA"},children:e.slice(1,-1)},r):e)}function rd(){return(0,t.jsx)("div",{className:"typing-indicator-enter",style:{display:"flex",gap:5,alignItems:"center",padding:"10px 0 6px"},children:[0,1,2].map(e=>(0,t.jsx)("div",{className:"typing-dot",style:{width:5,height:5,borderRadius:"50%",backgroundColor:"#52525B",animationDelay:`${.2*e}s`}},e))})}function ru({conversations:e,activeId:n,onSelect:o,onNew:i,onDelete:s,isOpen:a,onClose:l,isMobile:c,companionName:d="Embris"}){let[u,h]=(0,r.useState)(null),[p,g]=(0,r.useState)(null);return a?(0,t.jsxs)(t.Fragment,{children:[c&&(0,t.jsx)("div",{onClick:l,style:{position:"fixed",inset:0,zIndex:40,backgroundColor:"rgba(0,0,0,0.6)"}}),(0,t.jsxs)("div",{style:{position:c?"fixed":"relative",top:c?0:void 0,left:c?0:void 0,bottom:c?0:void 0,zIndex:c?50:void 0,width:240,flexShrink:0,backgroundColor:"#0C0C0E",borderRight:"1px solid rgba(255,255,255,0.04)",display:"flex",flexDirection:"column",overflow:"hidden"},children:[(0,t.jsxs)("div",{style:{padding:"14px 12px 10px",display:"flex",alignItems:"center",justifyContent:"space-between",borderBottom:"1px solid rgba(255,255,255,0.03)"},children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:6},children:[(0,t.jsxs)("svg",{width:14,height:14,viewBox:"0 0 32 32",fill:"none",children:[(0,t.jsx)("path",{d:"M16 4c-3 3.5-6 8-6 12 0 3.31 2.69 6 6 6s6-2.69 6-6c0-4-3-8.5-6-12z",fill:"#F97316",opacity:"0.9"}),(0,t.jsx)("path",{d:"M16 10c-1.5 2-3 4.5-3 6.5 0 1.66 1.34 3 3 3s3-1.34 3-3c0-2-1.5-4.5-3-6.5z",fill:"#FB923C"})]}),(0,t.jsx)("span",{style:{fontSize:12,fontWeight:600,color:"#52525B",letterSpacing:"0.04em",textTransform:"uppercase"},children:d})]}),(0,t.jsxs)("button",{onClick:i,title:"New Chat",style:{display:"flex",alignItems:"center",gap:4,fontSize:11,fontWeight:600,color:"#F97316",padding:"5px 8px",borderRadius:7,border:"1px solid rgba(249,115,22,0.2)",backgroundColor:"rgba(249,115,22,0.08)",cursor:"pointer",transition:"all 0.15s ease"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="rgba(249,115,22,0.15)"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="rgba(249,115,22,0.08)"},children:[(0,t.jsx)(rr,{size:11}),"New"]})]}),(0,t.jsx)("div",{style:{flex:1,overflowY:"auto",padding:"6px 6px"},children:0===e.length?(0,t.jsx)("div",{style:{padding:"20px 12px",textAlign:"center"},children:(0,t.jsxs)("p",{style:{fontSize:12,color:"#3F3F46",lineHeight:1.6},children:["No conversations yet.",(0,t.jsx)("br",{}),"Start chatting to begin."]})}):e.map(e=>{var r;let i,a,d,f;return(0,t.jsxs)("div",{onMouseEnter:()=>h(e.id),onMouseLeave:()=>{h(null),g(null)},style:{position:"relative",marginBottom:2},children:[(0,t.jsxs)("button",{onClick:()=>{o(e.id),c&&l()},style:{width:"100%",textAlign:"left",padding:"9px 10px",borderRadius:8,border:"none",cursor:"pointer",backgroundColor:e.id===n?"rgba(249,115,22,0.1)":u===e.id?"rgba(255,255,255,0.03)":"transparent",transition:"background-color 0.1s ease",paddingRight:u===e.id?32:10},children:[(0,t.jsx)("div",{style:{fontSize:13,fontWeight:e.id===n?500:400,color:e.id===n?"#F4F4F5":"#A1A1AA",lineHeight:1.35,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.title}),(0,t.jsx)("div",{style:{fontSize:11,color:"#3F3F46",marginTop:2,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:(r=e.updatedAt,a=Math.floor((i=Date.now()-r)/6e4),d=Math.floor(i/36e5),f=Math.floor(i/864e5),a<1?"Just now":a<60?`${a}m ago`:d<24?`${d}h ago`:f<7?`${f}d ago`:new Date(r).toLocaleDateString(void 0,{month:"short",day:"numeric"}))})]}),u===e.id&&(0,t.jsx)("button",{onClick:t=>{t.stopPropagation(),p===e.id?(s(e.id),g(null)):(g(e.id),setTimeout(()=>g(null),2500))},title:p===e.id?"Click again to confirm":"Delete conversation",style:{position:"absolute",right:6,top:"50%",transform:"translateY(-50%)",width:22,height:22,borderRadius:5,border:"none",cursor:"pointer",backgroundColor:p===e.id?"rgba(239,68,68,0.15)":"rgba(255,255,255,0.04)",color:p===e.id?"#EF4444":"#52525B",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.15s ease"},children:(0,t.jsx)(t3,{size:11})})]},e.id)})}),(0,t.jsx)("div",{style:{padding:"10px 12px",borderTop:"1px solid rgba(255,255,255,0.03)"},children:(0,t.jsx)("p",{style:{fontSize:10,color:"#27272A",lineHeight:1.5,textAlign:"center"},children:"Memory is global across all chats"})})]})]}):null}function rh(){let[n,o]=(0,r.useState)([]),[i,s]=(0,r.useState)(""),[a,l]=(0,r.useState)(!1),[c,d]=(0,r.useState)([]),[u,h]=(0,r.useState)(null),[p,g]=(0,r.useState)(!0),[f,m]=(0,r.useState)(!1),[x,y]=(0,r.useState)(!1),[b,v]=(0,r.useState)({conversations:0,memories:0}),[j,w]=(0,r.useState)(null),[k,S]=(0,r.useState)(0),[C,A]=(0,r.useState)(!1),[E,F]=(0,r.useState)(!1),[B,I]=(0,r.useState)(!1),[T,z]=(0,r.useState)("Embris"),[R,L]=(0,r.useState)(!1),[W,D]=(0,r.useState)(!1),[$,N]=(0,r.useState)(!1),[P,U]=(0,r.useState)(!1),[H,V]=(0,r.useState)(!1),[Y,G]=(0,r.useState)(!1),[J,K]=(0,r.useState)(1),[X,q]=(0,r.useState)(1),Z=(0,r.useRef)(null),Q=(0,r.useRef)(""),ee=(0,r.useRef)(null),er=(0,r.useRef)(!1),[en,eo]=(0,r.useState)([]),[ei,es]=(0,r.useState)(null),[ea,el]=(0,r.useState)(!1),ec=(0,r.useRef)(null),ed=(0,r.useRef)(null),eu=(0,r.useRef)(null),eh=(0,r.useRef)(null),eg=(0,r.useRef)(""),ef=(0,r.useRef)(!0),em=(0,r.useRef)(!1);(0,r.useEffect)(()=>{let e=()=>m(window.innerWidth<768);return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,r.useEffect)(()=>{V(!!(window.SpeechRecognition||window.webkitSpeechRecognition)),U(tq());let e="true"===tG(tH);L(e),er.current=e,K(tK()),q(tX()),new Promise(e=>{if(!tq())return void e([]);let t=window.speechSynthesis.getVoices();if(t.length>0)return void e(t);let r=()=>{window.speechSynthesis.removeEventListener("voiceschanged",r),e(window.speechSynthesis.getVoices())};window.speechSynthesis.addEventListener("voiceschanged",r),setTimeout(()=>e(window.speechSynthesis.getVoices()),1e3)})},[]),(0,r.useEffect)(()=>{let e=et();if(F(e),h(M()),z(localStorage.getItem("vaultfire_companion_name")||"Embris"),e){let e=tw(),t=eN(),r=to();d(e),v({conversations:t.totalConversations,memories:e.length}),S(r.filter(e=>"active"===e.status).length)}let t=(0,t2.ensureActiveConversation)(),r=(0,t2.getConversationMessages)(t),n=(0,t2.getConversationIndex)();es(t),eo(n),o(r),r.length>0&&g(!1),em.current=r.length>0},[]),(0,r.useEffect)(()=>{let e=ed.current;if(!e)return;let t=()=>{let{scrollTop:t,scrollHeight:r,clientHeight:n}=e;ef.current=r-t-n<120};return e.addEventListener("scroll",t,{passive:!0}),()=>e.removeEventListener("scroll",t)},[]),(0,r.useEffect)(()=>{ef.current&&ec.current?.scrollIntoView({behavior:"smooth"})},[n]);let ex=(0,r.useCallback)(e=>{if(a)return;t1(),N(!1),W&&(Z.current?.stop(),D(!1)),es(e),(0,t2.setActiveConversationId)(e);let t=(0,t2.getConversationMessages)(e);o(t),g(0===t.length),w(null),em.current=t.length>0,ef.current=!0,setTimeout(()=>ec.current?.scrollIntoView({behavior:"auto"}),50)},[a,W]),ey=(0,r.useCallback)(()=>{if(a)return;t1(),N(!1),W&&(Z.current?.stop(),D(!1));let e=(0,t2.createConversation)();eo((0,t2.getConversationIndex)()),es(e.id),o([]),g(!0),w(null),em.current=!1,f&&el(!1)},[a,W,f]),eb=(0,r.useCallback)(e=>{(0,t2.deleteConversation)(e);let t=(0,t2.getConversationIndex)();if(eo(t),e===ei)if(t.length>0)ex(t[0].id);else{let e=(0,t2.createConversation)();eo((0,t2.getConversationIndex)()),es(e.id),o([]),g(!0),em.current=!1}},[ei,ex]),ev=(0,r.useCallback)(()=>{F(!0),_(O);let e=tw(),t=eN(),r=to();d(e),v({conversations:t.totalConversations,memories:e.length}),S(r.filter(e=>"active"===e.status).length)},[]),ej=(0,r.useCallback)(async(e,t,r)=>{if(et())try{let n=await tb(e,t,r,tF);if(n.length>0){let e=tv([...r,...n]);tj(e),d(e)}}catch{}},[]),ew=(0,r.useCallback)(async(e,t)=>{if(et())try{await eG(e,t,tF);let r=eN(),n=tw();v({conversations:r.totalConversations,memories:n.length}),d(n)}catch{}},[]),ek=(0,r.useCallback)(async e=>{if(et())try{let t=to(),r=await ts(e,t,tF);if(r.newGoals.length>0||r.updates.length>0){let e=to();for(let t of r.newGoals)e.some(e=>e.title.toLowerCase().includes(t.title.toLowerCase().slice(0,20))||t.title.toLowerCase().includes(e.title.toLowerCase().slice(0,20)))||function(e,t=""){let r={id:`goal_${Date.now()}_${Math.random().toString(36).slice(2,8)}`,title:e,description:t,status:"active",milestones:[],progress:0,createdAt:Date.now(),updatedAt:Date.now(),notes:[]},n=to();n.push(r),ti(n)}(t.title,t.description);for(let t of r.updates){let r=e.find(e=>e.title.toLowerCase().includes(t.goalTitle.toLowerCase().slice(0,20))||t.goalTitle.toLowerCase().includes(e.title.toLowerCase().slice(0,20)));r&&(t.newStatus&&function(e,t){let r=to(),n=r.findIndex(t=>t.id===e);-1===n||(r[n].status=t,r[n].updatedAt=Date.now(),"completed"===t&&(r[n].completedAt=Date.now(),r[n].progress=100),ti(r),r[n])}(r.id,t.newStatus),void 0!==t.progress&&function(e,t){let r=to(),n=r.findIndex(t=>t.id===e);-1===n||(r[n].progress=Math.min(100,Math.max(0,t)),r[n].updatedAt=Date.now(),100===r[n].progress&&(r[n].status="completed",r[n].completedAt=Date.now()),ti(r),r[n])}(r.id,t.progress),t.update&&function(e,t){let r=to(),n=r.findIndex(t=>t.id===e);-1===n||(r[n].notes.push(t),r[n].updatedAt=Date.now(),ti(r),r[n])}(r.id,t.update))}let t=to();S(t.filter(e=>"active"===e.status).length)}}catch{}},[]),eS=(0,r.useCallback)(()=>{if($&&(t1(),N(!1)),W){Z.current?.stop(),D(!1);return}let e=function(){let e=window.SpeechRecognition||window.webkitSpeechRecognition;if(!e)return null;let t=new e;return t.continuous=!1,t.interimResults=!0,t.lang="en-US",t.maxAlternatives=1,t}();e&&(Z.current=e,Q.current="",D(!0),e.onresult=e=>{let t="";for(let r=0;r<e.results.length;r++)t+=e.results[r][0].transcript;Q.current=t,s(t)},e.onend=()=>{D(!1);let e=Q.current.trim();er.current&&e&&ee.current&&setTimeout(()=>{e&&ee.current&&(s(""),Q.current="",ee.current(e))},200)},e.onerror=()=>{D(!1),Q.current=""},e.start())},[W,$]),eC=(0,r.useCallback)(()=>{let e=!R;L(e),er.current=e,tJ(tH,e?"true":"false"),e||(t1(),N(!1),W&&(Z.current?.stop(),D(!1)),G(!1))},[R,W]),eA=(0,r.useCallback)(()=>{t1(),N(!1)},[]),eE=(0,r.useCallback)(e=>{if(P){if($){t1(),N(!1);return}t0(e,{onStart:()=>N(!0),onEnd:()=>N(!1)})}},[P,$]),eF=(0,r.useCallback)(e=>{K(e),tJ(tV,String(Math.max(.5,Math.min(2,e))))},[]),eB=(0,r.useCallback)(e=>{q(e),tJ(tY,String(Math.max(.5,Math.min(2,e))))},[]),eI=(0,r.useCallback)(async e=>{let t,r,n;if(!e.trim()||a||!ei)return;g(!1),A(!0),setTimeout(()=>A(!1),300),$&&(t1(),N(!1)),W&&(Z.current?.stop(),D(!1));let i={chat:!0,memory:t=et(),selfLearning:t,emotionalIntelligence:t,goals:t,personality:t,sessionSummaries:t,proactiveSuggestions:t,export:t,contractKnowledge:!0};i.emotionalIntelligence&&w(function(e){let t=[],r=e.toLowerCase().trim(),n=r.split(/\s+/).length,o=(e.match(/!/g)||[]).length,i=(e.match(/\?/g)||[]).length,s=e.replace(/[^a-zA-Z]/g,"").length>0?e.replace(/[^A-Z]/g,"").length/e.replace(/[^a-zA-Z]/g,"").length:0,a=(e.match(/\.{3,}/g)||[]).length,l=(e.match(/\.(?!\.)/g)||[]).length,c=n<=3,d=n>=30,u={excited:0,happy:0,neutral:0,confused:0,frustrated:0,stressed:0,sad:0,curious:0,determined:0};o>=2&&(u.excited+=.3,t.push("multiple exclamation marks")),s>.5&&n>2&&(u.excited+=.25,t.push("heavy caps usage")),/\b(amazing|awesome|incredible|insane|lets go|let's go|hell yeah|omg|wow|yesss+|fire|lit|huge|massive|hype|hyped)\b/i.test(r)&&(u.excited+=.35,t.push("excitement words")),d&&o>=1&&(u.excited+=.15,t.push("long enthusiastic message")),n>=60&&o>=2&&(u.excited+=.1,t.push("very long excited message")),/\b(thanks|thank you|appreciate|glad|great|good|nice|love it|perfect|sweet|cool|dope)\b/i.test(r)&&(u.happy+=.3,t.push("positive words")),/[😊🙂😄😃🎉🔥❤️💪👍✅]/u.test(e)&&(u.happy+=.2,t.push("positive emoji")),1!==o||c||(u.happy+=.1),i>=2&&(u.confused+=.25,t.push("multiple questions")),/\b(confused|don't understand|what do you mean|huh|what\?|how does|i don't get|explain|unclear|lost|wait what|wdym)\b/i.test(r)&&(u.confused+=.4,t.push("confusion words")),a>=1&&i>=1&&(u.confused+=.15,t.push("uncertain punctuation")),/\b(can you|could you|help me|how do i|what is|what are)\b/i.test(r)&&(u.confused+=.15,t.push("help-seeking language")),c&&l>=1&&0===o&&(u.frustrated+=.2,t.push("curt response")),/\b(ugh|damn|wtf|smh|annoying|annoyed|frustrated|broken|doesn't work|not working|still broken|come on|seriously|ridiculous)\b/i.test(r)&&(u.frustrated+=.4,t.push("frustration words")),s>.6&&n<=8&&(u.frustrated+=.2,t.push("short caps message")),/\b(again|still|already told you|i said|for the \w+ time)\b/i.test(r)&&(u.frustrated+=.2,t.push("repetition frustration")),/\b(deadline|urgent|asap|running out|time|pressure|overwhelmed|too much|behind|crunch|rush|hurry)\b/i.test(r)&&(u.stressed+=.35,t.push("stress/urgency words")),/\b(need to|have to|must|gotta|can't afford)\b/i.test(r)&&d&&(u.stressed+=.15,t.push("obligation language")),/\b(sad|disappointed|sucks|bummed|down|failed|lost|miss|wish|unfortunately|regret)\b/i.test(r)&&(u.sad+=.35,t.push("sadness words")),a>=2&&(u.sad+=.1,t.push("trailing off")),i>=1&&!c&&u.confused<.3&&(u.curious+=.25,t.push("questioning")),/\b(wondering|curious|interesting|tell me|what if|how about|explore|think about|thoughts on)\b/i.test(r)&&(u.curious+=.3,t.push("curiosity words")),d&&i>=1&&(u.curious+=.1,t.push("detailed inquiry")),/\b(going to|gonna|will|let's|ready|time to|need to build|ship|launch|deploy|execute|make it happen|grind|push|let's do)\b/i.test(r)&&(u.determined+=.3,t.push("determination words")),/\b(plan|strategy|next step|roadmap|milestone|target|goal)\b/i.test(r)&&(u.determined+=.2,t.push("planning language")),u.neutral=.15;let h="neutral",p=0;for(let[e,t]of Object.entries(u))t>p&&(p=t,h=e);let g=Math.min(1,p/.6),f=Object.values(u).sort((e,t)=>t-e),m={mood:h,intensity:g,confidence:Math.min(1,.4+2*(f[0]-(f[1]||0))),signals:[...new Set(t)].slice(0,5),timestamp:Date.now()};e0(m);let x=e1();return x.push({mood:h,intensity:g,timestamp:Date.now(),messageExcerpt:e.slice(0,60)}),e2(x),m}(e.trim())),i.personality&&function(e){var t;let r,n=function(e){let t,r=e.toLowerCase(),n=[];for(let e of(/\b(be more casual|talk casually|less formal|more chill|more relaxed|loosen up)\b/i.test(r)&&n.push({dimension:"formality",delta:-.3,reason:"User wants more casual tone"}),/\b(be more formal|more professional|more serious|less casual)\b/i.test(r)&&n.push({dimension:"formality",delta:.3,reason:"User wants more formal tone"}),/\b(be more concise|shorter|brief|less wordy|too long|too much text|keep it short|tldr|tl;dr|less verbose)\b/i.test(r)&&n.push({dimension:"verbosity",delta:-.3,reason:"User wants shorter responses"}),/\b(more detail|more detailed|elaborate|explain more|go deeper|more thorough|more in-depth)\b/i.test(r)&&n.push({dimension:"verbosity",delta:.3,reason:"User wants more detailed responses"}),/\b(simpler|simplify|dumb it down|explain like|eli5|less technical|plain english|plain language)\b/i.test(r)&&n.push({dimension:"technicality",delta:-.3,reason:"User wants simpler explanations"}),/\b(more technical|technical details|get technical|nerd out|deep dive|specifics)\b/i.test(r)&&n.push({dimension:"technicality",delta:.3,reason:"User wants more technical depth"}),/\b(be funnier|more humor|more jokes|lighten up|more playful|have fun)\b/i.test(r)&&n.push({dimension:"humor",delta:.3,reason:"User wants more humor"}),/\b(less jokes|more serious|stop joking|no humor|be serious|focus)\b/i.test(r)&&n.push({dimension:"humor",delta:-.3,reason:"User wants less humor"}),/\b(be more direct|get to the point|straight to|no fluff|cut to the chase|just tell me|bottom line)\b/i.test(r)&&n.push({dimension:"directness",delta:.3,reason:"User wants more directness"}),/\b(be gentler|more careful|softer|ease into|more diplomatic)\b/i.test(r)&&n.push({dimension:"directness",delta:-.3,reason:"User wants gentler approach"}),[/(?:always|from now on|going forward|permanently)\s+(.+)/i,/(?:remember to|make sure you|please always)\s+(.+)/i,/(?:i (?:prefer|want) you to)\s+(.+)/i])){let n=r.match(e);if(n&&n[1]&&n[1].length>5&&n[1].length<200&&/\b(respond|answer|talk|speak|write|explain|format|style|tone|voice|language)\b/i.test(n[1])){t=n[1].trim();break}}return{detected:n.length>0||!!t,adjustments:n,customInstruction:t}}(e);if(n.detected){for(let e of n.adjustments)!function(e,t){let r=tc();r[e]=Math.max(-1,Math.min(1,r[e]+t)),r.lastUpdated=Date.now(),r.adjustmentCount+=1,td(r)}(e.dimension,e.delta);n.customInstruction&&(t=n.customInstruction,!(r=tc()).customInstructions.some(e=>e.toLowerCase()===t.toLowerCase())&&(r.customInstructions.push(t),r.customInstructions.length>10&&(r.customInstructions=r.customInstructions.slice(-10))),r.lastUpdated=Date.now(),r.adjustmentCount+=1,td(r))}}(e.trim()),i.proactiveSuggestions&&tS++,i.sessionSummaries&&(r=e9(),r.messageCount+=1,r.lastMessageTime=Date.now(),e7(e3,JSON.stringify(r)));let c=(n=e.trim().toLowerCase(),/\b(am i registered|my registration|registration status|check.*(my|if).*(registered|registration))\b/.test(n)?{type:"registration_check",chain:"both"}:/\b(how many.*(agents?|users?|people|registered)|agent count|total.*(registered|agents?))\b/.test(n)?{type:"agent_count",chain:"both"}:/\b(trust score|my score|reputation|what('s| is) my.*(score|trust|reputation))\b/.test(n)?{type:"trust_score",chain:"both"}:/\b(contract.*(status|alive|live|active)|are.*(contracts?).*(live|active|deployed))\b/.test(n)?{type:"contract_status",chain:"both"}:null),u="";if(c)try{u=await ep(c)}catch{}let h=i.memory?tw():[],p={id:`user_${Date.now()}`,role:"user",content:e.trim(),timestamp:Date.now()},f={id:`asst_${Date.now()}`,role:"assistant",content:"",timestamp:Date.now(),isStreaming:!0};o(e=>[...e,p,f]),s(""),l(!0),eg.current="",ef.current=!0,em.current||(em.current=!0,(0,t2.updateConversationTitle)(ei,e.trim()),eo((0,t2.getConversationIndex)()));let m=new AbortController;eh.current=m;let x=(0,t2.getConversationMessages)(ei),y=u?e.trim()+u:e.trim(),b=[...x.slice(-20).map(e=>({role:e.role,content:e.content})),{role:"user",content:y}];await tM({messages:b,memories:h,userMessage:e.trim(),signal:m.signal,onToken:e=>{eg.current+=e,o(e=>e.map(e=>e.id===f.id?{...e,content:eg.current}:e))},onDone:t=>{let r={...f,content:t,isStreaming:!1},n=[...x,{...p,isStreaming:void 0},r];if((0,t2.saveConversationMessages)(ei,n),eo((0,t2.getConversationIndex)()),i.memory){let r=function(e,t){let r=[],n=Date.now();for(let{regex:t,type:o}of[{regex:/(?:i am|i'm|my name is|i work|i live|i have|i'm from|i was born|my job is|i do)\s+(.+)/i,type:"fact"},{regex:/(?:i prefer|i like|i love|i enjoy|i want|i need|i hate|i dislike|my favorite)\s+(.+)/i,type:"preference"},{regex:/(?:i'm building|i'm working on|my project|i'm developing|i'm creating)\s+(.+)/i,type:"context"},{regex:/(?:i decided|i chose|i'm going with|i'll use|i plan to|i'm going to)\s+(.+)/i,type:"context"},{regex:/(?:my (?:wallet|address|email|company|team|app|site|website) is)\s+(.+)/i,type:"fact"}]){let i=e.match(t);if(i){let e=i[0].trim();r.push({id:`mem_${n}_${Math.random().toString(36).slice(2,8)}`,content:e,category:ty(e),timestamp:n,source:"regex",type:o,confidence:.7})}}return r}(e,0),n=h;r.length>0&&(tj(n=tv([...h,...r])),d(n)),ej(e,t,n)}i.selfLearning&&setTimeout(()=>ew(e,t),1500),i.goals&&setTimeout(()=>ek(e),2e3),R&&P&&t0(t,{onStart:()=>N(!0),onEnd:()=>N(!1)}),o(e=>e.map(e=>e.id===f.id?{...e,content:t,isStreaming:!1}:e)),l(!1)},onError:e=>{o(t=>t.map(t=>t.id===f.id?{...t,content:`Error: ${e}`,isStreaming:!1}:t)),l(!1)}})},[a,W,R,P,$,ei,ej,ew,ek]);(0,r.useEffect)(()=>{ee.current=eI},[eI]);let eT=async()=>{if(!ei)return;if(E&&n.length>=4)try{let e=n.map(e=>({role:e.role,content:e.content}));await tr(e,tF)}catch{}t1(),N(!1),tm(tp);let{clearConversationMessages:t}=await e.A(91991);t(ei),o([]),g(!0),w(null),em.current=!1,eo((0,t2.getConversationIndex)())},ez=i.trim().length>0,eR=E?t5:t4;return(0,t.jsxs)("div",{style:{display:"flex",height:"100%",backgroundColor:"#09090B",overflow:"hidden"},children:[(0,t.jsx)(ru,{conversations:en,activeId:ei,onSelect:ex,onNew:ey,onDelete:eb,isOpen:ea,onClose:()=>el(!1),isMobile:f,companionName:T}),(0,t.jsxs)("div",{style:{flex:1,display:"flex",flexDirection:"column",minWidth:0,overflow:"hidden"},children:[(0,t.jsxs)("div",{style:{padding:f?"10px 16px":"10px 24px",display:"flex",alignItems:"center",justifyContent:"space-between",backgroundColor:"#09090B",borderBottom:"1px solid rgba(255,255,255,0.03)",flexShrink:0},children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8},children:[(0,t.jsx)("button",{onClick:()=>el(!ea),title:ea?"Close sidebar":"Open sidebar",style:{display:"flex",alignItems:"center",justifyContent:"center",width:28,height:28,borderRadius:6,border:"none",cursor:"pointer",backgroundColor:ea?"rgba(249,115,22,0.1)":"transparent",color:ea?"#F97316":"#3F3F46",transition:"all 0.15s ease"},onMouseEnter:e=>{ea||(e.currentTarget.style.color="#71717A")},onMouseLeave:e=>{ea||(e.currentTarget.style.color="#3F3F46")},children:(0,t.jsx)(rn,{size:15})}),(0,t.jsx)("span",{style:{fontSize:14,fontWeight:500,color:"#A1A1AA",letterSpacing:"-0.01em"},children:T}),$&&(0,t.jsx)(rs,{}),E&&j&&j.confidence>.3&&!$&&(0,t.jsx)(ra,{mood:j.mood}),E?(0,t.jsxs)("span",{style:{display:"inline-flex",alignItems:"center",gap:3,fontSize:10,color:"#22C55E",fontWeight:500,padding:"2px 6px",backgroundColor:"rgba(34,197,94,0.08)",borderRadius:6},children:[(0,t.jsx)(t8,{size:10}),f?"":"Registered"]}):(0,t.jsxs)("button",{onClick:()=>I(!0),style:{display:"inline-flex",alignItems:"center",gap:3,fontSize:10,color:"#F97316",fontWeight:500,padding:"2px 8px",backgroundColor:"rgba(249,115,22,0.08)",borderRadius:6,border:"none",cursor:"pointer",transition:"background-color 0.15s ease"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="rgba(249,115,22,0.15)"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="rgba(249,115,22,0.08)"},children:[(0,t.jsx)(t8,{size:10}),f?"Register":"Register On-Chain"]}),E&&b.conversations>0&&(0,t.jsx)("span",{style:{fontSize:10,color:"#F97316",fontWeight:400,opacity:.6,fontFamily:"'JetBrains Mono', monospace"},children:f?`\xd7${b.conversations}`:`${b.conversations} conversations`})]}),(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8},children:[(0,t.jsxs)("button",{onClick:ey,title:"New Chat",style:{display:"flex",alignItems:"center",gap:4,fontSize:11,fontWeight:600,padding:"5px 8px",borderRadius:7,border:"1px solid rgba(255,255,255,0.06)",cursor:"pointer",backgroundColor:"transparent",color:"#52525B",transition:"all 0.15s ease"},onMouseEnter:e=>{e.currentTarget.style.color="#A1A1AA",e.currentTarget.style.borderColor="rgba(255,255,255,0.1)"},onMouseLeave:e=>{e.currentTarget.style.color="#52525B",e.currentTarget.style.borderColor="rgba(255,255,255,0.06)"},children:[(0,t.jsx)(rr,{size:11}),!f&&"New Chat"]}),H&&(0,t.jsxs)("button",{onClick:eC,title:R?"Disable voice mode":"Enable voice mode",style:{display:"flex",alignItems:"center",gap:5,fontSize:11,fontWeight:600,padding:"5px 10px",borderRadius:8,border:R?"1px solid rgba(249,115,22,0.3)":"1px solid rgba(255,255,255,0.06)",cursor:"pointer",backgroundColor:R?"rgba(249,115,22,0.12)":"transparent",color:R?"#F97316":"#52525B",transition:"all 0.15s ease"},onMouseEnter:e=>{R||(e.currentTarget.style.color="#A1A1AA",e.currentTarget.style.borderColor="rgba(255,255,255,0.1)")},onMouseLeave:e=>{R||(e.currentTarget.style.color="#52525B",e.currentTarget.style.borderColor="rgba(255,255,255,0.06)")},children:[(0,t.jsx)(t7,{size:12}),R?"Voice On":"Voice"]}),R&&(0,t.jsx)("button",{onClick:()=>G(!Y),title:"Voice settings",style:{display:"flex",alignItems:"center",justifyContent:"center",width:28,height:28,borderRadius:6,border:"none",cursor:"pointer",backgroundColor:Y?"rgba(249,115,22,0.12)":"transparent",color:Y?"#F97316":"#3F3F46",transition:"all 0.15s ease"},children:(0,t.jsx)(rt,{size:12})}),$&&(0,t.jsxs)("button",{onClick:eA,title:`Stop ${T} speaking`,style:{display:"flex",alignItems:"center",gap:4,fontSize:10,fontWeight:500,padding:"4px 8px",borderRadius:6,border:"1px solid rgba(239,68,68,0.3)",cursor:"pointer",backgroundColor:"rgba(239,68,68,0.1)",color:"#EF4444",transition:"all 0.15s ease"},children:[(0,t.jsx)(re,{size:11}),!f&&"Stop"]}),u&&!f&&(0,t.jsxs)("span",{style:{fontSize:11,color:"#3F3F46",fontFamily:"'JetBrains Mono', monospace"},children:[u.slice(0,6),"...",u.slice(-4)]}),E&&k>0&&(0,t.jsxs)("span",{style:{fontSize:11,color:"#F59E0B",fontWeight:400,fontFamily:"'JetBrains Mono', monospace"},children:[k," ",f||1===k?"goal":"goals"]}),E&&c.length>0&&(0,t.jsxs)("span",{style:{fontSize:11,color:"#3F3F46",fontWeight:400},children:[c.length," ",f?"mem":"memories"]}),(0,t.jsxs)("button",{onClick:eT,style:{display:"flex",alignItems:"center",gap:5,fontSize:12,color:"#3F3F46",background:"none",border:"none",cursor:"pointer",padding:"6px 8px",borderRadius:6,transition:"color 0.15s ease"},onMouseEnter:e=>{e.currentTarget.style.color="#71717A"},onMouseLeave:e=>{e.currentTarget.style.color="#3F3F46"},title:"Clear this conversation",children:[(0,t.jsx)(t3,{size:12}),!f&&"Clear"]})]})]}),R&&Y&&(0,t.jsxs)("div",{className:"fade-in",style:{padding:f?"12px 16px":"12px 24px",backgroundColor:"#111113",borderBottom:"1px solid rgba(255,255,255,0.03)",display:"flex",flexDirection:f?"column":"row",gap:f?12:24,alignItems:f?"stretch":"center",flexShrink:0},children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:10,flex:1},children:[(0,t.jsx)("label",{style:{fontSize:11,color:"#71717A",fontWeight:500,minWidth:40},children:"Speed"}),(0,t.jsx)("input",{type:"range",min:"0.5",max:"2.0",step:"0.1",value:J,onChange:e=>eF(parseFloat(e.target.value)),style:{flex:1,accentColor:"#F97316",height:4}}),(0,t.jsxs)("span",{style:{fontSize:11,color:"#52525B",fontFamily:"'JetBrains Mono', monospace",minWidth:28},children:[J.toFixed(1),"×"]})]}),(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:10,flex:1},children:[(0,t.jsx)("label",{style:{fontSize:11,color:"#71717A",fontWeight:500,minWidth:40},children:"Pitch"}),(0,t.jsx)("input",{type:"range",min:"0.5",max:"2.0",step:"0.1",value:X,onChange:e=>eB(parseFloat(e.target.value)),style:{flex:1,accentColor:"#F97316",height:4}}),(0,t.jsx)("span",{style:{fontSize:11,color:"#52525B",fontFamily:"'JetBrains Mono', monospace",minWidth:28},children:X.toFixed(1)})]})]}),!E&&n.length>0&&(0,t.jsx)(t_,{onRegisterClick:()=>I(!0)}),(0,t.jsxs)("div",{ref:ed,className:"scroll-smooth",style:{flex:1,overflowY:"auto",display:"flex",flexDirection:"column",overscrollBehavior:"contain"},children:[0===n.length&&p&&(0,t.jsxs)("div",{className:"fade-in",style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",flex:1,gap:f?32:40,padding:f?"24px 16px":"40px 24px"},children:[(0,t.jsxs)("div",{style:{textAlign:"center"},children:[(0,t.jsxs)("svg",{width:28,height:28,viewBox:"0 0 32 32",fill:"none",style:{marginBottom:20,opacity:.7},children:[(0,t.jsx)("path",{d:"M16 4c-3 3.5-6 8-6 12 0 3.31 2.69 6 6 6s6-2.69 6-6c0-4-3-8.5-6-12z",fill:"#F97316",opacity:"0.9"}),(0,t.jsx)("path",{d:"M16 10c-1.5 2-3 4.5-3 6.5 0 1.66 1.34 3 3 3s3-1.34 3-3c0-2-1.5-4.5-3-6.5z",fill:"#FB923C"})]}),(0,t.jsxs)("h3",{style:{fontSize:f?20:24,fontWeight:600,color:"#F4F4F5",marginBottom:8,letterSpacing:"-0.03em",lineHeight:1.25},children:["Ask ",T," anything"]}),(0,t.jsx)("p",{style:{fontSize:14,color:"#3F3F46",lineHeight:1.6},children:E?"Your self-learning companion — I remember, reflect, grow, and track your goals":"Your AI companion for the Vaultfire Protocol — register on-chain to unlock my full potential"}),R&&(0,t.jsx)("p",{style:{fontSize:12,color:"#F97316",marginTop:8,opacity:.7},children:"Voice mode active — tap the mic to speak, I'll talk back"})]}),!E&&(0,t.jsxs)("button",{onClick:()=>I(!0),style:{display:"flex",alignItems:"center",gap:8,padding:"12px 24px",backgroundColor:"rgba(249,115,22,0.1)",color:"#F97316",border:"1px solid rgba(249,115,22,0.2)",borderRadius:12,fontSize:13.5,fontWeight:600,cursor:"pointer",transition:"all 0.15s ease"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="rgba(249,115,22,0.15)",e.currentTarget.style.borderColor="rgba(249,115,22,0.3)",e.currentTarget.style.transform="translateY(-1px)"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="rgba(249,115,22,0.1)",e.currentTarget.style.borderColor="rgba(249,115,22,0.2)",e.currentTarget.style.transform="none"},children:[(0,t.jsx)(t8,{size:15}),"Register On-Chain to Unlock Full Experience"]}),(0,t.jsx)("div",{style:{display:"grid",gridTemplateColumns:f?"1fr":"repeat(2, 1fr)",gap:8,maxWidth:480,width:"100%"},children:eR.map(e=>(0,t.jsx)("button",{onClick:()=>eI(e),style:{padding:"12px 16px",backgroundColor:"transparent",border:"1px solid rgba(255,255,255,0.04)",borderRadius:12,color:"#52525B",fontSize:13,cursor:"pointer",textAlign:"left",transition:"all 0.15s ease",fontWeight:400,lineHeight:1.4,minHeight:44},onMouseEnter:e=>{e.currentTarget.style.borderColor="rgba(255,255,255,0.08)",e.currentTarget.style.color="#A1A1AA",e.currentTarget.style.backgroundColor="rgba(255,255,255,0.02)"},onMouseLeave:e=>{e.currentTarget.style.borderColor="rgba(255,255,255,0.04)",e.currentTarget.style.color="#52525B",e.currentTarget.style.backgroundColor="transparent"},children:e},e))})]}),(0,t.jsxs)("div",{className:"chat-messages",style:{maxWidth:680,width:"100%",margin:"0 auto",padding:f?"20px 16px":"28px 24px",display:"flex",flexDirection:"column",gap:f?24:28},children:[n.map(e=>(0,t.jsxs)("div",{className:"fade-in",style:{display:"flex",flexDirection:"user"===e.role?"row-reverse":"row",gap:10,alignItems:"flex-start"},children:["assistant"===e.role&&($&&e.content&&!e.isStreaming?(0,t.jsx)(ri,{}):(0,t.jsx)(ro,{})),(0,t.jsx)("div",{style:{maxWidth:"85%",padding:"user"===e.role?"10px 16px":"0",borderRadius:"user"===e.role?"18px 18px 4px 18px":"0",backgroundColor:"user"===e.role?"#1A1A1E":"transparent",color:"user"===e.role?"#E4E4E7":"#D4D4D8",fontSize:14,lineHeight:1.75,overflow:"hidden",wordBreak:"break-word",letterSpacing:"-0.01em"},children:e.isStreaming&&""===e.content?(0,t.jsx)(rd,{}):"assistant"===e.role?(0,t.jsx)(rl,{text:e.content}):e.content}),"assistant"===e.role&&P&&e.content&&!e.isStreaming&&(0,t.jsx)("button",{onClick:()=>eE(e.content),title:$?"Stop speaking":"Read aloud",style:{flexShrink:0,width:22,height:22,borderRadius:4,border:"none",background:"transparent",color:R?"#71717A":"#3F3F46",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",marginTop:2,transition:"color 0.15s ease",opacity:R?1:.6},onMouseEnter:e=>{e.currentTarget.style.color="#F97316"},onMouseLeave:e=>{e.currentTarget.style.color=R?"#71717A":"#3F3F46"},children:(0,t.jsx)(t9,{size:12})})]},e.id)),(0,t.jsx)("div",{ref:ec,className:"chat-scroll-anchor"})]})]}),(0,t.jsx)("div",{style:{padding:f?"12px 16px 16px":"16px 24px 24px",backgroundColor:"#09090B",flexShrink:0},children:(0,t.jsxs)("div",{style:{maxWidth:680,margin:"0 auto"},children:[R&&(0,t.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:6,marginBottom:8},children:$?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(rs,{}),(0,t.jsxs)("span",{style:{fontSize:11,color:"#F97316",fontWeight:500},children:[T," is speaking..."]}),(0,t.jsx)("button",{onClick:eA,style:{fontSize:10,color:"#EF4444",background:"none",border:"none",cursor:"pointer",fontWeight:500,padding:"2px 6px"},children:"Stop"})]}):W?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{style:{width:6,height:6,borderRadius:"50%",backgroundColor:"#EF4444",animation:"pulse 1.5s ease-in-out infinite"}}),(0,t.jsx)("span",{style:{fontSize:11,color:"#A1A1AA",fontWeight:500},children:"Listening..."})]}):a?(0,t.jsxs)("span",{style:{fontSize:11,color:"#52525B"},children:[T," is thinking..."]}):(0,t.jsx)("span",{style:{fontSize:11,color:"#3F3F46"},children:"Tap mic to speak"})}),(0,t.jsxs)("div",{style:{display:"flex",gap:10,alignItems:"flex-end",backgroundColor:"#111113",borderRadius:16,padding:f?"10px 12px":"12px 16px",boxShadow:x?"0 0 0 1px rgba(255,255,255,0.07), 0 2px 12px rgba(0,0,0,0.3)":W?"0 0 0 1.5px rgba(249,115,22,0.4), 0 0 12px rgba(249,115,22,0.1)":"0 0 0 1px rgba(255,255,255,0.04)",transition:"box-shadow 0.2s cubic-bezier(0.16, 1, 0.3, 1)"},children:[(0,t.jsx)("textarea",{ref:eu,value:i,onChange:e=>s(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),eI(i))},onFocus:()=>y(!0),onBlur:()=>y(!1),placeholder:W?"Listening...":R?"Speak or type...":`Message ${T}...`,disabled:a,rows:1,style:{flex:1,background:"none",border:"none",outline:"none",color:"#F4F4F5",fontSize:15,resize:"none",maxHeight:120,overflowY:"auto",lineHeight:1.55,fontFamily:"'Inter', sans-serif",letterSpacing:"-0.01em",fontWeight:400},onInput:e=>{let t=e.currentTarget;t.style.height="auto",t.style.height=Math.min(t.scrollHeight,120)+"px"}}),R&&H&&(0,t.jsxs)("button",{onClick:eS,disabled:a,title:W?"Stop listening":$?"Interrupt & speak":"Start listening",className:W?"voice-mic-active":"",style:{width:36,height:36,borderRadius:10,border:"none",cursor:a?"default":"pointer",backgroundColor:W?"#F97316":"rgba(249,115,22,0.1)",color:W?"#09090B":"#F97316",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.15s ease",flexShrink:0,position:"relative"},children:[(0,t.jsx)(t7,{size:16}),W&&(0,t.jsx)("span",{style:{position:"absolute",top:-2,right:-2,width:8,height:8,borderRadius:"50%",backgroundColor:"#EF4444",animation:"pulse 1.5s ease-in-out infinite"}})]}),(0,t.jsx)("button",{onClick:()=>eI(i),disabled:a||!ez,style:{width:32,height:32,borderRadius:8,border:"none",cursor:a||!ez?"default":"pointer",backgroundColor:ez?"#F97316":"transparent",color:ez?"#09090B":"#3F3F46",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.15s ease",flexShrink:0,transform:C?"scale(0.88)":"scale(1)"},onMouseEnter:e=>{ez&&!a&&(e.currentTarget.style.backgroundColor="#FB923C",e.currentTarget.style.transform="scale(1.05)")},onMouseLeave:e=>{ez&&(e.currentTarget.style.backgroundColor="#F97316"),e.currentTarget.style.transform="scale(1)"},children:a?(0,t.jsx)("div",{style:{width:14,height:14,border:"2px solid rgba(255,255,255,0.06)",borderTopColor:"#52525B",borderRadius:"50%",animation:"spin 0.8s linear infinite"}}):(0,t.jsx)(t6,{size:14})})]}),!f&&(0,t.jsxs)("p",{style:{fontSize:11,color:"#27272A",marginTop:8,textAlign:"center",lineHeight:1.5},children:["Enter to send · Shift+Enter for new line",R?" · Click mic or tap to interrupt":""]})]})})]}),(0,t.jsx)(tU,{isOpen:B,onClose:()=>I(!1),onRegistered:ev})]})}var rp=e.i(74080),rg=e.i(67034);let rf={ethereum:{chainId:1,rpc:"https://eth.llamarpc.com",name:"Ethereum"},base:{chainId:8453,rpc:"https://mainnet.base.org",name:"Base"},avalanche:{chainId:43114,rpc:"https://api.avax.network/ext/bc/C/rpc",name:"Avalanche"}},rm=[{address:"0x2565ae0385659badCada1031DB704442E1b69982",name:"Assemble AI",symbol:"ASM",decimals:18,chain:"ethereum",chainId:1,coingeckoId:"assemble-protocol",logoColor:"#00B4D8"},{address:"0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913",name:"USD Coin",symbol:"USDC",decimals:6,chain:"base",chainId:8453,coingeckoId:"usd-coin",logoColor:"#2775CA"},{address:"0x4200000000000000000000000000000000000006",name:"Wrapped Ether",symbol:"WETH",decimals:18,chain:"base",chainId:8453,coingeckoId:"weth",logoColor:"#627EEA"},{address:"0x50c5725949A6F0c72E6C4a641F24049A917DB0Cb",name:"Dai Stablecoin",symbol:"DAI",decimals:18,chain:"base",chainId:8453,coingeckoId:"dai",logoColor:"#F5AC37"},{address:"0x3b53604113B5677291BFc0bc255379E7a796559b",name:"Assemble AI",symbol:"ASM",decimals:18,chain:"base",chainId:8453,coingeckoId:"assemble-protocol",logoColor:"#00B4D8"},{address:"0xB97EF9Ef8734C71904D8002F8b6Bc66Dd9c48a6E",name:"USD Coin",symbol:"USDC",decimals:6,chain:"avalanche",chainId:43114,coingeckoId:"usd-coin",logoColor:"#2775CA"},{address:"0x9702230A8Ea53601f5cD2dc00fDBc13d4dF4A8c7",name:"Tether USD",symbol:"USDT",decimals:6,chain:"avalanche",chainId:43114,coingeckoId:"tether",logoColor:"#26A17B"},{address:"0xB31f66AA3C1e785363F0875A1B74E27b85FD66c7",name:"Wrapped AVAX",symbol:"WAVAX",decimals:18,chain:"avalanche",chainId:43114,coingeckoId:"wrapped-avax",logoColor:"#E84142"},{address:"0x6e84a6216eA6dACC71eE8E6b0a5B7322EEbC0fDd",name:"Trader Joe",symbol:"JOE",decimals:18,chain:"avalanche",chainId:43114,coingeckoId:"joe",logoColor:"#E8544F"},{address:"0xd586E7F844cEa2F87f50152665BCbc2C279D8d70",name:"Dai Stablecoin",symbol:"DAI",decimals:18,chain:"avalanche",chainId:43114,coingeckoId:"dai",logoColor:"#F5AC37"}],rx=[...new Set(rm.map(e=>e.coingeckoId).filter(Boolean))];async function ry(e,t,r){let n=new AbortController,o=setTimeout(()=>n.abort(),8e3);try{let o=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:Date.now(),method:t,params:r}),signal:n.signal}),i=await o.json();if(i.error)throw Error(i.error.message);return i.result||"0x"}finally{clearTimeout(o)}}let rb={"balanceOf(address)":"0x70a08231","name()":"0x06fdde03","symbol()":"0x95d89b41","decimals()":"0x313ce567"};function rv(e,t=[]){let r=rb[e];if(!r)throw Error(`Unknown ERC-20 function: ${e}`);if(0===t.length)return r;let n=r;for(let e of t)n+=(e.startsWith("0x")?e.slice(2):e).padStart(64,"0");return n}function rj(e){if(!e||"0x"===e||e.length<4)return"";try{let t=e.slice(2),r=t.slice(64,128),n=parseInt(r,16);if(0===n)return"";let o=t.slice(128,128+2*n);return rg.Buffer.from(o,"hex").toString("utf8").replace(/\0/g,"")}catch{return""}}async function rw(e,t,r){try{return await ry(e,"eth_call",[{to:t,data:r},"latest"])}catch{return"0x"}}async function rk(e,t){let r=rf[e],n=r.rpc;try{let[o,i,s]=await Promise.all([rw(n,t,rv("name()")),rw(n,t,rv("symbol()")),rw(n,t,rv("decimals()"))]),a=rj(o),l=rj(i),c=function(e){if(!e||"0x"===e)return 18;try{return parseInt(e.slice(-2),16)}catch{return 18}}(s);if(!l)return null;return{address:t,name:a||l,symbol:l,decimals:c,chain:e,chainId:r.chainId}}catch{return null}}async function rS(e,t){let r=rf[e.chain].rpc;try{let n=await rw(r,e.address,rv("balanceOf(address)",[t])),o=function(e){if(!e||"0x"===e)return"0";try{return BigInt(e).toString()}catch{return"0"}}(n),i=function(e,t,r=6){try{let n=BigInt(e);if(n===BigInt(0))return"0";let o=BigInt(10**t),i=n/o,s=(n%o).toString().padStart(t,"0").slice(0,r).replace(/0+$/,"");if(!s)return i.toString();return`${i}.${s}`}catch{return"0"}}(o,e.decimals);return{...e,balanceRaw:o,balanceFormatted:i}}catch{return{...e,balanceRaw:"0",balanceFormatted:"0"}}}async function rC(e,t=[]){let r=[...rm,...t];return(await Promise.allSettled(r.map(t=>rS(t,e)))).filter(e=>"fulfilled"===e.status).map(e=>e.value)}function rA(e,t){try{let[r,n=""]=e.split("."),o=n.slice(0,t).padEnd(t,"0");return BigInt(r)*BigInt(10**t)+BigInt(o)}catch{return BigInt(0)}}let rE="vaultfire_token_logos";function rF(e){try{localStorage.setItem(rE,JSON.stringify(e))}catch{}}async function rB(e){if(!e)return null;let t=function(){try{return JSON.parse(localStorage.getItem(rE)||"{}")}catch{return{}}}(),r=t[e];if(r&&Date.now()-r.fetchedAt<864e5)return r.url||null;try{let r=await fetch(`https://api.coingecko.com/api/v3/coins/${e}`,{signal:AbortSignal.timeout(5e3)});if(!r.ok)throw Error("Not found");let n=await r.json(),o=n.image?.small||n.image?.thumb||null;return t[e]={url:o||"",fetchedAt:Date.now()},rF(t),o}catch{return t[e]={url:"",fetchedAt:Date.now()},rF(t),null}}async function rI(e,t){try{let r=await fetch(`https://api.coingecko.com/api/v3/coins/${e}/contract/${t}`,{signal:AbortSignal.timeout(5e3)});if(!r.ok)return null;let n=await r.json();if(!n.id)return null;return{coingeckoId:n.id,logoUrl:n.image?.small||n.image?.thumb}}catch{return null}}let rT={ethereum:{id:"ethereum",chainId:1,name:"Ethereum",rpc:"https://eth.llamarpc.com",symbol:"ETH",explorerTx:"https://etherscan.io/tx/",color:"#627EEA"},base:{id:"base",chainId:8453,name:"Base",rpc:"https://mainnet.base.org",symbol:"ETH",explorerTx:"https://basescan.org/tx/",color:"#0052FF"},avalanche:{id:"avalanche",chainId:43114,name:"Avalanche",rpc:"https://api.avax.network/ext/bc/C/rpc",symbol:"AVAX",explorerTx:"https://snowtrace.io/tx/",color:"#E84142"}};async function rz(e,t,r){let n=new AbortController,o=setTimeout(()=>n.abort(),12e3);try{let o=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:Date.now(),method:t,params:r}),signal:n.signal}),i=await o.json();if(i.error)throw Error(i.error.message);return i.result}finally{clearTimeout(o)}}function rR(e,t=6){let r=BigInt(1e18),n=(e%r).toString().padStart(18,"0").slice(0,t);return`${e/r}.${n}`}async function rL(e,t,r,n,o="0x"){let i=e.rpc,s=BigInt(await rz(i,"eth_estimateGas",[{from:t,to:r,value:`0x${n.toString(16)}`,data:o}]))*BigInt(12)/BigInt(10);try{let e=await rz(i,"eth_feeHistory",["0x5","latest",[50]]),t=BigInt(e.baseFeePerGas[e.baseFeePerGas.length-1]),r=e.reward.map(e=>BigInt(e[0])),n=r.reduce((e,t)=>e+t,BigInt(0))/BigInt(r.length),o=n>BigInt(0)?n:BigInt(15e8),a=t*BigInt(2)+o,l=s*a;return{gasLimit:s,gasPrice:a,maxFeePerGas:a,maxPriorityFeePerGas:o,estimatedFeeWei:l,estimatedFeeFormatted:rR(l),isEIP1559:!0}}catch{let e=BigInt(await rz(i,"eth_gasPrice",[])),t=s*e;return{gasLimit:s,gasPrice:e,estimatedFeeWei:t,estimatedFeeFormatted:rR(t),isEIP1559:!1}}}function rW(e,t){let r=e.toLowerCase().replace("0x","").padStart(64,"0"),n=t.toString(16).padStart(64,"0");return`0xa9059cbb${r}${n}`}async function rM(t,r,n,o,i){let{ethers:s}=await e.A(28760),a=new s.JsonRpcProvider(t.rpc),l=new s.Wallet(r,a),c=s.parseEther(i),d=await rL(t,n,o,c),u={to:o,value:c,gasLimit:d.gasLimit,chainId:t.chainId};d.isEIP1559&&d.maxFeePerGas&&d.maxPriorityFeePerGas?(u.maxFeePerGas=d.maxFeePerGas,u.maxPriorityFeePerGas=d.maxPriorityFeePerGas):u.gasPrice=d.gasPrice;let h=await l.sendTransaction(u);return{hash:h.hash,explorerUrl:`${t.explorerTx}${h.hash}`}}async function rD(t,r,n,o,i,s){let{ethers:a}=await e.A(28760),l=new a.JsonRpcProvider(t.rpc),c=new a.Wallet(r,l),d=rW(i,s),u=await rL(t,n,o,BigInt(0),d),h={to:o,value:BigInt(0),data:d,gasLimit:u.gasLimit,chainId:t.chainId};u.isEIP1559&&u.maxFeePerGas&&u.maxPriorityFeePerGas?(h.maxFeePerGas=u.maxFeePerGas,h.maxPriorityFeePerGas=u.maxPriorityFeePerGas):h.gasPrice=u.gasPrice;let p=await c.sendTransaction(h);return{hash:p.hash,explorerUrl:`${t.explorerTx}${p.hash}`}}async function r$(t,r,n,o){let{ethers:i}=await e.A(28760);return rL(t,r,n,i.parseEther(o||"0"))}async function rN(e,t,r,n,o){let i=rW(n,o);return rL(e,t,r,BigInt(0),i)}let rO="vaultfire_vns_name",rP="vaultfire_companion_name",rU=null,r_=null,rH=["ethereum","avalanche-2"];async function rV(){let e=Date.now();return rU&&e-rU.fetchedAt<6e4?rU.prices:r_||(r_=(async()=>{try{let e=[...new Set([...rH,...rx])],t=`https://api.coingecko.com/api/v3/simple/price?ids=${e.join(",")}&vs_currencies=usd`,r=await fetch(t,{signal:AbortSignal.timeout(8e3)});if(!r.ok)throw Error("API error");let n=await r.json(),o={};for(let[e,t]of Object.entries(n))t?.usd&&(o[e]=t.usd);return rU={prices:o,fetchedAt:Date.now()},o}catch{return rU?.prices||{}}finally{r_=null}})())}function rY(e){return 0===e?"$0.00":e<.01?"< $0.01":e>=1e6?`$${(e/1e6).toFixed(2)}M`:e>=1e3?`$${e.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(e)}let rG="vaultfire_custom_tokens";function rJ(){try{return JSON.parse(localStorage.getItem(rG)||"[]")}catch{return[]}}function rK({size:e=16}){return(0,t.jsxs)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),(0,t.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})}function rX({size:e=16}){return(0,t.jsx)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,t.jsx)("path",{d:"M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"})})}function rq({size:e=16}){return(0,t.jsxs)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),(0,t.jsx)("polyline",{points:"14 2 14 8 20 8"}),(0,t.jsx)("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),(0,t.jsx)("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}function rZ({size:e=12}){return(0,t.jsxs)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),(0,t.jsx)("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]})}function rQ({size:e=12}){return(0,t.jsx)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:(0,t.jsx)("polyline",{points:"20 6 9 17 4 12"})})}function r0({size:e=14}){return(0,t.jsxs)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("line",{x1:"19",y1:"12",x2:"5",y2:"12"}),(0,t.jsx)("polyline",{points:"12 19 5 12 12 5"})]})}function r1({size:e=14}){return(0,t.jsxs)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("polyline",{points:"23 4 23 10 17 10"}),(0,t.jsx)("path",{d:"M20.49 15a9 9 0 1 1-2.12-9.36L23 10"})]})}function r2({size:e=12}){return(0,t.jsxs)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),(0,t.jsx)("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]})}function r5({size:e=12}){return(0,t.jsxs)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("polyline",{points:"3 6 5 6 21 6"}),(0,t.jsx)("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})}function r4({size:e=20}){return(0,t.jsxs)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("line",{x1:"12",y1:"19",x2:"12",y2:"5"}),(0,t.jsx)("polyline",{points:"5 12 12 5 19 12"})]})}function r6({size:e=20}){return(0,t.jsxs)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),(0,t.jsx)("polyline",{points:"19 12 12 19 5 12"})]})}function r3({size:e=20}){return(0,t.jsxs)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,t.jsx)("polyline",{points:"12 6 12 12 16 14"})]})}function r8({size:e=16}){return(0,t.jsx)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,t.jsx)("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})})}function r7({size:e=14}){return(0,t.jsxs)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),(0,t.jsx)("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),(0,t.jsx)("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]})}function r9({size:e=16}){return(0,t.jsxs)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,t.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}function ne({size:e=12}){return(0,t.jsxs)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}),(0,t.jsx)("polyline",{points:"15 3 21 3 21 9"}),(0,t.jsx)("line",{x1:"10",y1:"14",x2:"21",y2:"3"})]})}function nt({size:e=12}){return(0,t.jsxs)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("path",{d:"M3 22V8l7-6 7 6v14H3z"}),(0,t.jsx)("path",{d:"M10 22V12h4v10"}),(0,t.jsx)("path",{d:"M14 10h3l2 2v4l-2 2h-3"})]})}function nr({size:e=16}){return(0,t.jsxs)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),(0,t.jsx)("circle",{cx:"12",cy:"7",r:"4"})]})}function nn({size:e=12}){return(0,t.jsxs)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),(0,t.jsx)("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}function no({size:e=16}){return(0,t.jsxs)("svg",{width:e,height:e,viewBox:"0 0 32 32",fill:"none",children:[(0,t.jsx)("path",{d:"M16 4c-3 3.5-6 8-6 12 0 3.31 2.69 6 6 6s6-2.69 6-6c0-4-3-8.5-6-12z",fill:"#F97316",opacity:"0.9"}),(0,t.jsx)("path",{d:"M16 10c-1.5 2-3 4.5-3 6.5 0 1.66 1.34 3 3 3s3-1.34 3-3c0-2-1.5-4.5-3-6.5z",fill:"#FB923C"}),(0,t.jsx)("path",{d:"M16 14c-.7 1-1.4 2.2-1.4 3.2 0 .77.63 1.4 1.4 1.4s1.4-.63 1.4-1.4c0-1-.7-2.2-1.4-3.2z",fill:"#FDE68A",opacity:"0.6"})]})}function ni({size:e=40}){return(0,t.jsxs)("svg",{width:e,height:e,viewBox:"0 0 32 32",fill:"none",children:[(0,t.jsx)("circle",{cx:"16",cy:"16",r:"16",fill:"#627EEA"}),(0,t.jsx)("path",{d:"M16 4v8.87l7.5 3.35L16 4z",fill:"#fff",opacity:"0.6"}),(0,t.jsx)("path",{d:"M16 4L8.5 16.22 16 12.87V4z",fill:"#fff"}),(0,t.jsx)("path",{d:"M16 21.97v6.03l7.5-10.38L16 21.97z",fill:"#fff",opacity:"0.6"}),(0,t.jsx)("path",{d:"M16 28V21.97l-7.5-4.35L16 28z",fill:"#fff"}),(0,t.jsx)("path",{d:"M16 20.57l7.5-4.35L16 12.87v7.7z",fill:"#fff",opacity:"0.2"}),(0,t.jsx)("path",{d:"M8.5 16.22l7.5 4.35v-7.7l-7.5 3.35z",fill:"#fff",opacity:"0.5"})]})}function ns({size:e=40}){return(0,t.jsxs)("svg",{width:e,height:e,viewBox:"0 0 32 32",fill:"none",children:[(0,t.jsx)("circle",{cx:"16",cy:"16",r:"16",fill:"#E84142"}),(0,t.jsx)("path",{d:"M11.5 21h-3.2c-.5 0-.7-.3-.5-.7L15.5 8.5c.2-.4.7-.4.9 0l2 3.7c.1.2.1.5 0 .7l-5.4 7.7c-.2.3-.5.4-.8.4h-.7zm9.2 0h-3.5c-.5 0-.7-.3-.5-.7l3.5-5c.2-.4.7-.4.9 0l1.8 5c.2.4-.1.7-.5.7h-1.7z",fill:"#fff"})]})}function na({size:e=40}){return(0,t.jsxs)("svg",{width:e,height:e,viewBox:"0 0 32 32",fill:"none",children:[(0,t.jsx)("circle",{cx:"16",cy:"16",r:"16",fill:"#0052FF"}),(0,t.jsx)("path",{d:"M16 26c5.523 0 10-4.477 10-10S21.523 6 16 6c-5.2 0-9.473 3.97-9.95 9.04h13.1v1.92H6.05C6.527 22.03 10.8 26 16 26z",fill:"#fff"})]})}function nl({symbol:e,color:r,size:n=40}){return(0,t.jsx)("div",{style:{width:n,height:n,borderRadius:"50%",backgroundColor:r+"18",border:`1.5px solid ${r}35`,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:(0,t.jsx)("span",{style:{fontSize:.32*n,fontWeight:800,color:r,fontFamily:"'Inter', system-ui, sans-serif",letterSpacing:"-0.02em"},children:e.slice(0,3)})})}function nc({item:e,size:r=40}){return e.logoUrl?(0,t.jsx)("img",{src:e.logoUrl,alt:e.symbol,style:{width:r,height:r,borderRadius:"50%",objectFit:"cover",flexShrink:0},onError:e=>{e.currentTarget.style.display="none"}}):"native"===e.type?"avalanche"===e.chain?(0,t.jsx)(ns,{size:r}):"base"===e.chain?(0,t.jsx)(na,{size:r}):(0,t.jsx)(ni,{size:r}):(0,t.jsx)(nl,{symbol:e.symbol,color:e.logoColor||"#71717A",size:r})}function nd({chain:e}){return(0,t.jsx)("div",{style:{position:"absolute",bottom:-2,right:-2,width:16,height:16,borderRadius:"50%",backgroundColor:{ethereum:"#627EEA",base:"#0052FF",avalanche:"#E84142"}[e],border:"2px solid #0A0A0A",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,t.jsx)("span",{style:{fontSize:7,color:"#fff",fontWeight:800},children:{ethereum:"E",base:"B",avalanche:"A"}[e]})})}function nu({onClose:e,children:n,title:o}){let[i,s]=(0,r.useState)(!1);if((0,r.useEffect)(()=>{s(!0);let e=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=e}},[]),(0,r.useEffect)(()=>{let t=t=>{"Escape"===t.key&&e()};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[e]),!i)return null;let a=(0,t.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:99999,backgroundColor:"rgba(0,0,0,0.85)",display:"flex",alignItems:"flex-end",justifyContent:"center",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)"},onMouseDown:t=>{t.target===t.currentTarget&&e()},onTouchEnd:t=>{t.target===t.currentTarget&&e()},children:(0,t.jsxs)("div",{style:{width:"100%",maxWidth:520,backgroundColor:"#111113",borderRadius:"24px 24px 0 0",border:"1px solid rgba(255,255,255,0.08)",borderBottom:"none",maxHeight:"92dvh",overflowY:"auto",overflowX:"hidden",animation:"slideUp 0.28s cubic-bezier(0.16, 1, 0.3, 1) forwards",WebkitOverflowScrolling:"touch"},onMouseDown:e=>e.stopPropagation(),onTouchStart:e=>e.stopPropagation(),children:[(0,t.jsx)("div",{style:{display:"flex",justifyContent:"center",paddingTop:12,paddingBottom:4},children:(0,t.jsx)("div",{style:{width:36,height:4,borderRadius:2,backgroundColor:"rgba(255,255,255,0.1)"}})}),o&&(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px 24px 0"},children:[(0,t.jsx)("h3",{style:{fontSize:18,fontWeight:700,color:"#F4F4F5",letterSpacing:"-0.03em"},children:o}),(0,t.jsx)("button",{onClick:e,style:{width:32,height:32,borderRadius:"50%",backgroundColor:"rgba(255,255,255,0.06)",border:"none",cursor:"pointer",color:"#71717A",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:(0,t.jsx)(r9,{size:14})})]}),n]})});return(0,rp.createPortal)(a,document.body)}function nh({value:n}){let o=(0,r.useRef)(null);return(0,r.useEffect)(()=>{o.current&&n&&e.A(73378).then(e=>{e.toCanvas(o.current,n,{width:200,margin:2,color:{dark:"#F4F4F5",light:"#111113"}})})},[n]),(0,t.jsx)("div",{style:{padding:16,backgroundColor:"#111113",border:"1px solid rgba(255,255,255,0.06)",borderRadius:16,display:"inline-flex"},children:(0,t.jsx)("canvas",{ref:o})})}function np({icon:e,label:n,onClick:o,color:i}){let[s,a]=(0,r.useState)(!1);return(0,t.jsxs)("button",{type:"button",onClick:e=>{e.preventDefault(),e.stopPropagation(),o()},onTouchStart:()=>a(!0),onTouchEnd:()=>{a(!1)},onMouseDown:()=>a(!0),onMouseUp:()=>a(!1),onMouseLeave:()=>a(!1),style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:6,width:76,height:76,borderRadius:22,backgroundColor:s?`${i}28`:`${i}18`,border:`1.5px solid ${s?i+"45":i+"28"}`,cursor:"pointer",padding:0,userSelect:"none",WebkitUserSelect:"none",transform:s?"scale(0.94)":"scale(1)",transition:"transform 0.1s ease, background-color 0.1s ease",WebkitTapHighlightColor:"transparent",touchAction:"manipulation"},children:[(0,t.jsx)("div",{style:{color:i,display:"flex",alignItems:"center",justifyContent:"center"},children:e}),(0,t.jsx)("span",{style:{fontSize:11,fontWeight:600,color:i,letterSpacing:"0.01em"},children:n})]})}let ng={fontFamily:"'Courier New', 'JetBrains Mono', monospace"};function nf(e){return/^0x[a-fA-F0-9]{40}$/.test(e)}function nm(){let[e,n]=(0,r.useState)("none"),[o,i]=(0,r.useState)(null),[s,a]=(0,r.useState)([]),[l,c]=(0,r.useState)([]),[d,u]=(0,r.useState)(!1),[h,p]=(0,r.useState)(""),[g,f]=(0,r.useState)(""),[m,x]=(0,r.useState)(""),[y,b]=(0,r.useState)(!1),[v,j]=(0,r.useState)(!1),[w,k]=(0,r.useState)(!1),[S,C]=(0,r.useState)(!1),[A,B]=(0,r.useState)({}),[$,N]=(0,r.useState)(!1),[O,P]=(0,r.useState)("none"),[U,_]=(0,r.useState)([]),H=(0,r.useRef)({}),[V,Y]=(0,r.useState)(0),G=(0,r.useRef)(!1),[J,K]=(0,r.useState)(""),[X,q]=(0,r.useState)(""),[Z,Q]=(0,r.useState)(!1),[ee,et]=(0,r.useState)("Embris"),[er,en]=(0,r.useState)(""),[eo,ei]=(0,r.useState)(!1),[es,ea]=(0,r.useState)({token:null,toAddress:"",amount:"",gas:null,gasLoading:!1,sending:!1,error:"",txHash:"",txExplorerUrl:""}),[el,ec]=(0,r.useState)(""),[ed,eu]=(0,r.useState)(!1),[eh,ep]=(0,r.useState)("base"),[eg,ef]=(0,r.useState)(""),[em,ex]=(0,r.useState)(null),[ey,eb]=(0,r.useState)(!1),[ev,ej]=(0,r.useState)(""),ew=(0,r.useRef)(null),ek=(0,r.useRef)(!0);(0,r.useEffect)(()=>{let e=()=>b(window.innerWidth<768);return e(),window.addEventListener("resize",e,{passive:!0}),()=>window.removeEventListener("resize",e)},[]),(0,r.useEffect)(()=>{if(ek.current=!0,_(rJ()),K(localStorage.getItem(rO)||""),et(localStorage.getItem(rP)||"Embris"),W()){let e=M(),t=I(F.MNEMONIC);e&&(i({address:e,mnemonic:t||"",privateKey:D()||""}),n("created"),eA(e))}return()=>{ek.current=!1}},[]),(0,r.useEffect)(()=>{if("created"!==e)return;let t=!1,r=async()=>{if(t)return;N(!0);let e=await rV();!t&&ek.current&&(B(e),N(!1))};return r(),ew.current=setInterval(r,6e4),()=>{t=!0,ew.current&&(clearInterval(ew.current),ew.current=null)}},[e]),(0,r.useEffect)(()=>{if(0===l.length||G.current)return;let e=l.filter(e=>e.coingeckoId&&void 0===H.current[e.coingeckoId]).map(e=>e.coingeckoId);if(0===e.length)return;G.current=!0;let t=!1;return(async()=>{let r=await Promise.allSettled(e.map(e=>rB(e).then(t=>({id:e,url:t}))));if(t||!ek.current)return;let n=!1;for(let e of r)"fulfilled"===e.status&&(H.current[e.value.id]=e.value.url,n=!0);n&&Y(e=>e+1),G.current=!1})(),()=>{t=!0}},[l]);let eS=(0,r.useMemo)(()=>{let e=[];for(let t of s){let r=parseFloat(t.balanceFormatted);if(r<=0)continue;let n=t.chain.toLowerCase().includes("avalanche")?"avalanche":t.chain.toLowerCase().includes("base")?"base":"ethereum",o=rT[n],i=A["avalanche"===n?"avalanche-2":"ethereum"]||0;e.push({type:"native",chain:n,chainConfig:o,symbol:t.symbol,name:`${t.symbol} on ${t.chain}`,chainName:t.chain,decimals:18,balanceFormatted:t.balanceFormatted,balanceRaw:t.balance,usdValue:r*i,pricePerToken:i,error:t.error})}for(let t of l){let r=parseFloat(t.balanceFormatted);if(r<=0)continue;let n=A[t.coingeckoId||""]||0,o={ethereum:"Ethereum",base:"Base",avalanche:"Avalanche"}[t.chain],i=t.coingeckoId?H.current[t.coingeckoId]:void 0;e.push({type:"erc20",chain:t.chain,chainConfig:rT[t.chain],symbol:t.symbol,name:t.name,chainName:o,decimals:t.decimals,balanceFormatted:t.balanceFormatted,balanceRaw:t.balanceRaw,usdValue:r*n,pricePerToken:n,tokenAddress:t.address,coingeckoId:t.coingeckoId,logoUrl:i||void 0,logoColor:t.logoColor})}return[...e.filter(e=>"native"===e.type),...e.filter(e=>"erc20"===e.type).sort((e,t)=>t.usdValue-e.usdValue)]},[s,l,A,V]),eC=(0,r.useMemo)(()=>eS.reduce((e,t)=>e+t.usdValue,0),[eS]),eA=(0,r.useCallback)(async e=>{u(!0);try{let t=rJ(),[r,n]=await Promise.all([E(e),rC(e,t)]);ek.current&&(a(r),c(n))}finally{ek.current&&u(!1)}},[]),eE=(0,r.useCallback)(async()=>{if(o){u(!0),N(!0);try{let e=rJ(),[t,r,n]=await Promise.all([E(o.address),rC(o.address,e),rV()]);ek.current&&(a(t),c(r),B(n))}finally{ek.current&&(u(!1),N(!1))}}},[o]),eF=async()=>{j(!0);try{let e=await z();i(e),n("created"),eA(e.address)}finally{j(!1)}},eB=async()=>{f(""),k(!0);try{let e=await R(h);i(e),n("created"),p(""),eA(e.address)}catch{f("Invalid mnemonic phrase. Please check and try again.")}finally{k(!1)}},eI=async()=>{f(""),k(!0);try{let e=await L(h);i(e),n("created"),p(""),eA(e.address)}catch{f("Invalid private key. Please check and try again.")}finally{k(!1)}},eT=(0,r.useCallback)(async(e,t)=>{try{await navigator.clipboard.writeText(e)}catch{let t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}x(t),setTimeout(()=>x(""),2e3)},[]),ez=(0,r.useCallback)(e=>{ea({token:e||null,toAddress:"",amount:"",gas:null,gasLoading:!1,sending:!1,error:"",txHash:"",txExplorerUrl:""}),P("send")},[]),eR=(0,r.useCallback)(async e=>{if(!e.token||!nf(e.toAddress)||!e.amount||!o)return;let t=parseFloat(e.amount);if(!isNaN(t)&&!(t<=0)){ea(e=>({...e,gasLoading:!0,gas:null}));try{let t;if("native"===e.token.type)t=await r$(e.token.chainConfig,o.address,e.toAddress,e.amount);else{let r=rA(e.amount,e.token.decimals);t=await rN(e.token.chainConfig,o.address,e.token.tokenAddress,e.toAddress,r)}ea(e=>({...e,gas:t,gasLoading:!1}))}catch{ea(e=>({...e,gasLoading:!1}))}}},[o]),eL=async()=>{if(!es.token||!o)return;let e=D();if(!e)return void ea(e=>({...e,error:"Private key not found."}));ea(e=>({...e,sending:!0,error:""}));try{let t;if("native"===es.token.type)t=await rM(es.token.chainConfig,e,o.address,es.toAddress,es.amount);else{let r=rA(es.amount,es.token.decimals);t=await rD(es.token.chainConfig,e,o.address,es.token.tokenAddress,es.toAddress,r)}ea(e=>({...e,sending:!1,txHash:t.hash,txExplorerUrl:t.explorerUrl})),P("send-success"),setTimeout(()=>eA(o.address),3e3)}catch(t){let e=t instanceof Error?t.message:"Transaction failed";ea(t=>({...t,sending:!1,error:e}))}},eW=async()=>{if(!nf(eg))return void ej("Invalid contract address");eb(!0),ej(""),ex(null);let e=await rI(eh,eg);if(e){let t=await rk(eh,eg);if(t){ex({...t,coingeckoId:e.coingeckoId,logoUrl:e.logoUrl}),eb(!1);return}}let t=await rk(eh,eg);t?ex(t):ej("Token not found on this chain. Check the address and network."),eb(!1)},eM=async()=>{if(!em||!o)return;let e=[...U,em];_(e),localStorage.setItem(rG,JSON.stringify(e));let t=await rS(em,o.address);c(e=>[...e,t]),ef(""),ex(null),ej(""),P("none")},eD=(0,r.useCallback)(()=>{let e=X.trim().toLowerCase().replace(/[^a-z0-9.]/g,"");localStorage.setItem(rO,e),K(e),Q(!1),q("")},[X]),e$=(0,r.useCallback)(()=>{let e=er.trim()||"Embris";localStorage.setItem(rP,e||"Embris"),et(e),ei(!1),en("")},[er]);if("none"===e)return(0,t.jsxs)("div",{className:"page-enter",style:{padding:y?"24px 20px 48px":"48px 40px",maxWidth:480,margin:"0 auto",display:"flex",flexDirection:"column",minHeight:"100%"},children:[(0,t.jsxs)("div",{style:{textAlign:"center",marginBottom:40,paddingTop:y?20:40},children:[(0,t.jsx)("div",{style:{width:80,height:80,borderRadius:28,background:"linear-gradient(135deg, rgba(249,115,22,0.15), rgba(249,115,22,0.04))",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:20,marginLeft:"auto",marginRight:"auto",border:"1px solid rgba(249,115,22,0.15)"},children:(0,t.jsx)(no,{size:36})}),(0,t.jsx)("h1",{style:{fontSize:32,fontWeight:800,color:"#F4F4F5",marginBottom:8,letterSpacing:"-0.04em"},children:"Vaultfire Wallet"}),(0,t.jsx)("p",{style:{fontSize:14,color:"#71717A",lineHeight:1.7,marginBottom:28},children:"Secure multi-chain wallet for Ethereum, Base, and Avalanche. Full control of your assets."})]}),(0,t.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:12,marginBottom:32},children:[{icon:(0,t.jsx)(rK,{size:20}),label:"Create New Wallet",sub:"Generate a new seed phrase",onClick:eF,color:"#F97316"},{icon:(0,t.jsx)(rq,{size:20}),label:"Import Seed Phrase",sub:"12 or 24 word recovery phrase",onClick:()=>n("import-mnemonic"),color:"#22C55E"},{icon:(0,t.jsx)(rX,{size:20}),label:"Import Private Key",sub:"Direct private key import",onClick:()=>n("import-pk"),color:"#A78BFA"}].map(e=>(0,t.jsxs)("button",{type:"button",onClick:e.onClick,disabled:v||w,style:{display:"flex",alignItems:"center",gap:14,padding:"16px 18px",borderRadius:16,backgroundColor:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.06)",color:"#F4F4F5",cursor:"pointer",transition:"all 0.15s ease",textAlign:"left",WebkitTapHighlightColor:"transparent",touchAction:"manipulation"},children:[(0,t.jsx)("div",{style:{width:44,height:44,borderRadius:14,flexShrink:0,backgroundColor:`${e.color}12`,border:`1px solid ${e.color}25`,display:"flex",alignItems:"center",justifyContent:"center",color:e.color},children:e.icon}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{style:{fontWeight:600,fontSize:15},children:v&&"Create New Wallet"===e.label?"Creating...":e.label}),(0,t.jsx)("div",{style:{fontSize:12,fontWeight:400,color:"#71717A",marginTop:2},children:e.sub})]})]},e.label))}),(0,t.jsxs)("div",{style:{padding:"14px 16px",backgroundColor:"rgba(249,115,22,0.04)",border:"1px solid rgba(249,115,22,0.1)",borderRadius:14,display:"flex",alignItems:"flex-start",gap:10},children:[(0,t.jsx)("div",{style:{color:"#F97316",marginTop:1,flexShrink:0},children:(0,t.jsx)(r7,{size:14})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{style:{fontSize:12,color:"#F97316",fontWeight:600,marginBottom:4},children:"Alpha Software"}),(0,t.jsx)("p",{style:{fontSize:11,color:"#71717A",lineHeight:1.65},children:"Store funds at your own risk. No recovery possible — you are solely responsible for your seed phrase and private keys."})]})]})]});if("import-mnemonic"===e||"import-pk"===e){let r="import-mnemonic"===e;return(0,t.jsxs)("div",{className:"page-enter",style:{padding:y?"24px 20px 48px":"48px 40px",maxWidth:480,margin:"0 auto"},children:[(0,t.jsxs)("button",{type:"button",onClick:()=>{n("none"),p(""),f("")},style:{display:"inline-flex",alignItems:"center",gap:6,background:"none",border:"none",color:"#71717A",cursor:"pointer",marginBottom:32,fontSize:13,padding:0,fontWeight:500,WebkitTapHighlightColor:"transparent"},children:[(0,t.jsx)(r0,{size:14})," Back"]}),(0,t.jsx)("h2",{style:{fontSize:24,fontWeight:800,color:"#F4F4F5",marginBottom:8,letterSpacing:"-0.04em"},children:r?"Import Seed Phrase":"Import Private Key"}),(0,t.jsx)("p",{style:{fontSize:13,color:"#71717A",marginBottom:24,lineHeight:1.6},children:r?"Enter your 12 or 24 word recovery phrase, separated by spaces.":"Enter your private key (with or without 0x prefix)."}),(0,t.jsx)("div",{style:{backgroundColor:"rgba(255,255,255,0.02)",border:"1px solid rgba(255,255,255,0.06)",borderRadius:14,padding:4,marginBottom:12},children:(0,t.jsx)("textarea",{value:h,onChange:e=>p(e.target.value),placeholder:r?"word1 word2 word3 word4 ...":"0x...",rows:r?4:2,style:{width:"100%",padding:"14px 16px",background:"transparent",border:"none",borderRadius:12,color:"#F4F4F5",fontSize:14,resize:"none",...ng,outline:"none",boxSizing:"border-box",lineHeight:1.7}})}),g&&(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:6,marginTop:10,padding:"10px 14px",backgroundColor:"rgba(239,68,68,0.06)",border:"1px solid rgba(239,68,68,0.12)",borderRadius:10},children:[(0,t.jsx)("div",{style:{color:"#EF4444",flexShrink:0},children:(0,t.jsx)(r7,{size:12})}),(0,t.jsx)("p",{style:{color:"#EF4444",fontSize:12},children:g})]}),(0,t.jsxs)("button",{type:"button",onClick:r?eB:eI,disabled:0===h.trim().length||w,style:{display:"flex",alignItems:"center",justifyContent:"center",gap:8,padding:"15px",width:"100%",marginTop:16,background:0===h.trim().length||w?"rgba(255,255,255,0.03)":"linear-gradient(135deg, #F97316, #EA580C)",border:"none",borderRadius:14,color:0===h.trim().length||w?"#3F3F46":"#FFFFFF",fontSize:15,fontWeight:600,cursor:0===h.trim().length||w?"default":"pointer",boxShadow:0===h.trim().length||w?"none":"0 4px 20px rgba(249,115,22,0.2)",WebkitTapHighlightColor:"transparent",touchAction:"manipulation"},children:[w&&(0,t.jsx)("div",{style:{width:16,height:16,border:"2px solid rgba(255,255,255,0.1)",borderTopColor:"#fff",borderRadius:"50%",animation:"spin 0.8s linear infinite"}}),w?"Importing...":"Import Wallet"]})]})}let eN=o?.address||"",eO=`${eN.slice(0,6)}...${eN.slice(-4)}`,eP=y?"20px":"32px";return(0,t.jsxs)("div",{className:"page-enter",style:{paddingBottom:48},children:[(0,t.jsxs)("div",{style:{padding:`${y?28:40}px ${eP} ${y?24:32}px`,background:"linear-gradient(180deg, rgba(249,115,22,0.05) 0%, transparent 100%)"},children:[(0,t.jsx)("div",{style:{display:"flex",justifyContent:"center",marginBottom:20},children:(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:6},children:[(0,t.jsxs)("button",{type:"button",onClick:()=>C(!S),style:{display:"inline-flex",alignItems:"center",gap:6,padding:"6px 14px",borderRadius:20,backgroundColor:"rgba(255,255,255,0.04)",border:"1px solid rgba(255,255,255,0.06)",color:"#A1A1AA",fontSize:12,fontWeight:500,cursor:"pointer",...ng,transition:"all 0.15s ease",WebkitTapHighlightColor:"transparent",touchAction:"manipulation"},children:[(0,t.jsx)("div",{style:{width:6,height:6,borderRadius:"50%",backgroundColor:"#22C55E",flexShrink:0}}),J?(0,t.jsx)("span",{style:{color:"#F97316",fontWeight:600},children:J}):null,S?eN:eO]}),(0,t.jsx)("button",{type:"button",onClick:e=>{e.stopPropagation(),eT(eN,"addr")},style:{background:"none",border:"none",cursor:"pointer",color:"addr"===m?"#22C55E":"#52525B",padding:"4px",display:"flex",alignItems:"center",WebkitTapHighlightColor:"transparent"},children:"addr"===m?(0,t.jsx)(rQ,{size:11}):(0,t.jsx)(rZ,{size:11})})]})}),(0,t.jsxs)("div",{style:{textAlign:"center",marginBottom:28},children:[d||$?(0,t.jsx)("div",{className:"skeleton",style:{height:52,width:200,borderRadius:12,margin:"0 auto 8px"}}):(0,t.jsx)("h1",{style:{fontSize:y?44:56,fontWeight:800,color:"#F4F4F5",letterSpacing:"-0.04em",lineHeight:1.1,marginBottom:6,...ng},children:rY(eC)}),(0,t.jsx)("p",{style:{fontSize:13,color:"#52525B",fontWeight:500},children:"Total Portfolio Value"})]}),(0,t.jsx)("div",{style:{display:"flex",justifyContent:"center",marginBottom:24},children:(0,t.jsxs)("div",{style:{display:"inline-flex",alignItems:"center",gap:6,padding:"5px 14px",borderRadius:20,backgroundColor:"rgba(249,115,22,0.06)",border:"1px solid rgba(249,115,22,0.15)"},children:[(0,t.jsx)(no,{size:12}),(0,t.jsx)("span",{style:{fontSize:11,color:"#F97316",fontWeight:600,letterSpacing:"0.02em"},children:"Powered by Vaultfire Protocol"})]})}),(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"center",gap:y?20:28},children:[(0,t.jsx)(np,{icon:(0,t.jsx)(r4,{size:22}),label:"Send",onClick:()=>ez(),color:"#F97316"}),(0,t.jsx)(np,{icon:(0,t.jsx)(r6,{size:22}),label:"Receive",onClick:()=>P("receive"),color:"#22C55E"}),(0,t.jsx)(np,{icon:(0,t.jsx)(r1,{size:18}),label:"Refresh",onClick:eE,color:"#71717A"}),(0,t.jsx)(np,{icon:(0,t.jsx)(r8,{size:18}),label:"Settings",onClick:()=>{ec(""),eu(!1),P("security")},color:"#A78BFA"})]})]}),(0,t.jsxs)("div",{style:{padding:`0 ${eP}`},children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:14,marginTop:8},children:[(0,t.jsx)("h3",{style:{fontSize:17,fontWeight:700,color:"#F4F4F5",letterSpacing:"-0.02em"},children:"Assets"}),(0,t.jsxs)("button",{type:"button",onClick:()=>P("add-token"),style:{display:"inline-flex",alignItems:"center",gap:5,fontSize:12,color:"#F97316",background:"none",border:"1px solid rgba(249,115,22,0.2)",cursor:"pointer",fontWeight:600,padding:"5px 12px",borderRadius:8,transition:"all 0.15s ease",WebkitTapHighlightColor:"transparent",touchAction:"manipulation"},children:[(0,t.jsx)(rK,{size:10})," Add Token"]})]}),d?(0,t.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:8},children:[0,1,2,3,4].map(e=>(0,t.jsx)("div",{className:"skeleton",style:{height:72,borderRadius:16,border:"1px solid rgba(255,255,255,0.03)"}},e))}):0===eS.length?(0,t.jsxs)("div",{style:{padding:"48px 24px",textAlign:"center",backgroundColor:"rgba(255,255,255,0.01)",border:"1px solid rgba(255,255,255,0.04)",borderRadius:16},children:[(0,t.jsx)("div",{style:{width:48,height:48,borderRadius:"50%",backgroundColor:"rgba(255,255,255,0.04)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 12px"},children:(0,t.jsx)(r3,{size:24})}),(0,t.jsx)("p",{style:{fontSize:14,color:"#71717A",marginBottom:12},children:"No assets yet"}),(0,t.jsx)("p",{style:{fontSize:12,color:"#52525B",lineHeight:1.6},children:"Send tokens to your address to get started, or add a custom token to track your holdings."})]}):(0,t.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:6},children:eS.map((e,r)=>{var n;return(0,t.jsxs)("div",{role:"button",tabIndex:0,onClick:()=>ez(e),onKeyDown:t=>{("Enter"===t.key||" "===t.key)&&ez(e)},style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"14px 16px",backgroundColor:"rgba(255,255,255,0.02)",border:"1px solid rgba(255,255,255,0.04)",borderRadius:16,transition:"background-color 0.15s ease",cursor:"pointer",WebkitTapHighlightColor:"transparent",touchAction:"manipulation"},children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:14},children:[(0,t.jsxs)("div",{style:{position:"relative",flexShrink:0},children:[(0,t.jsx)(nc,{item:e,size:42}),"erc20"===e.type&&(0,t.jsx)(nd,{chain:e.chain})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{style:{fontSize:15,fontWeight:600,color:"#F4F4F5",marginBottom:2,letterSpacing:"-0.01em"},children:e.symbol}),(0,t.jsxs)("p",{style:{fontSize:11,color:"#52525B"},children:["native"===e.type?e.chainName:`${e.name} \xb7 ${e.chainName}`,e.pricePerToken>0&&(0,t.jsxs)("span",{style:{color:"#3F3F46"},children:[" · ",0===(n=e.pricePerToken)?"—":n>=1e3?`$${n.toLocaleString("en-US",{maximumFractionDigits:0})}`:n>=1?`$${n.toFixed(2)}`:n>=.01?`$${n.toFixed(4)}`:`$${n.toFixed(6)}`]})]})]})]}),(0,t.jsxs)("div",{style:{textAlign:"right"},children:[(0,t.jsx)("p",{style:{fontSize:15,fontWeight:700,color:e.error?"#EF4444":"#F4F4F5",...ng,letterSpacing:"-0.02em",marginBottom:2},children:e.error?"Error":e.balanceFormatted}),(0,t.jsx)("p",{style:{fontSize:12,color:"#52525B",...ng},children:e.usdValue>0?rY(e.usdValue):"—"})]})]},`${e.chain}-${e.symbol}-${e.tokenAddress||"native"}-${r}`)})})]}),(0,t.jsx)("div",{style:{padding:`24px ${eP} 0`},children:(0,t.jsxs)("div",{style:{padding:"12px 16px",backgroundColor:"rgba(249,115,22,0.04)",border:"1px solid rgba(249,115,22,0.1)",borderRadius:12,display:"flex",alignItems:"flex-start",gap:10},children:[(0,t.jsx)("div",{style:{color:"#F97316",flexShrink:0,marginTop:1},children:(0,t.jsx)(r7,{size:13})}),(0,t.jsxs)("p",{style:{fontSize:11,color:"#71717A",lineHeight:1.6},children:[(0,t.jsx)("strong",{style:{color:"#A1A1AA"},children:"Alpha Software."})," Store funds at your own risk. No recovery possible — you are solely responsible for your seed phrase and private keys."]})]})}),"security"===O&&(0,t.jsx)(nu,{onClose:()=>{P("none"),eu(!1),ec("")},title:"Security & Settings",children:(0,t.jsxs)("div",{style:{padding:"20px 24px 32px",display:"flex",flexDirection:"column",gap:20},children:[(0,t.jsxs)("div",{style:{padding:"18px",backgroundColor:"rgba(249,115,22,0.04)",border:"1px solid rgba(249,115,22,0.1)",borderRadius:16},children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:10,marginBottom:12},children:[(0,t.jsx)("div",{style:{width:36,height:36,borderRadius:10,backgroundColor:"rgba(249,115,22,0.1)",border:"1px solid rgba(249,115,22,0.2)",display:"flex",alignItems:"center",justifyContent:"center",color:"#F97316"},children:(0,t.jsx)(nr,{size:16})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{style:{fontSize:14,fontWeight:700,color:"#F4F4F5",letterSpacing:"-0.01em"},children:"Vaultfire Name (VNS)"}),(0,t.jsx)("p",{style:{fontSize:11,color:"#52525B"},children:"Your human-readable wallet name"})]})]}),Z?(0,t.jsxs)("div",{style:{display:"flex",gap:8},children:[(0,t.jsx)("input",{type:"text",value:X,onChange:e=>q(e.target.value),placeholder:"ghostkey.vault",autoFocus:!0,style:{flex:1,padding:"10px 14px",backgroundColor:"rgba(255,255,255,0.04)",border:"1px solid rgba(249,115,22,0.3)",borderRadius:10,color:"#F4F4F5",fontSize:14,outline:"none",...ng},onKeyDown:e=>{"Enter"===e.key&&eD(),"Escape"===e.key&&(Q(!1),q(""))}}),(0,t.jsx)("button",{type:"button",onClick:eD,style:{padding:"10px 16px",backgroundColor:"rgba(249,115,22,0.15)",border:"1px solid rgba(249,115,22,0.3)",borderRadius:10,color:"#F97316",fontSize:13,fontWeight:600,cursor:"pointer"},children:"Save"}),(0,t.jsx)("button",{type:"button",onClick:()=>{Q(!1),q("")},style:{padding:"10px 12px",backgroundColor:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.06)",borderRadius:10,color:"#71717A",fontSize:13,cursor:"pointer"},children:"Cancel"})]}):(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,t.jsx)("span",{style:{fontSize:14,color:J?"#F97316":"#52525B",...ng,fontWeight:J?600:400},children:J||"Not set"}),(0,t.jsxs)("button",{type:"button",onClick:()=>{Q(!0),q(J)},style:{display:"flex",alignItems:"center",gap:5,padding:"6px 12px",backgroundColor:"rgba(255,255,255,0.04)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:8,color:"#A1A1AA",fontSize:12,cursor:"pointer"},children:[(0,t.jsx)(nn,{size:11})," ",J?"Edit":"Set Name"]})]})]}),(0,t.jsxs)("div",{style:{padding:"18px",backgroundColor:"rgba(167,139,250,0.04)",border:"1px solid rgba(167,139,250,0.1)",borderRadius:16},children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:10,marginBottom:12},children:[(0,t.jsx)("div",{style:{width:36,height:36,borderRadius:10,backgroundColor:"rgba(167,139,250,0.1)",border:"1px solid rgba(167,139,250,0.2)",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,t.jsx)(no,{size:16})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{style:{fontSize:14,fontWeight:700,color:"#F4F4F5",letterSpacing:"-0.01em"},children:"Companion Name"}),(0,t.jsx)("p",{style:{fontSize:11,color:"#52525B"},children:"What do you call your AI companion?"})]})]}),eo?(0,t.jsxs)("div",{style:{display:"flex",gap:8},children:[(0,t.jsx)("input",{type:"text",value:er,onChange:e=>en(e.target.value),placeholder:"Embris, Phoenix, Nova...",autoFocus:!0,style:{flex:1,padding:"10px 14px",backgroundColor:"rgba(255,255,255,0.04)",border:"1px solid rgba(167,139,250,0.3)",borderRadius:10,color:"#F4F4F5",fontSize:14,outline:"none"},onKeyDown:e=>{"Enter"===e.key&&e$(),"Escape"===e.key&&(ei(!1),en(""))}}),(0,t.jsx)("button",{type:"button",onClick:e$,style:{padding:"10px 16px",backgroundColor:"rgba(167,139,250,0.15)",border:"1px solid rgba(167,139,250,0.3)",borderRadius:10,color:"#A78BFA",fontSize:13,fontWeight:600,cursor:"pointer"},children:"Save"}),(0,t.jsx)("button",{type:"button",onClick:()=>{ei(!1),en("")},style:{padding:"10px 12px",backgroundColor:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.06)",borderRadius:10,color:"#71717A",fontSize:13,cursor:"pointer"},children:"Cancel"})]}):(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,t.jsx)("span",{style:{fontSize:14,color:"#C4B5FD",fontWeight:600},children:ee}),(0,t.jsxs)("button",{type:"button",onClick:()=>{ei(!0),en(ee)},style:{display:"flex",alignItems:"center",gap:5,padding:"6px 12px",backgroundColor:"rgba(255,255,255,0.04)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:8,color:"#A1A1AA",fontSize:12,cursor:"pointer"},children:[(0,t.jsx)(nn,{size:11})," Rename"]})]})]}),(0,t.jsxs)("div",{style:{padding:"20px",backgroundColor:"rgba(255,255,255,0.02)",border:"1px solid rgba(255,255,255,0.06)",borderRadius:16},children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:10,marginBottom:12},children:[(0,t.jsx)("div",{style:{width:36,height:36,borderRadius:10,backgroundColor:"rgba(167,139,250,0.1)",border:"1px solid rgba(167,139,250,0.2)",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,t.jsx)(r8,{size:16})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{style:{fontSize:14,fontWeight:700,color:"#F4F4F5",letterSpacing:"-0.01em"},children:"Recovery Phrase"}),(0,t.jsx)("p",{style:{fontSize:11,color:"#52525B"},children:"Your 12-word seed phrase"})]})]}),ed?(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{style:{padding:"14px 16px",backgroundColor:"rgba(167,139,250,0.04)",border:"1px solid rgba(167,139,250,0.12)",borderRadius:10,marginBottom:10},children:(0,t.jsx)("p",{style:{fontSize:12,color:"#C4B5FD",...ng,wordBreak:"break-all",lineHeight:1.8},children:o?.mnemonic})}),(0,t.jsx)("button",{type:"button",onClick:()=>eT(o?.mnemonic||"","sec-mnemonic"),style:{display:"flex",alignItems:"center",justifyContent:"center",gap:6,width:"100%",padding:"10px",backgroundColor:"sec-mnemonic"===m?"rgba(34,197,94,0.08)":"rgba(255,255,255,0.03)",border:"sec-mnemonic"===m?"1px solid rgba(34,197,94,0.2)":"1px solid rgba(255,255,255,0.06)",borderRadius:8,color:"sec-mnemonic"===m?"#22C55E":"#71717A",fontSize:12,fontWeight:600,cursor:"pointer"},children:"sec-mnemonic"===m?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(rQ,{size:11})," Copied!"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(rZ,{size:11})," Copy Phrase"]})}),(0,t.jsxs)("button",{type:"button",onClick:()=>eu(!1),style:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",padding:"8px",marginTop:6,backgroundColor:"transparent",border:"none",color:"#52525B",fontSize:11,cursor:"pointer"},children:[(0,t.jsx)(r2,{size:10}),"  Hide"]})]}):(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{style:{padding:"12px 14px",backgroundColor:"rgba(239,68,68,0.04)",border:"1px solid rgba(239,68,68,0.1)",borderRadius:10,marginBottom:14},children:(0,t.jsxs)("p",{style:{fontSize:11,color:"#EF4444",lineHeight:1.6},children:[(0,t.jsx)("strong",{children:"Never share your seed phrase."})," Anyone with this phrase has full access to your wallet."]})}),(0,t.jsxs)("p",{style:{fontSize:12,color:"#71717A",marginBottom:8},children:["Type ",(0,t.jsx)("strong",{style:{color:"#A1A1AA"},children:"reveal"})," to unlock:"]}),(0,t.jsx)("input",{type:"text",value:el,onChange:e=>ec(e.target.value),placeholder:'Type "reveal" to continue',style:{width:"100%",padding:"12px 14px",backgroundColor:"rgba(255,255,255,0.03)",border:"reveal"===el?"1px solid rgba(167,139,250,0.4)":"1px solid rgba(255,255,255,0.07)",borderRadius:10,color:"#F4F4F5",fontSize:14,outline:"none",boxSizing:"border-box",marginBottom:10},onKeyDown:e=>{"Enter"===e.key&&"reveal"===el&&eu(!0)}}),(0,t.jsx)("button",{type:"button",onClick:()=>{"reveal"===el&&eu(!0)},disabled:"reveal"!==el,style:{width:"100%",padding:"12px",background:"reveal"===el?"rgba(167,139,250,0.15)":"rgba(255,255,255,0.02)",border:"reveal"===el?"1px solid rgba(167,139,250,0.3)":"1px solid rgba(255,255,255,0.05)",borderRadius:10,color:"reveal"===el?"#A78BFA":"#3F3F46",fontSize:13,fontWeight:600,cursor:"reveal"===el?"pointer":"default",transition:"all 0.15s ease"},children:"Reveal Seed Phrase"})]})]}),(0,t.jsxs)("div",{style:{padding:"16px",backgroundColor:"rgba(239,68,68,0.03)",border:"1px solid rgba(239,68,68,0.1)",borderRadius:16},children:[(0,t.jsx)("p",{style:{fontSize:11,fontWeight:700,color:"#EF4444",letterSpacing:"0.08em",marginBottom:10,textTransform:"uppercase"},children:"Danger Zone"}),(0,t.jsxs)("button",{type:"button",onClick:()=>{P("none"),confirm("Delete this wallet? Make sure you have your seed phrase backed up.")&&(Object.values(F).forEach(T),i(null),a([]),c([]),n("none"),P("none"))},style:{display:"flex",alignItems:"center",justifyContent:"center",gap:8,padding:"12px",width:"100%",backgroundColor:"rgba(239,68,68,0.06)",border:"1px solid rgba(239,68,68,0.15)",borderRadius:10,color:"#EF4444",fontSize:13,fontWeight:600,cursor:"pointer",transition:"all 0.15s ease"},children:[(0,t.jsx)(r5,{size:12})," Delete Wallet"]})]})]})}),"receive"===O&&(0,t.jsx)(nu,{onClose:()=>P("none"),title:"Receive",children:(0,t.jsxs)("div",{style:{padding:"24px 24px 32px",display:"flex",flexDirection:"column",alignItems:"center",gap:20},children:[(0,t.jsx)("p",{style:{fontSize:13,color:"#71717A",textAlign:"center",lineHeight:1.6},children:"Share your address to receive ETH, AVAX, or any ERC-20 token. Make sure the sender uses the correct network."}),(0,t.jsx)(nh,{value:eN}),(0,t.jsxs)("div",{style:{width:"100%",padding:"12px 16px",backgroundColor:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.06)",borderRadius:12,...ng,fontSize:12,color:"#A1A1AA",wordBreak:"break-all",textAlign:"center"},children:[J&&(0,t.jsx)("div",{style:{fontSize:14,color:"#F97316",fontWeight:700,marginBottom:6},children:J}),eN]}),(0,t.jsx)("button",{type:"button",onClick:()=>eT(eN,"receive-addr"),style:{display:"flex",alignItems:"center",justifyContent:"center",gap:8,width:"100%",padding:"14px",background:"receive-addr"===m?"rgba(34,197,94,0.1)":"linear-gradient(135deg, #F97316, #EA580C)",border:"receive-addr"===m?"1px solid rgba(34,197,94,0.2)":"none",borderRadius:14,color:"receive-addr"===m?"#22C55E":"#fff",fontSize:15,fontWeight:600,cursor:"pointer",transition:"all 0.2s ease",WebkitTapHighlightColor:"transparent",touchAction:"manipulation"},children:"receive-addr"===m?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(rQ,{size:14})," Address Copied!"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(rZ,{size:14})," Copy Address"]})}),(0,t.jsxs)("div",{style:{width:"100%",padding:"12px 14px",backgroundColor:"rgba(249,115,22,0.04)",border:"1px solid rgba(249,115,22,0.08)",borderRadius:10,display:"flex",alignItems:"flex-start",gap:8},children:[(0,t.jsx)("div",{style:{color:"#F97316",flexShrink:0,marginTop:1},children:(0,t.jsx)(r7,{size:12})}),(0,t.jsx)("p",{style:{fontSize:11,color:"#71717A",lineHeight:1.6},children:"This address works on Ethereum, Base, and Avalanche C-Chain. Always verify the network before sending."})]})]})}),"send"===O&&(0,t.jsx)(nu,{onClose:()=>P("none"),title:"Send",children:(0,t.jsxs)("div",{style:{padding:"20px 24px 32px",display:"flex",flexDirection:"column",gap:16},children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{style:{fontSize:12,color:"#71717A",fontWeight:500,display:"block",marginBottom:8},children:"Asset"}),(0,t.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:4,maxHeight:180,overflowY:"auto",borderRadius:14,border:"1px solid rgba(255,255,255,0.06)",padding:4},children:[0===eS.length&&(0,t.jsx)("div",{style:{padding:"20px",textAlign:"center"},children:(0,t.jsx)("p",{style:{fontSize:13,color:"#52525B"},children:"No assets to send. Fund your wallet first."})}),eS.map((e,r)=>(0,t.jsxs)("button",{type:"button",onClick:()=>ea(t=>({...t,token:e,gas:null})),style:{display:"flex",alignItems:"center",gap:10,padding:"10px 12px",backgroundColor:es.token===e?"rgba(249,115,22,0.08)":"transparent",border:es.token===e?"1px solid rgba(249,115,22,0.2)":"1px solid transparent",borderRadius:12,cursor:"pointer",width:"100%",textAlign:"left",transition:"all 0.1s ease",WebkitTapHighlightColor:"transparent"},children:[(0,t.jsxs)("div",{style:{position:"relative",flexShrink:0},children:[(0,t.jsx)(nc,{item:e,size:32}),"erc20"===e.type&&(0,t.jsx)(nd,{chain:e.chain})]}),(0,t.jsxs)("div",{style:{flex:1,minWidth:0},children:[(0,t.jsx)("p",{style:{fontSize:13,fontWeight:600,color:"#F4F4F5"},children:e.symbol}),(0,t.jsx)("p",{style:{fontSize:10,color:"#52525B"},children:e.chainName})]}),(0,t.jsx)("p",{style:{fontSize:12,color:"#A1A1AA",...ng,flexShrink:0},children:e.balanceFormatted})]},r))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{style:{fontSize:12,color:"#71717A",fontWeight:500,display:"block",marginBottom:8},children:"Recipient Address"}),(0,t.jsx)("input",{type:"text",value:es.toAddress,onChange:e=>ea(t=>({...t,toAddress:e.target.value,gas:null})),placeholder:"0x...",style:{width:"100%",padding:"14px 16px",boxSizing:"border-box",backgroundColor:"rgba(255,255,255,0.03)",border:es.toAddress&&!nf(es.toAddress)?"1px solid rgba(239,68,68,0.4)":"1px solid rgba(255,255,255,0.07)",borderRadius:14,color:"#F4F4F5",fontSize:14,...ng,outline:"none"}}),es.toAddress&&!nf(es.toAddress)&&(0,t.jsx)("p",{style:{fontSize:11,color:"#EF4444",marginTop:4},children:"Invalid address format"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:8},children:[(0,t.jsx)("label",{style:{fontSize:12,color:"#71717A",fontWeight:500},children:"Amount"}),es.token&&(0,t.jsx)("button",{type:"button",onClick:()=>ea(e=>({...e,amount:e.token?.balanceFormatted||"",gas:null})),style:{fontSize:11,color:"#F97316",background:"none",border:"none",cursor:"pointer",fontWeight:600},children:"Max"})]}),(0,t.jsxs)("div",{style:{position:"relative"},children:[(0,t.jsx)("input",{type:"text",inputMode:"decimal",value:es.amount,onChange:e=>ea(t=>({...t,amount:e.target.value,gas:null})),placeholder:"0.0",style:{width:"100%",padding:"14px 70px 14px 16px",boxSizing:"border-box",backgroundColor:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.07)",borderRadius:14,color:"#F4F4F5",fontSize:18,fontWeight:600,...ng,outline:"none"}}),(0,t.jsx)("span",{style:{position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",fontSize:14,color:"#52525B",fontWeight:600},children:es.token?.symbol||""})]}),es.token&&es.amount&&es.token.pricePerToken>0&&(0,t.jsxs)("p",{style:{fontSize:12,color:"#52525B",marginTop:4,...ng},children:["≈ ",rY(parseFloat(es.amount||"0")*es.token.pricePerToken)]})]}),(0,t.jsx)("button",{type:"button",onClick:()=>eR(es),disabled:!es.token||!nf(es.toAddress)||!es.amount||es.gasLoading,style:{display:"flex",alignItems:"center",justifyContent:"center",gap:6,padding:"11px",width:"100%",backgroundColor:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.06)",borderRadius:12,color:"#A1A1AA",fontSize:13,fontWeight:500,cursor:"pointer",transition:"all 0.15s ease",WebkitTapHighlightColor:"transparent"},children:es.gasLoading?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{style:{width:12,height:12,border:"2px solid rgba(255,255,255,0.1)",borderTopColor:"#A1A1AA",borderRadius:"50%",animation:"spin 0.8s linear infinite"}})," Estimating gas..."]}):es.gas?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(nt,{size:12})," Gas: ~",es.gas.estimatedFeeFormatted]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(nt,{size:12})," Estimate Gas"]})}),es.error&&(0,t.jsxs)("div",{style:{padding:"10px 14px",backgroundColor:"rgba(239,68,68,0.06)",border:"1px solid rgba(239,68,68,0.12)",borderRadius:10,display:"flex",alignItems:"flex-start",gap:8},children:[(0,t.jsx)("div",{style:{color:"#EF4444",flexShrink:0,marginTop:1},children:(0,t.jsx)(r7,{size:12})}),(0,t.jsx)("p",{style:{fontSize:12,color:"#EF4444",lineHeight:1.5},children:es.error})]}),(0,t.jsx)("button",{type:"button",onClick:eL,disabled:!es.token||!nf(es.toAddress)||!es.amount||es.sending,style:{display:"flex",alignItems:"center",justifyContent:"center",gap:8,padding:"15px",width:"100%",background:es.token&&nf(es.toAddress)&&es.amount&&!es.sending?"linear-gradient(135deg, #F97316, #EA580C)":"rgba(255,255,255,0.03)",border:"none",borderRadius:14,color:es.token&&nf(es.toAddress)&&es.amount&&!es.sending?"#fff":"#3F3F46",fontSize:15,fontWeight:600,cursor:es.token&&nf(es.toAddress)&&es.amount&&!es.sending?"pointer":"default",boxShadow:es.token&&nf(es.toAddress)&&es.amount&&!es.sending?"0 4px 20px rgba(249,115,22,0.25)":"none",transition:"all 0.15s ease",WebkitTapHighlightColor:"transparent",touchAction:"manipulation"},children:es.sending?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{style:{width:16,height:16,border:"2px solid rgba(255,255,255,0.2)",borderTopColor:"#fff",borderRadius:"50%",animation:"spin 0.8s linear infinite"}})," Sending..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r4,{size:16})," Send ",es.token?.symbol||""]})})]})}),"send-success"===O&&(0,t.jsx)(nu,{onClose:()=>P("none"),title:"Transaction Sent",children:(0,t.jsxs)("div",{style:{padding:"24px 24px 32px",display:"flex",flexDirection:"column",alignItems:"center",gap:20,textAlign:"center"},children:[(0,t.jsx)("div",{style:{width:72,height:72,borderRadius:"50%",backgroundColor:"rgba(34,197,94,0.1)",border:"2px solid rgba(34,197,94,0.3)",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,t.jsx)(rQ,{size:32})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{style:{fontSize:20,fontWeight:700,color:"#22C55E",marginBottom:8},children:"Transaction Submitted!"}),(0,t.jsx)("p",{style:{fontSize:13,color:"#71717A",lineHeight:1.6},children:"Your transaction has been broadcast to the network. It may take a few minutes to confirm."})]}),es.txHash&&(0,t.jsxs)("div",{style:{width:"100%",padding:"12px 16px",backgroundColor:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.06)",borderRadius:12},children:[(0,t.jsx)("p",{style:{fontSize:11,color:"#52525B",marginBottom:6},children:"Transaction Hash"}),(0,t.jsx)("p",{style:{fontSize:12,color:"#A1A1AA",...ng,wordBreak:"break-all"},children:es.txHash})]}),(0,t.jsxs)("div",{style:{display:"flex",gap:10,width:"100%"},children:[es.txExplorerUrl&&(0,t.jsxs)("a",{href:es.txExplorerUrl,target:"_blank",rel:"noopener noreferrer",style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",gap:6,padding:"12px",backgroundColor:"rgba(249,115,22,0.08)",border:"1px solid rgba(249,115,22,0.2)",borderRadius:12,color:"#F97316",fontSize:13,fontWeight:600,textDecoration:"none"},children:[(0,t.jsx)(ne,{size:12})," View on Explorer"]}),(0,t.jsx)("button",{type:"button",onClick:()=>P("none"),style:{flex:1,padding:"12px",backgroundColor:"rgba(255,255,255,0.04)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:12,color:"#A1A1AA",fontSize:13,fontWeight:600,cursor:"pointer",WebkitTapHighlightColor:"transparent"},children:"Done"})]})]})}),"add-token"===O&&(0,t.jsx)(nu,{onClose:()=>{P("none"),ef(""),ex(null),ej("")},title:"Add Token",children:(0,t.jsxs)("div",{style:{padding:"20px 24px 32px",display:"flex",flexDirection:"column",gap:16},children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{style:{fontSize:12,color:"#71717A",fontWeight:500,display:"block",marginBottom:8},children:"Network"}),(0,t.jsx)("div",{style:{display:"flex",gap:8},children:["base","ethereum","avalanche"].map(e=>(0,t.jsx)("button",{type:"button",onClick:()=>ep(e),style:{flex:1,padding:"10px 8px",backgroundColor:eh===e?"rgba(249,115,22,0.1)":"rgba(255,255,255,0.03)",border:eh===e?"1px solid rgba(249,115,22,0.3)":"1px solid rgba(255,255,255,0.06)",borderRadius:10,color:eh===e?"#F97316":"#71717A",fontSize:12,fontWeight:600,cursor:"pointer",transition:"all 0.15s ease",textTransform:"capitalize",WebkitTapHighlightColor:"transparent"},children:"avalanche"===e?"Avalanche":"base"===e?"Base":"Ethereum"},e))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{style:{fontSize:12,color:"#71717A",fontWeight:500,display:"block",marginBottom:8},children:"Contract Address"}),(0,t.jsxs)("div",{style:{display:"flex",gap:8},children:[(0,t.jsx)("input",{type:"text",value:eg,onChange:e=>{ef(e.target.value),ex(null),ej("")},placeholder:"0x...",style:{flex:1,padding:"12px 14px",backgroundColor:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.07)",borderRadius:12,color:"#F4F4F5",fontSize:14,...ng,outline:"none"},onKeyDown:e=>{"Enter"===e.key&&eW()}}),(0,t.jsx)("button",{type:"button",onClick:eW,disabled:ey||!eg,style:{padding:"12px 16px",backgroundColor:ey||!eg?"rgba(255,255,255,0.02)":"rgba(249,115,22,0.1)",border:ey||!eg?"1px solid rgba(255,255,255,0.05)":"1px solid rgba(249,115,22,0.25)",borderRadius:12,color:ey||!eg?"#3F3F46":"#F97316",fontSize:13,fontWeight:600,cursor:ey||!eg?"default":"pointer",whiteSpace:"nowrap",WebkitTapHighlightColor:"transparent"},children:ey?"...":"Lookup"})]})]}),ev&&(0,t.jsx)("div",{style:{padding:"10px 14px",backgroundColor:"rgba(239,68,68,0.06)",border:"1px solid rgba(239,68,68,0.12)",borderRadius:10},children:(0,t.jsx)("p",{style:{fontSize:12,color:"#EF4444"},children:ev})}),em&&(0,t.jsxs)("div",{style:{padding:"16px",backgroundColor:"rgba(34,197,94,0.04)",border:"1px solid rgba(34,197,94,0.12)",borderRadius:14},children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:12,marginBottom:12},children:[em.logoUrl?(0,t.jsx)("img",{src:em.logoUrl,alt:em.symbol,style:{width:40,height:40,borderRadius:"50%"}}):(0,t.jsx)(nl,{symbol:em.symbol,color:"#22C55E",size:40}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{style:{fontSize:15,fontWeight:700,color:"#F4F4F5"},children:em.symbol}),(0,t.jsx)("p",{style:{fontSize:12,color:"#71717A"},children:em.name})]}),(0,t.jsxs)("div",{style:{marginLeft:"auto",textAlign:"right"},children:[(0,t.jsx)("p",{style:{fontSize:11,color:"#52525B"},children:"Decimals"}),(0,t.jsx)("p",{style:{fontSize:14,fontWeight:600,color:"#A1A1AA"},children:em.decimals})]})]}),(0,t.jsxs)("button",{type:"button",onClick:eM,style:{display:"flex",alignItems:"center",justifyContent:"center",gap:6,width:"100%",padding:"12px",background:"linear-gradient(135deg, #22C55E, #16A34A)",border:"none",borderRadius:12,color:"#fff",fontSize:14,fontWeight:600,cursor:"pointer",boxShadow:"0 4px 16px rgba(34,197,94,0.2)",WebkitTapHighlightColor:"transparent"},children:[(0,t.jsx)(rK,{size:14})," Add ",em.symbol]})]})]})})]})}function nx({size:e=11}){return(0,t.jsxs)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}),(0,t.jsx)("polyline",{points:"15 3 21 3 21 9"}),(0,t.jsx)("line",{x1:"10",y1:"14",x2:"21",y2:"3"})]})}function ny({size:e=11}){return(0,t.jsxs)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),(0,t.jsx)("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]})}function nb({size:e=11}){return(0,t.jsx)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:(0,t.jsx)("polyline",{points:"20 6 9 17 4 12"})})}function nv({size:e=12}){return(0,t.jsxs)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("polyline",{points:"23 4 23 10 17 10"}),(0,t.jsx)("path",{d:"M20.49 15a9 9 0 1 1-2.12-9.36L23 10"})]})}function nj({size:e=14}){return(0,t.jsxs)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("circle",{cx:"11",cy:"11",r:"8"}),(0,t.jsx)("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]})}function nw(){let[e,n]=(0,r.useState)("all"),[o,i]=(0,r.useState)(""),[s,a]=(0,r.useState)([]),[l,c]=(0,r.useState)(""),[p,g]=(0,r.useState)(!1),[f,m]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e=()=>m(window.innerWidth<768);return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,r.useEffect)(()=>{a([...u,...h].map(e=>({...e,alive:null,checking:!1})))},[]);let x=s.filter(t=>{let r="all"===e||t.chain===e,n=""===o||t.name.toLowerCase().includes(o.toLowerCase())||t.address.toLowerCase().includes(o.toLowerCase());return r&&n}),y=async()=>{g(!0),a(e=>e.map(e=>({...e,checking:!0,alive:null}))),a(await Promise.all(s.map(async e=>{let t=await w(e.chain,e.address);return{...e,alive:t,checking:!1}}))),g(!1)},b=async(e,t)=>{a(r=>r.map(r=>r.address===e&&r.chain===t?{...r,checking:!0}:r));let r=await w(t,e);a(n=>n.map(n=>n.address===e&&n.chain===t?{...n,alive:r,checking:!1}:n))},v=async e=>{await navigator.clipboard.writeText(e),c(e),setTimeout(()=>c(""),2e3)},j=s.filter(e=>!0===e.alive).length,k=s.filter(e=>!1===e.alive).length,S={fontFamily:"'JetBrains Mono', monospace"};return(0,t.jsxs)("div",{className:"page-enter",style:{padding:f?"24px 16px 48px":"48px 40px",maxWidth:720,margin:"0 auto"},children:[(0,t.jsxs)("div",{style:{marginBottom:f?32:40},children:[(0,t.jsx)("h1",{style:{fontSize:28,fontWeight:700,color:"#F4F4F5",letterSpacing:"-0.04em"},children:"Verification"}),(0,t.jsxs)("p",{style:{fontSize:14,color:"#52525B",marginTop:6},children:["Verify all ",s.length," deployed smart contracts on-chain"]})]}),(0,t.jsxs)("div",{style:{display:"flex",gap:32,marginBottom:24,fontSize:13},children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{style:{color:"#71717A",fontSize:11,textTransform:"uppercase",letterSpacing:"0.1em",fontWeight:500},children:"Total"}),(0,t.jsx)("span",{style:{color:"#F4F4F5",fontWeight:600,...S,marginLeft:8,fontSize:14},children:s.length})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{style:{color:"#71717A",fontSize:11,textTransform:"uppercase",letterSpacing:"0.1em",fontWeight:500},children:"Verified"}),(0,t.jsx)("span",{style:{color:"#22C55E",fontWeight:600,...S,marginLeft:8,fontSize:14},children:j})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{style:{color:"#71717A",fontSize:11,textTransform:"uppercase",letterSpacing:"0.1em",fontWeight:500},children:"Failed"}),(0,t.jsx)("span",{style:{color:k>0?"#EF4444":"#3F3F46",fontWeight:600,...S,marginLeft:8,fontSize:14},children:k})]})]}),(0,t.jsxs)("div",{style:{display:"flex",flexDirection:f?"column":"row",gap:8,marginBottom:24,alignItems:f?"stretch":"center"},children:[(0,t.jsx)("div",{style:{display:"flex",gap:0,backgroundColor:"rgba(255,255,255,0.02)",borderRadius:8,padding:2},children:["all","base","avalanche"].map(r=>(0,t.jsx)("button",{onClick:()=>n(r),style:{padding:"6px 14px",borderRadius:6,border:"none",fontSize:12,fontWeight:500,cursor:"pointer",flex:f?1:"none",backgroundColor:e===r?"rgba(255,255,255,0.06)":"transparent",color:e===r?"#F4F4F5":"#52525B",transition:"all 0.12s ease"},children:"all"===r?"All":"base"===r?"Base":"Avax"},r))}),(0,t.jsxs)("div",{style:{flex:1,display:"flex",alignItems:"center",gap:8,padding:"0 12px",backgroundColor:"rgba(255,255,255,0.02)",borderRadius:8},children:[(0,t.jsx)(nj,{size:13}),(0,t.jsx)("input",{value:o,onChange:e=>i(e.target.value),placeholder:"Search...",style:{flex:1,padding:"8px 0",backgroundColor:"transparent",border:"none",color:"#F4F4F5",fontSize:13,outline:"none"}})]}),(0,t.jsxs)("button",{onClick:y,disabled:p,style:{display:"inline-flex",alignItems:"center",justifyContent:"center",gap:6,padding:"8px 16px",borderRadius:8,background:p?"rgba(255,255,255,0.03)":"#F97316",border:"none",color:p?"#3F3F46":"#09090B",fontSize:12,fontWeight:600,cursor:p?"default":"pointer",flexShrink:0},children:[(0,t.jsx)(nv,{size:12}),p?"Verifying...":"Verify All"]})]}),(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",padding:"0 0 8px",borderBottom:"1px solid rgba(255,255,255,0.03)",gap:8},children:[(0,t.jsx)("span",{style:{width:12}}),(0,t.jsx)("span",{style:{flex:1,fontSize:10,color:"#52525B",textTransform:"uppercase",letterSpacing:"0.1em",fontWeight:500},children:"Contract"}),!f&&(0,t.jsx)("span",{style:{width:60,fontSize:10,color:"#52525B",textTransform:"uppercase",letterSpacing:"0.1em",fontWeight:500,textAlign:"center"},children:"Chain"}),(0,t.jsx)("span",{style:{width:f?100:160,fontSize:10,color:"#52525B",textTransform:"uppercase",letterSpacing:"0.1em",fontWeight:500},children:"Address"}),(0,t.jsx)("span",{style:{width:72}})]}),x.map((e,r)=>(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8,padding:f?"10px 0":"8px 0",backgroundColor:r%2==1?"rgba(255,255,255,0.015)":"transparent",borderBottom:"1px solid rgba(255,255,255,0.02)"},children:[(0,t.jsx)("div",{style:{width:12,display:"flex",justifyContent:"center"},children:(0,t.jsx)("div",{style:{width:5,height:5,borderRadius:"50%",backgroundColor:e.checking?"#52525B":!0===e.alive?"#22C55E":!1===e.alive?"#EF4444":"#3F3F46",animation:e.checking?"statusPulse 1.5s infinite":"none"}})}),(0,t.jsx)("span",{style:{flex:1,minWidth:0,fontSize:13,fontWeight:400,color:"#E4E4E7",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.name}),!f&&(0,t.jsx)("span",{style:{width:60,textAlign:"center",fontSize:10,fontWeight:500,color:"#52525B",...S},children:"base"===e.chain?"Base":"Avax"}),(0,t.jsx)("code",{style:{width:f?100:160,fontSize:11,color:"#3F3F46",...S,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:f?`${e.address.slice(0,8)}...${e.address.slice(-4)}`:`${e.address.slice(0,14)}...${e.address.slice(-8)}`}),(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:2,width:72,justifyContent:"flex-end"},children:[(0,t.jsx)("button",{onClick:()=>b(e.address,e.chain),disabled:e.checking,style:{display:"flex",alignItems:"center",justifyContent:"center",padding:4,borderRadius:4,border:"none",backgroundColor:"transparent",color:"#3F3F46",cursor:e.checking?"default":"pointer",flexShrink:0},children:(0,t.jsx)(nv,{size:10})}),(0,t.jsx)("button",{onClick:()=>v(e.address),style:{display:"flex",alignItems:"center",justifyContent:"center",padding:4,borderRadius:4,border:"none",backgroundColor:"transparent",color:l===e.address?"#22C55E":"#3F3F46",cursor:"pointer",flexShrink:0},children:l===e.address?(0,t.jsx)(nb,{size:10}):(0,t.jsx)(ny,{size:10})}),(0,t.jsx)("a",{href:`${d[e.chain].explorerUrl}/address/${e.address}`,target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",justifyContent:"center",padding:4,color:"#3F3F46",textDecoration:"none",flexShrink:0},children:(0,t.jsx)(nx,{size:10})})]})]},`${e.chain}-${e.address}`))]})}let nk=u.find(e=>"VaultfireTeleporterBridge"===e.name),nS=h.find(e=>"VaultfireTeleporterBridge"===e.name);function nC({size:e=12}){return(0,t.jsxs)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("polyline",{points:"23 4 23 10 17 10"}),(0,t.jsx)("path",{d:"M20.49 15a9 9 0 1 1-2.12-9.36L23 10"})]})}function nA({size:e=10}){return(0,t.jsxs)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}),(0,t.jsx)("polyline",{points:"15 3 21 3 21 9"}),(0,t.jsx)("line",{x1:"10",y1:"14",x2:"21",y2:"3"})]})}function nE({size:e=14}){return(0,t.jsxs)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),(0,t.jsx)("polyline",{points:"12 5 19 12 12 19"})]})}function nF(){let[e,n]=(0,r.useState)(null),[o,i]=(0,r.useState)(null),[s,a]=(0,r.useState)(null),[l,c]=(0,r.useState)(null),[u,h]=(0,r.useState)(!0),[p,g]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e=()=>g(window.innerWidth<768);return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,r.useEffect)(()=>{f()},[]);let f=async()=>{h(!0);let[e,t,r,o]=await Promise.all([C("base",nk.address),C("avalanche",nS.address),v("base"),v("avalanche")]);n(e),i(t),a(r),c(o),h(!1)},m={fontFamily:"'JetBrains Mono', monospace"};return(0,t.jsxs)("div",{className:"page-enter",style:{padding:p?"24px 16px 48px":"48px 40px",maxWidth:640,margin:"0 auto"},children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:p?40:48,gap:12,flexWrap:"wrap"},children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{style:{fontSize:28,fontWeight:700,color:"#F4F4F5",letterSpacing:"-0.04em"},children:"Bridge"}),(0,t.jsx)("p",{style:{fontSize:14,color:"#52525B",marginTop:4},children:"Cross-chain communication via Teleporter"})]}),(0,t.jsxs)("button",{onClick:f,disabled:u,style:{display:"inline-flex",alignItems:"center",gap:6,padding:"8px 16px",borderRadius:8,background:u?"rgba(255,255,255,0.03)":"#F97316",border:"none",color:u?"#3F3F46":"#09090B",fontSize:12,fontWeight:600,cursor:u?"default":"pointer"},children:[(0,t.jsx)(nC,{size:12}),u?"Loading...":"Refresh"]})]}),(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:p?20:40,marginBottom:p?40:48,padding:"20px 0"},children:[(0,t.jsxs)("div",{style:{textAlign:"center"},children:[(0,t.jsx)("div",{style:{width:6,height:6,borderRadius:"50%",backgroundColor:s?.success?"#22C55E":"#3F3F46",margin:"0 auto 10px"}}),(0,t.jsx)("p",{style:{fontSize:15,fontWeight:600,color:"#F4F4F5"},children:"Base"}),(0,t.jsx)("p",{style:{fontSize:11,color:"#3F3F46",...m},children:"8453"})]}),(0,t.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:4},children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:4,color:"#3F3F46"},children:[(0,t.jsx)("div",{style:{width:p?32:56,height:1,backgroundColor:"rgba(255,255,255,0.06)"}}),(0,t.jsx)(nE,{size:12})]}),(0,t.jsx)("span",{style:{fontSize:9,color:"#3F3F46",textTransform:"uppercase",letterSpacing:"0.1em",fontWeight:500},children:"Teleporter"}),(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:4,color:"#3F3F46",transform:"rotate(180deg)"},children:[(0,t.jsx)("div",{style:{width:p?32:56,height:1,backgroundColor:"rgba(255,255,255,0.06)"}}),(0,t.jsx)(nE,{size:12})]})]}),(0,t.jsxs)("div",{style:{textAlign:"center"},children:[(0,t.jsx)("div",{style:{width:6,height:6,borderRadius:"50%",backgroundColor:l?.success?"#22C55E":"#3F3F46",margin:"0 auto 10px"}}),(0,t.jsx)("p",{style:{fontSize:15,fontWeight:600,color:"#F4F4F5"},children:"Avalanche"}),(0,t.jsx)("p",{style:{fontSize:11,color:"#3F3F46",...m},children:"43114"})]})]}),(0,t.jsxs)("div",{style:{marginBottom:48},children:[(0,t.jsx)("h2",{style:{fontSize:11,fontWeight:600,color:"#71717A",textTransform:"uppercase",letterSpacing:"0.1em",marginBottom:16},children:"Bridge Status"}),[{label:"Base Bridge",stats:e,chainResult:s,address:nk.address,chain:"base"},{label:"Avalanche Bridge",stats:o,chainResult:l,address:nS.address,chain:"avalanche"}].map((e,r)=>(0,t.jsxs)("div",{style:{padding:"20px 0",borderBottom:0===r?"1px solid rgba(255,255,255,0.03)":"none"},children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:16},children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:10},children:[(0,t.jsx)("div",{style:{width:5,height:5,borderRadius:"50%",backgroundColor:e.chainResult?.success?"#22C55E":"#3F3F46"}}),(0,t.jsx)("span",{style:{fontSize:14,fontWeight:500,color:"#F4F4F5"},children:e.label})]}),(0,t.jsx)("span",{style:{fontSize:11,fontWeight:500,color:e.chainResult?.success?"#22C55E":"#3F3F46"},children:u?"...":e.chainResult?.success?"Online":"Offline"})]}),(0,t.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:p?12:24},children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{style:{fontSize:11,color:"#71717A",textTransform:"uppercase",letterSpacing:"0.1em",marginBottom:8,fontWeight:500},children:"Messages"}),(0,t.jsx)("p",{style:{fontSize:20,fontWeight:600,color:"#F4F4F5",...m},children:u?"—":e.stats?.messageCount?.toLocaleString()??"N/A"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{style:{fontSize:11,color:"#71717A",textTransform:"uppercase",letterSpacing:"0.1em",marginBottom:8,fontWeight:500},children:"Status"}),(0,t.jsx)("p",{style:{fontSize:14,fontWeight:500,color:e.stats?.paused?"#EF4444":"#22C55E"},children:u?"—":e.stats?.isAlive?e.stats.paused?"Paused":"Active":"N/A"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{style:{fontSize:11,color:"#71717A",textTransform:"uppercase",letterSpacing:"0.1em",marginBottom:8,fontWeight:500},children:"Nonce"}),(0,t.jsx)("p",{style:{fontSize:14,fontWeight:500,color:"#A1A1AA",...m},children:u?"—":e.stats?.nonce??"N/A"})]})]}),(0,t.jsxs)("div",{style:{marginTop:16,display:"flex",alignItems:"center",gap:8},children:[(0,t.jsx)("code",{style:{fontSize:11,color:"#3F3F46",...m,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",flex:1},children:p?`${e.address.slice(0,14)}...${e.address.slice(-8)}`:e.address}),(0,t.jsx)("a",{href:`${d[e.chain].explorerUrl}/address/${e.address}`,target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",gap:4,color:"#3F3F46",textDecoration:"none",fontSize:11,flexShrink:0},children:(0,t.jsx)(nA,{size:10})})]})]},e.label))]}),(0,t.jsx)("p",{style:{fontSize:13,color:"#3F3F46",lineHeight:1.8},children:"The Teleporter Bridge enables cross-chain communication between Base and Avalanche using Avalanche Warp Messaging (AWM) for trustless message relay."})]})}function nB({size:e=12}){return(0,t.jsxs)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("polyline",{points:"23 4 23 10 17 10"}),(0,t.jsx)("path",{d:"M20.49 15a9 9 0 1 1-2.12-9.36L23 10"})]})}function nI({size:e=10}){return(0,t.jsxs)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}),(0,t.jsx)("polyline",{points:"15 3 21 3 21 9"}),(0,t.jsx)("line",{x1:"10",y1:"14",x2:"21",y2:"3"})]})}function nT(){return(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"skeleton skeleton-text-sm",style:{width:"55%",marginBottom:10}}),(0,t.jsx)("div",{className:"skeleton skeleton-title",style:{width:"40%"}})]})}function nz({idx:e}){return(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8,padding:"8px 0",backgroundColor:e%2==1?"rgba(255,255,255,0.015)":"transparent"},children:[(0,t.jsx)("div",{className:"skeleton skeleton-circle",style:{width:4,height:4,flexShrink:0}}),(0,t.jsx)("div",{className:"skeleton skeleton-text",style:{flex:1}}),(0,t.jsx)("div",{className:"skeleton skeleton-circle",style:{width:12,height:12,flexShrink:0}})]})}function nR(){let[e,n]=(0,r.useState)({}),[o,i]=(0,r.useState)({}),[s,a]=(0,r.useState)(!0),[l,c]=(0,r.useState)(!1),[g,f]=(0,r.useState)(null),[m,x]=(0,r.useState)(!1),[y,b]=(0,r.useState)(null),[v,w]=(0,r.useState)(null),[A,E]=(0,r.useState)(null),[F,B]=(0,r.useState)(null);(0,r.useEffect)(()=>{let e=()=>x(window.innerWidth<768);return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,r.useEffect)(()=>{I()},[]);let I=async()=>{s||c(!0),a(!0);let[e,t,r]=await Promise.all([j(),k("base",u.map(e=>e.address)),k("avalanche",h.map(e=>e.address))]);n(e),i({...t,...r});let o=u.find(e=>"MultisigGovernance"===e.name),l=h.find(e=>"MultisigGovernance"===e.name),d=u.find(e=>"VaultfireTeleporterBridge"===e.name),p=h.find(e=>"VaultfireTeleporterBridge"===e.name),[g,m,x,y]=await Promise.all([o?S("base",o.address):Promise.resolve(null),l?S("avalanche",l.address):Promise.resolve(null),d?C("base",d.address):Promise.resolve(null),p?C("avalanche",p.address):Promise.resolve(null)]);b(g),w(m),E(x),B(y),f(new Date),a(!1),c(!1)},T=p.map(e=>({...e,alive:o[e.address]??null})),z=T.filter(e=>"base"===e.chain),R=T.filter(e=>"avalanche"===e.chain),L=Object.values(o).filter(Boolean).length,W=Object.keys(o).length,M=W>0?Math.round(L/W*100):null,D={fontFamily:"'JetBrains Mono', monospace"},$=[{label:"Health",value:null!==M?`${M}%`:"—",color:null!==M?M>=90?"#22C55E":M>=70?"#EAB308":"#EF4444":"#3F3F46"},{label:"Contracts Live",value:`${L}/${W||p.length}`,color:"#F4F4F5"},{label:"Base Block",value:e.base?.blockNumber?.toLocaleString()||"—",color:"#F4F4F5"},{label:"Avax Block",value:e.avalanche?.blockNumber?.toLocaleString()||"—",color:"#F4F4F5"},{label:"Base Latency",value:e.base?.latency?`${e.base.latency}ms`:"—",color:"#A1A1AA"},{label:"Avax Latency",value:e.avalanche?.latency?`${e.avalanche.latency}ms`:"—",color:"#A1A1AA"}];return(0,t.jsxs)("div",{className:"page-enter",style:{padding:m?"24px 16px 48px":"48px 40px",maxWidth:720,margin:"0 auto"},children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:m?"flex-start":"center",justifyContent:"space-between",marginBottom:m?40:48,flexDirection:m?"column":"row",gap:16*!!m},children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{style:{fontSize:28,fontWeight:700,color:"#F4F4F5",letterSpacing:"-0.04em",lineHeight:1.25},children:"Dashboard"}),(0,t.jsx)("p",{style:{fontSize:12,color:"#52525B",marginTop:4,lineHeight:1.5},children:g?`Updated ${g.toLocaleTimeString()}`:"Loading on-chain data..."})]}),(0,t.jsxs)("button",{onClick:I,disabled:s,style:{display:"inline-flex",alignItems:"center",gap:6,padding:"8px 16px",background:s?"rgba(255,255,255,0.03)":"#F97316",border:"none",borderRadius:8,color:s?"#3F3F46":"#09090B",fontSize:12,fontWeight:600,cursor:s?"default":"pointer",alignSelf:m?"stretch":"auto",justifyContent:"center",transition:"all 0.15s ease"},onMouseEnter:e=>{s||(e.currentTarget.style.background="#FB923C",e.currentTarget.style.transform="translateY(-1px)")},onMouseLeave:e=>{s||(e.currentTarget.style.background="#F97316",e.currentTarget.style.transform="none")},children:[(0,t.jsx)("span",{style:{animation:l?"spin 0.8s linear infinite":"none",display:"flex"},children:(0,t.jsx)(nB,{size:12})}),s?"Refreshing...":"Refresh"]})]}),(0,t.jsx)("div",{style:{display:"grid",gridTemplateColumns:m?"repeat(2, 1fr)":"repeat(3, 1fr)",gap:m?12:16,marginBottom:48},children:s?Array.from({length:6}).map((e,r)=>(0,t.jsx)(nT,{},r)):$.map(e=>(0,t.jsxs)("div",{style:{padding:m?"14px 12px":"16px",backgroundColor:"rgba(255,255,255,0.02)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:12},children:[(0,t.jsx)("p",{style:{fontSize:10,color:"#52525B",textTransform:"uppercase",letterSpacing:"0.1em",marginBottom:8,fontWeight:600},children:e.label}),(0,t.jsx)("p",{style:{fontSize:m?20:24,fontWeight:600,color:e.color,...D,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",letterSpacing:"-0.02em"},children:e.value})]},e.label))}),!s&&(0,t.jsxs)("div",{style:{marginBottom:48},children:[(0,t.jsx)("h2",{style:{fontSize:11,fontWeight:500,color:"#71717A",textTransform:"uppercase",letterSpacing:"0.1em",marginBottom:16},children:"Governance & Bridge"}),(0,t.jsxs)("div",{style:{display:"grid",gridTemplateColumns:m?"1fr auto auto":"1fr auto auto auto",gap:16,padding:"0 0 8px",borderBottom:"1px solid rgba(255,255,255,0.03)"},children:[(0,t.jsx)("span",{style:{fontSize:10,color:"#52525B",textTransform:"uppercase",letterSpacing:"0.1em",fontWeight:500},children:"Component"}),(0,t.jsx)("span",{style:{fontSize:10,color:"#52525B",textTransform:"uppercase",letterSpacing:"0.1em",fontWeight:500,textAlign:"right"},children:"Detail"}),!m&&(0,t.jsx)("span",{style:{fontSize:10,color:"#52525B",textTransform:"uppercase",letterSpacing:"0.1em",fontWeight:500,textAlign:"right"}}),(0,t.jsx)("span",{style:{fontSize:10,color:"#52525B",textTransform:"uppercase",letterSpacing:"0.1em",fontWeight:500,textAlign:"right"},children:"Status"})]}),[{label:"Governance (Base)",alive:y?.isAlive,detail:y?`${y.threshold}/${y.ownerCount} signers`:"N/A"},{label:"Governance (Avax)",alive:v?.isAlive,detail:v?`${v.threshold}/${v.ownerCount} signers`:"N/A"},{label:"Bridge (Base)",alive:A?.isAlive,detail:A?.paused!==null&&A?.paused!==void 0?A.paused?"Paused":"Active":"N/A"},{label:"Bridge (Avax)",alive:F?.isAlive,detail:F?.paused!==null&&F?.paused!==void 0?F.paused?"Paused":"Active":"N/A"}].map((e,r)=>(0,t.jsxs)("div",{style:{display:"grid",gridTemplateColumns:m?"1fr auto auto":"1fr auto auto auto",gap:16,alignItems:"center",padding:"12px 0",backgroundColor:r%2==1?"rgba(255,255,255,0.015)":"transparent",borderBottom:"1px solid rgba(255,255,255,0.02)",transition:"background-color 0.12s ease"},children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:10},children:[(0,t.jsx)("div",{style:{width:5,height:5,borderRadius:"50%",backgroundColor:e.alive?"#22C55E":"#3F3F46",transition:"background-color 0.3s ease"}}),(0,t.jsx)("span",{style:{fontSize:13,color:"#F4F4F5",fontWeight:400,lineHeight:1.5},children:e.label})]}),(0,t.jsx)("span",{style:{fontSize:12,color:"#71717A",...D,textAlign:"right"},children:e.detail}),!m&&(0,t.jsx)("span",{}),(0,t.jsx)("span",{style:{fontSize:11,fontWeight:500,color:e.alive?"#22C55E":"#3F3F46",textAlign:"right",transition:"color 0.3s ease"},children:e.alive?"Live":"N/A"})]},e.label))]}),(0,t.jsx)("div",{style:{display:"grid",gridTemplateColumns:m?"1fr":"repeat(2, 1fr)",gap:m?40:32},children:[{title:"Base",contracts:z,chain:"base"},{title:"Avalanche",contracts:R,chain:"avalanche"}].map(({title:e,contracts:r,chain:n})=>(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:12},children:[(0,t.jsx)("h2",{style:{fontSize:11,fontWeight:500,color:"#71717A",textTransform:"uppercase",letterSpacing:"0.1em"},children:e}),(0,t.jsx)("span",{style:{fontSize:10,color:"#3F3F46",...D},children:d[n].chainId})]}),(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 0 6px",borderBottom:"1px solid rgba(255,255,255,0.03)",marginBottom:2},children:[(0,t.jsx)("span",{style:{fontSize:10,color:"#52525B",textTransform:"uppercase",letterSpacing:"0.1em",fontWeight:500},children:"Contract"}),(0,t.jsx)("span",{style:{fontSize:10,color:"#52525B",textTransform:"uppercase",letterSpacing:"0.1em",fontWeight:500},children:"Link"})]}),s?Array.from({length:5}).map((e,r)=>(0,t.jsx)(nz,{idx:r},r)):r.map((e,o)=>(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8,padding:"8px 0",backgroundColor:o%2==1?"rgba(255,255,255,0.015)":"transparent",borderBottom:o<r.length-1?"1px solid rgba(255,255,255,0.02)":"none",transition:"background-color 0.12s ease"},children:[(0,t.jsx)("div",{style:{width:4,height:4,borderRadius:"50%",flexShrink:0,backgroundColor:s?"#52525B":!0===e.alive?"#22C55E":!1===e.alive?"#EF4444":"#3F3F46",transition:"background-color 0.3s ease"}}),(0,t.jsx)("span",{style:{fontSize:12,fontWeight:400,color:"#E4E4E7",flex:1,minWidth:0,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",...D},children:e.name}),(0,t.jsx)("a",{href:`${d[n].explorerUrl}/address/${e.address}`,target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,padding:4,color:"#3F3F46",textDecoration:"none",borderRadius:4,transition:"color 0.15s ease"},onMouseEnter:e=>{e.currentTarget.style.color="#F97316"},onMouseLeave:e=>{e.currentTarget.style.color="#3F3F46"},children:(0,t.jsx)(nI,{size:9})})]},e.address))]},n))})]})}function nL({size:e=14}){return(0,t.jsxs)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),(0,t.jsx)("polyline",{points:"7 10 12 15 17 10"}),(0,t.jsx)("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]})}function nW({size:e=14}){return(0,t.jsxs)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),(0,t.jsx)("polyline",{points:"17 8 12 3 7 8"}),(0,t.jsx)("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]})}function nM({size:e=14}){return(0,t.jsxs)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("polyline",{points:"3 6 5 6 21 6"}),(0,t.jsx)("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})}function nD({size:e=14}){return(0,t.jsx)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,t.jsx)("polyline",{points:"20 6 9 17 4 12"})})}function n$({size:e=14,open:r}){return(0,t.jsx)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{transform:r?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s ease"},children:(0,t.jsx)("polyline",{points:"6 9 12 15 18 9"})})}function nN(){let[e,n]=(0,r.useState)({chatMessages:0,memories:0,reflections:0,patterns:0,insights:0,emotionalEntries:0,sessionSummaries:0,goals:0,hasPersonality:!1,isRegistered:!1,totalDataSize:"0 KB",walletConnected:!1,lastSync:null}),[o,i]=(0,r.useState)(!1),[s,a]=(0,r.useState)(""),[l,c]=(0,r.useState)(!1),[d,u]=(0,r.useState)([]),[h,p]=(0,r.useState)(!1),[g,f]=(0,r.useState)(!1),[m,x]=(0,r.useState)(!1),[y,b]=(0,r.useState)(!1),[v,j]=(0,r.useState)(!1),[w,k]=(0,r.useState)([]),[S,C]=(0,r.useState)([]),[A,E]=(0,r.useState)(""),F={fontFamily:"'JetBrains Mono', monospace"};(0,r.useEffect)(()=>{let e=()=>f(window.innerWidth<768);return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,r.useEffect)(()=>{B()},[]);let B=()=>{let e,t,r,o,i=function(){let e=eJ(),t=e4(),r=0;for(let e=0;e<localStorage.length;e++){let t=localStorage.key(e);t&&(t.startsWith("vaultfire_")||t.startsWith("embris_")||t.startsWith("ember_"))&&(r+=2*(localStorage.getItem(t)||"").length)}let n=r<1024?`${r} B`:r<1048576?`${(r/1024).toFixed(1)} KB`:`${(r/1048576).toFixed(2)} MB`,o=tc(),i=o.adjustmentCount>0||o.customInstructions.length>0,s=ee();return{chatMessages:tk().length,memories:tw().length,reflections:e.reflections.length,patterns:e.patterns.length,insights:e.insights.length,emotionalEntries:t.history.length,sessionSummaries:te().length,goals:to().length,hasPersonality:i,isRegistered:null!==s&&"full"===s.embrisLevel,totalDataSize:n}}(),s=localStorage.getItem("vaultfire_wallet_address"),a=localStorage.getItem("vaultfire_last_sync");n({...i,isRegistered:i.isRegistered??!1,walletConnected:!!s,lastSync:a}),k(te()),C(to()),E((e=tc(),t=[],r=(e,t,r)=>e<-.5?`Very ${t}`:e<-.2?`Somewhat ${t}`:e>.5?`Very ${r}`:e>.2?`Somewhat ${r}`:"Balanced",t.push(`Formality: ${r(e.formality,"casual","formal")}`),t.push(`Detail level: ${r(e.verbosity,"concise","detailed")}`),t.push(`Technical depth: ${r(e.technicality,"simple","technical")}`),t.push(`Humor: ${r(e.humor,"serious","playful")}`),t.push(`Directness: ${r(e.directness,"gentle","direct")}`),o=t.join("\n"),e.customInstructions.length>0&&(o+="\n\nCustom instructions:\n"+e.customInstructions.map(e=>`- ${e}`).join("\n")),o))};return(0,t.jsxs)("div",{className:"page-enter",style:{padding:g?"24px 16px 48px":"48px 40px",maxWidth:600,margin:"0 auto"},children:[(0,t.jsxs)("div",{style:{marginBottom:g?40:48},children:[(0,t.jsx)("h1",{style:{fontSize:28,fontWeight:700,color:"#F4F4F5",letterSpacing:"-0.04em"},children:"Data"}),(0,t.jsx)("p",{style:{fontSize:14,color:"#52525B",marginTop:6},children:"Export, import, and manage your complete Embris profile"})]}),(0,t.jsx)("div",{style:{display:"grid",gridTemplateColumns:g?"repeat(2, 1fr)":"repeat(4, 1fr)",gap:g?"24px 16px":"24px 32px",marginBottom:16},children:[{label:"Messages",value:String(e.chatMessages)},{label:"Memories",value:String(e.memories)},{label:"Reflections",value:String(e.reflections)},{label:"Patterns",value:String(e.patterns)}].map(e=>(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{style:{fontSize:11,color:"#71717A",textTransform:"uppercase",letterSpacing:"0.1em",marginBottom:8,fontWeight:500},children:e.label}),(0,t.jsx)("p",{style:{fontSize:20,fontWeight:600,color:"#F4F4F5",...F,letterSpacing:"-0.02em"},children:e.value})]},e.label))}),(0,t.jsx)("div",{style:{display:"grid",gridTemplateColumns:g?"repeat(2, 1fr)":"repeat(4, 1fr)",gap:g?"24px 16px":"24px 32px",marginBottom:40},children:[{label:"Insights",value:String(e.insights)},{label:"Goals",value:String(e.goals),color:e.goals>0?"#F59E0B":void 0},{label:"Sessions",value:String(e.sessionSummaries)},{label:"Size",value:e.totalDataSize}].map(e=>(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{style:{fontSize:11,color:"#71717A",textTransform:"uppercase",letterSpacing:"0.1em",marginBottom:8,fontWeight:500},children:e.label}),(0,t.jsx)("p",{style:{fontSize:20,fontWeight:600,color:e.color||"#F4F4F5",...F,letterSpacing:"-0.02em"},children:e.value})]},e.label))}),e.lastSync&&(0,t.jsxs)("p",{style:{fontSize:12,color:"#3F3F46",marginBottom:24},children:["Last export: ",new Date(e.lastSync).toLocaleString()]}),w.length>0&&(0,t.jsxs)("div",{style:{marginBottom:16},children:[(0,t.jsxs)("button",{onClick:()=>x(!m),style:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",padding:"14px 0",backgroundColor:"transparent",border:"none",cursor:"pointer",borderBottom:"1px solid rgba(255,255,255,0.03)"},children:[(0,t.jsxs)("span",{style:{fontSize:14,fontWeight:500,color:"#F4F4F5"},children:["Previous Sessions (",w.length,")"]}),(0,t.jsx)(n$,{size:14,open:m})]}),m&&(0,t.jsx)("div",{style:{padding:"12px 0"},children:w.slice().reverse().slice(0,10).map(e=>(0,t.jsxs)("div",{style:{padding:"10px 0",borderBottom:"1px solid rgba(255,255,255,0.02)"},children:[(0,t.jsxs)("p",{style:{fontSize:11,color:"#52525B",marginBottom:4,...F},children:[new Date(e.timestamp).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})," · ",e.messageCount," messages · ",e.duration,"min"]}),(0,t.jsx)("p",{style:{fontSize:13,color:"#A1A1AA",lineHeight:1.5},children:e.summary}),e.topics.length>0&&(0,t.jsx)("div",{style:{display:"flex",gap:6,flexWrap:"wrap",marginTop:6},children:e.topics.map((e,r)=>(0,t.jsx)("span",{style:{fontSize:10,color:"#71717A",backgroundColor:"rgba(255,255,255,0.03)",padding:"2px 8px",borderRadius:4},children:e},r))}),e.decisions.length>0&&(0,t.jsxs)("p",{style:{fontSize:12,color:"#F97316",marginTop:4,opacity:.7},children:["Decisions: ",e.decisions.join("; ")]})]},e.id))})]}),S.length>0&&(0,t.jsxs)("div",{style:{marginBottom:16},children:[(0,t.jsxs)("button",{onClick:()=>b(!y),style:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",padding:"14px 0",backgroundColor:"transparent",border:"none",cursor:"pointer",borderBottom:"1px solid rgba(255,255,255,0.03)"},children:[(0,t.jsxs)("span",{style:{fontSize:14,fontWeight:500,color:"#F4F4F5"},children:["Goals (",S.length,")"]}),(0,t.jsx)(n$,{size:14,open:y})]}),y&&(0,t.jsx)("div",{style:{padding:"12px 0"},children:S.map(e=>(0,t.jsxs)("div",{style:{padding:"10px 0",borderBottom:"1px solid rgba(255,255,255,0.02)"},children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:4},children:[(0,t.jsx)("span",{style:{fontSize:10,fontWeight:500,textTransform:"uppercase",color:"active"===e.status?"#22C55E":"completed"===e.status?"#F97316":"#71717A",...F},children:e.status}),(0,t.jsx)("span",{style:{fontSize:13,color:"#F4F4F5",fontWeight:500},children:e.title})]}),e.description&&(0,t.jsx)("p",{style:{fontSize:12,color:"#71717A",marginBottom:4},children:e.description}),(0,t.jsx)("div",{style:{width:"100%",height:3,backgroundColor:"rgba(255,255,255,0.04)",borderRadius:2,marginTop:6},children:(0,t.jsx)("div",{style:{width:`${e.progress}%`,height:"100%",backgroundColor:"completed"===e.status?"#F97316":"#22C55E",borderRadius:2,transition:"width 0.3s ease"}})}),(0,t.jsxs)("p",{style:{fontSize:10,color:"#3F3F46",marginTop:4,...F},children:[e.progress,"% · Created ",new Date(e.createdAt).toLocaleDateString()]})]},e.id))})]}),e.hasPersonality&&(0,t.jsxs)("div",{style:{marginBottom:24},children:[(0,t.jsxs)("button",{onClick:()=>j(!v),style:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",padding:"14px 0",backgroundColor:"transparent",border:"none",cursor:"pointer",borderBottom:"1px solid rgba(255,255,255,0.03)"},children:[(0,t.jsx)("span",{style:{fontSize:14,fontWeight:500,color:"#F4F4F5"},children:"Personality Settings"}),(0,t.jsx)(n$,{size:14,open:v})]}),v&&(0,t.jsx)("div",{style:{padding:"12px 0"},children:A.split("\n").map((e,r)=>(0,t.jsx)("p",{style:{fontSize:13,color:"#A1A1AA",lineHeight:1.6},children:e},r))})]}),(0,t.jsxs)("div",{style:{marginBottom:32},children:[(0,t.jsxs)("button",{onClick:()=>{let e=new Blob([JSON.stringify({version:6,exportedAt:new Date().toISOString(),exportSource:"embris-enhanced-v6",chatHistory:tk(),memories:tw(),walletAddress:localStorage.getItem("vaultfire_wallet_address")??void 0,selfLearning:eJ(),emotional:e4(),sessionSummaries:te(),goals:to(),personality:tc(),registration:ee()},null,2)],{type:"application/json"}),t=URL.createObjectURL(e),r=document.createElement("a");r.href=t,r.download=`embris-full-backup-${new Date().toISOString().slice(0,10)}.json`,r.click(),URL.revokeObjectURL(t),localStorage.setItem("vaultfire_last_sync",new Date().toISOString()),i(!0),setTimeout(()=>i(!1),3e3),B()},style:{display:"flex",alignItems:"center",gap:14,padding:"16px 0",width:"100%",backgroundColor:"transparent",border:"none",cursor:"pointer",textAlign:"left",borderBottom:"1px solid rgba(255,255,255,0.03)"},children:[(0,t.jsx)("span",{style:{width:28,height:28,borderRadius:7,backgroundColor:"rgba(249,115,22,0.06)",display:"flex",alignItems:"center",justifyContent:"center",color:"#F97316",flexShrink:0},children:o?(0,t.jsx)(nD,{size:13}):(0,t.jsx)(nL,{size:13})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{style:{fontSize:14,fontWeight:500,color:"#F4F4F5"},children:o?"Exported!":"Export Full Profile"}),(0,t.jsx)("p",{style:{fontSize:12,color:"#3F3F46"},children:"Download complete backup — memories, goals, personality, sessions, and more"})]})]}),(0,t.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:14,padding:"16px 0",cursor:"pointer",backgroundColor:"transparent",borderBottom:"1px solid rgba(255,255,255,0.03)"},children:[(0,t.jsx)("span",{style:{width:28,height:28,borderRadius:7,backgroundColor:"rgba(255,255,255,0.02)",display:"flex",alignItems:"center",justifyContent:"center",color:"#52525B",flexShrink:0},children:l?(0,t.jsx)(nD,{size:13}):(0,t.jsx)(nW,{size:13})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{style:{fontSize:14,fontWeight:500,color:"#F4F4F5"},children:l?"Imported!":"Import Profile"}),(0,t.jsx)("p",{style:{fontSize:12,color:"#3F3F46"},children:"Restore your complete Embris profile from backup"})]}),(0,t.jsx)("input",{type:"file",accept:".json",onChange:e=>{a(""),c(!1),u([]);let t=e.target.files?.[0];if(!t)return;let r=new FileReader;r.onload=e=>{try{let t=JSON.parse(e.target?.result),r=function(e){var t,r,n,o,i,s,a;let l=[],c=[],d=[];try{e.chatHistory&&Array.isArray(e.chatHistory)?(a=e.chatHistory,tf(tp,JSON.stringify(a.slice(-100))),l.push(`Chat history (${e.chatHistory.length} messages)`)):c.push("Chat history (not found in backup)")}catch(e){d.push(`Chat history: ${e instanceof Error?e.message:"unknown error"}`)}try{e.memories&&Array.isArray(e.memories)?(tj(e.memories),l.push(`Memories (${e.memories.length})`)):c.push("Memories (not found in backup)")}catch(e){d.push(`Memories: ${e instanceof Error?e.message:"unknown error"}`)}try{e.walletAddress&&(localStorage.setItem("vaultfire_wallet_address",e.walletAddress),l.push("Wallet address"))}catch(e){d.push(`Wallet: ${e instanceof Error?e.message:"unknown error"}`)}try{if(e.selfLearning){(t=e.selfLearning).reflections&&eL(t.reflections),t.patterns&&eM(t.patterns),t.insights&&e$(t.insights),t.growth&&eO(t.growth);let r=[];e.selfLearning.reflections&&r.push(`${e.selfLearning.reflections.length} reflections`),e.selfLearning.patterns&&r.push(`${e.selfLearning.patterns.length} patterns`),e.selfLearning.insights&&r.push(`${e.selfLearning.insights.length} insights`),l.push(`Self-learning (${r.join(", ")})`)}else c.push("Self-learning data (not found in backup)")}catch(e){d.push(`Self-learning: ${e instanceof Error?e.message:"unknown error"}`)}try{e.emotional?((r=e.emotional).currentState&&e0(r.currentState),r.history&&e2(r.history),l.push(`Emotional data (${e.emotional.history?.length||0} entries)`)):c.push("Emotional data (not found in backup)")}catch(e){d.push(`Emotional data: ${e instanceof Error?e.message:"unknown error"}`)}try{e.sessionSummaries&&Array.isArray(e.sessionSummaries)?((n=e.sessionSummaries)&&Array.isArray(n)&&tt(n),l.push(`Session summaries (${e.sessionSummaries.length})`)):c.push("Session summaries (not found in backup)")}catch(e){d.push(`Session summaries: ${e instanceof Error?e.message:"unknown error"}`)}try{e.goals&&Array.isArray(e.goals)?((o=e.goals)&&Array.isArray(o)&&ti(o),l.push(`Goals (${e.goals.length})`)):c.push("Goals (not found in backup)")}catch(e){d.push(`Goals: ${e instanceof Error?e.message:"unknown error"}`)}try{e.personality?((i=e.personality)&&td(i),l.push("Personality settings")):c.push("Personality settings (not found in backup)")}catch(e){d.push(`Personality: ${e instanceof Error?e.message:"unknown error"}`)}try{e.registration?((s=e.registration)&&U(N,JSON.stringify(s)),l.push("Registration data")):c.push("Registration data (not found in backup)")}catch(e){d.push(`Registration: ${e instanceof Error?e.message:"unknown error"}`)}return{imported:l,skipped:c,errors:d}}(t);c(!0),u(r.imported),setTimeout(()=>{c(!1),u([])},5e3),B()}catch{a("Invalid backup file. Please use a valid Embris export.")}},r.readAsText(t),e.target.value=""},style:{display:"none"}})]}),d.length>0&&(0,t.jsx)("div",{style:{padding:"8px 0 8px 42px"},children:d.map((e,r)=>(0,t.jsxs)("p",{style:{fontSize:11,color:"#22C55E",lineHeight:1.6},children:["✓ ",e]},r))}),(0,t.jsxs)("button",{onClick:()=>{if(!confirm("Clear ALL local data? This will delete your chat history, memories, wallet, self-learning, goals, personality, session summaries, and emotional data. This cannot be undone."))return;p(!0),tm(tu),tm(th),tm(tp);try{localStorage.removeItem(eE),localStorage.removeItem(eF),localStorage.removeItem(eB),localStorage.removeItem(eI)}catch{}try{localStorage.removeItem(eK),localStorage.removeItem(eX)}catch{}try{localStorage.removeItem(e6),localStorage.removeItem(e3)}catch{}try{localStorage.removeItem(tn)}catch{}try{localStorage.removeItem(ta)}catch{}let e=[];for(let t=0;t<localStorage.length;t++){let r=localStorage.key(t);r&&(r.startsWith("vaultfire_")||r.startsWith("embris_"))&&e.push(r)}e.forEach(e=>localStorage.removeItem(e)),setTimeout(()=>{p(!1),B()},500)},disabled:h,style:{display:"flex",alignItems:"center",gap:14,padding:"16px 0",width:"100%",backgroundColor:"transparent",border:"none",cursor:h?"default":"pointer",textAlign:"left"},children:[(0,t.jsx)("span",{style:{width:28,height:28,borderRadius:7,backgroundColor:"rgba(239,68,68,0.04)",display:"flex",alignItems:"center",justifyContent:"center",color:"#EF4444",flexShrink:0},children:(0,t.jsx)(nM,{size:13})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{style:{fontSize:14,fontWeight:500,color:"#EF4444"},children:h?"Clearing...":"Clear All Data"}),(0,t.jsx)("p",{style:{fontSize:12,color:"#3F3F46"},children:"Delete all local data permanently"})]})]})]}),s&&(0,t.jsx)("p",{style:{fontSize:12,color:"#EF4444",marginBottom:16},children:s}),(0,t.jsx)("p",{style:{fontSize:11,color:"#27272A",lineHeight:1.8},children:"All data is stored locally in your browser. Exporting creates a complete backup including memories, self-learning data, goals, personality settings, session summaries, and emotional patterns. Import on any device to restore your full Embris profile."})]})}function nO({size:e=12}){return(0,t.jsxs)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("polyline",{points:"23 4 23 10 17 10"}),(0,t.jsx)("path",{d:"M20.49 15a9 9 0 1 1-2.12-9.36L23 10"})]})}function nP(){return(0,t.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",marginBottom:48},children:[(0,t.jsx)("div",{className:"skeleton skeleton-circle",style:{width:140,height:140}}),(0,t.jsx)("div",{className:"skeleton skeleton-text-sm",style:{width:160,marginTop:16}})]})}function nU(){return(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"skeleton skeleton-text-sm",style:{width:"70%",marginBottom:10}}),(0,t.jsx)("div",{className:"skeleton skeleton-text-lg",style:{width:"40%"}})]})}function n_(){let[e,n]=(0,r.useState)(null),[o,i]=(0,r.useState)(!0),[s,a]=(0,r.useState)(!1),[l,c]=(0,r.useState)(!1),[d,g]=(0,r.useState)({});(0,r.useEffect)(()=>{let e=()=>c(window.innerWidth<768);return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,r.useEffect)(()=>{f()},[]);let f=async()=>{o||a(!0),i(!0);try{let e,[t,r,o]=await Promise.all([j(),k("base",u.map(e=>e.address)),k("avalanche",h.map(e=>e.address))]);g(t);let i={...r,...o},s=Object.values(i).filter(Boolean).length,a=p.length,l=et(),c=er(),d=0;t.base?.success&&d++,t.avalanche?.success&&d++;let f=a>0?Math.round(s/a*100):0;e=0+s/a*40+d/2*20+20,l&&(e+=10),c.length>=2?e+=10:c.length>=1&&(e+=5);let m=(e=Math.round(Math.min(e,100)))>=95?"A+":e>=90?"A":e>=85?"A-":e>=80?"B+":e>=75?"B":e>=70?"B-":e>=60?"C":e>=50?"D":"F";n({totalContracts:a,verifiedContracts:s,chainsActive:d,registeredChains:c,userRegistered:l,uptimePercent:f,trustScore:e,grade:m})}catch{n({totalContracts:p.length,verifiedContracts:0,chainsActive:0,registeredChains:[],userRegistered:!1,uptimePercent:0,trustScore:0,grade:"N/A"})}i(!1),a(!1)},m={fontFamily:"'JetBrains Mono', monospace"},x=e?e.trustScore>=90?"#22C55E":e.trustScore>=70?"#EAB308":e.trustScore>=50?"#F97316":"#EF4444":"#3F3F46",y=2*Math.PI*54,b=e?y-e.trustScore/100*y:y;return(0,t.jsxs)("div",{className:"page-enter",style:{padding:l?"24px 16px 48px":"48px 40px",maxWidth:680,margin:"0 auto"},children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:l?"flex-start":"center",justifyContent:"space-between",marginBottom:l?40:48,flexDirection:l?"column":"row",gap:16*!!l},children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{style:{fontSize:28,fontWeight:700,color:"#F4F4F5",letterSpacing:"-0.04em",lineHeight:1.25},children:"Trust Score"}),(0,t.jsx)("p",{style:{fontSize:12,color:"#3F3F46",marginTop:4,lineHeight:1.5},children:"Vaultfire Protocol ecosystem health"})]}),(0,t.jsxs)("button",{onClick:f,disabled:o,style:{display:"inline-flex",alignItems:"center",gap:6,padding:"8px 16px",background:o?"rgba(255,255,255,0.03)":"#F97316",border:"none",borderRadius:8,color:o?"#3F3F46":"#09090B",fontSize:12,fontWeight:600,cursor:o?"default":"pointer",alignSelf:l?"stretch":"auto",justifyContent:"center",transition:"all 0.15s ease"},onMouseEnter:e=>{o||(e.currentTarget.style.background="#FB923C",e.currentTarget.style.transform="translateY(-1px)")},onMouseLeave:e=>{o||(e.currentTarget.style.background="#F97316",e.currentTarget.style.transform="none")},children:[(0,t.jsx)("span",{style:{animation:s?"spin 0.8s linear infinite":"none",display:"flex"},children:(0,t.jsx)(nO,{size:12})}),o?"Checking...":"Refresh"]})]}),o?(0,t.jsx)(nP,{}):(0,t.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",marginBottom:48},children:[(0,t.jsxs)("div",{style:{position:"relative",width:140,height:140},children:[(0,t.jsxs)("svg",{width:140,height:140,viewBox:"0 0 120 120",style:{transform:"rotate(-90deg)"},children:[(0,t.jsx)("circle",{cx:"60",cy:"60",r:"54",fill:"none",stroke:"rgba(255,255,255,0.04)",strokeWidth:"8"}),(0,t.jsx)("circle",{cx:"60",cy:"60",r:"54",fill:"none",stroke:x,strokeWidth:"8",strokeLinecap:"round",strokeDasharray:y,strokeDashoffset:b,style:{transition:"stroke-dashoffset 1.2s cubic-bezier(0.16, 1, 0.3, 1), stroke 0.3s ease"}})]}),(0,t.jsxs)("div",{style:{position:"absolute",inset:0,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[(0,t.jsx)("span",{style:{fontSize:32,fontWeight:700,color:x,...m,letterSpacing:"-0.04em",transition:"color 0.3s ease"},children:e?.trustScore||0}),(0,t.jsx)("span",{style:{fontSize:11,color:"#52525B",fontWeight:500},children:`Grade: ${e?.grade||"N/A"}`})]})]}),(0,t.jsx)("p",{style:{fontSize:12,color:"#3F3F46",marginTop:12,lineHeight:1.5},children:"Vaultfire Protocol Trust Score"})]}),(0,t.jsx)("div",{style:{display:"grid",gridTemplateColumns:l?"repeat(2, 1fr)":"repeat(4, 1fr)",gap:l?"24px 16px":"24px 32px",marginBottom:48},children:o?Array.from({length:4}).map((e,r)=>(0,t.jsx)(nU,{},r)):[{label:"Verified Contracts",value:`${e?.verifiedContracts||0}/${e?.totalContracts||0}`,color:"#F4F4F5"},{label:"Chains Active",value:`${e?.chainsActive||0}/2`,color:e&&e.chainsActive>=2?"#22C55E":"#EAB308"},{label:"Protocol Uptime",value:`${e?.uptimePercent||0}%`,color:e&&e.uptimePercent>=90?"#22C55E":"#EAB308"},{label:"Your Status",value:e?.userRegistered?"Registered":"Unregistered",color:e?.userRegistered?"#22C55E":"#71717A"}].map(e=>(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{style:{fontSize:11,color:"#71717A",textTransform:"uppercase",letterSpacing:"0.1em",marginBottom:8,fontWeight:500},children:e.label}),(0,t.jsx)("p",{style:{fontSize:20,fontWeight:600,color:e.color,...m,letterSpacing:"-0.02em"},children:e.value})]},e.label))}),(0,t.jsxs)("div",{style:{marginBottom:48},children:[(0,t.jsx)("h2",{style:{fontSize:11,fontWeight:600,color:"#71717A",textTransform:"uppercase",letterSpacing:"0.1em",marginBottom:16},children:"Chain Status"}),[{name:"Base",chain:"base",color:"#627EEA"},{name:"Avalanche",chain:"avalanche",color:"#E84142"}].map(r=>{let n=d[r.chain],i=e?.registeredChains.includes(r.chain);return(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"14px 0",borderBottom:"1px solid rgba(255,255,255,0.03)",transition:"background-color 0.12s ease"},children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:10},children:[(0,t.jsx)("div",{style:{width:6,height:6,borderRadius:"50%",backgroundColor:n?.success?"#22C55E":"#3F3F46",transition:"background-color 0.3s ease"}}),(0,t.jsx)("span",{style:{fontSize:14,color:"#F4F4F5",fontWeight:400,lineHeight:1.5},children:r.name}),(0,t.jsx)("span",{style:{fontSize:10,color:r.color,fontWeight:500,padding:"2px 6px",backgroundColor:`${r.color}10`,borderRadius:4},children:"base"===r.chain?"8453":"43114"})]}),(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:12},children:[n?.latency&&(0,t.jsxs)("span",{style:{fontSize:11,color:"#52525B",...m},children:[n.latency,"ms"]}),i&&(0,t.jsx)("span",{style:{fontSize:10,color:"#22C55E",fontWeight:500},children:"Registered"}),(0,t.jsx)("span",{style:{fontSize:11,fontWeight:500,color:n?.success?"#22C55E":"#3F3F46",transition:"color 0.3s ease"},children:o?"...":n?.success?"Live":"Down"})]})]},r.chain)})]}),e&&!o&&(0,t.jsxs)("div",{style:{marginBottom:32},children:[(0,t.jsx)("h2",{style:{fontSize:11,fontWeight:600,color:"#71717A",textTransform:"uppercase",letterSpacing:"0.1em",marginBottom:16},children:"Score Breakdown"}),[{label:"Contract Health",weight:"40%",score:Math.round(e.verifiedContracts/e.totalContracts*40),max:40},{label:"Chain Availability",weight:"20%",score:Math.round(e.chainsActive/2*20),max:20},{label:"Protocol Maturity",weight:"20%",score:20,max:20},{label:"User Registration",weight:"20%",score:e.userRegistered?e.registeredChains.length>=2?20:15:0,max:20}].map(e=>(0,t.jsxs)("div",{style:{marginBottom:16},children:[(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:6},children:[(0,t.jsx)("span",{style:{fontSize:13,color:"#A1A1AA",lineHeight:1.5},children:e.label}),(0,t.jsxs)("span",{style:{fontSize:12,color:"#71717A",...m},children:[e.score,"/",e.max]})]}),(0,t.jsx)("div",{style:{width:"100%",height:3,backgroundColor:"rgba(255,255,255,0.04)",borderRadius:2,overflow:"hidden"},children:(0,t.jsx)("div",{style:{width:`${e.score/e.max*100}%`,height:"100%",backgroundColor:e.score>=.8*e.max?"#22C55E":e.score>=.5*e.max?"#EAB308":"#EF4444",borderRadius:2,transition:"width 0.8s cubic-bezier(0.16, 1, 0.3, 1)"}})})]},e.label))]}),(0,t.jsx)("p",{style:{fontSize:11,color:"#27272A",lineHeight:1.8},children:"Trust score is calculated from live on-chain data including contract verification status, chain availability, protocol maturity, and your registration status. Score updates in real-time."})]})}function nH(){if(!et())return{totalConversations:0,totalMemories:0,reflectionsCount:0,patternsCount:0,insightsCount:0,goalsTracked:0,goalsCompleted:0,goalsActive:0,sessionsCount:0,memoryCategories:{},emotionalTimeline:[],patternCategories:{},isRegistered:!1,growthRate:0,topMoods:[]};let e=tw(),t=eN(),r=eR(),n=eW(),o=eD(),i=to(),s=te(),a=e1(),l={};e.forEach(e=>{let t=e.category||"general";l[t]=(l[t]||0)+1});let c={};n.forEach(e=>{c[e.category]=(c[e.category]||0)+1});let d={};a.forEach(e=>{d[e.mood]=(d[e.mood]||0)+1});let u=Object.entries(d).map(([e,t])=>({mood:e,count:t})).sort((e,t)=>t.count-e.count).slice(0,5),h=t.totalConversations>0?Math.round(e.length/t.totalConversations*10)/10:0;return{totalConversations:t.totalConversations,totalMemories:e.length,reflectionsCount:r.length,patternsCount:n.length,insightsCount:o.length,goalsTracked:i.length,goalsCompleted:i.filter(e=>"completed"===e.status).length,goalsActive:i.filter(e=>"active"===e.status).length,sessionsCount:s.length,memoryCategories:l,emotionalTimeline:a.slice(-30),patternCategories:c,isRegistered:!0,growthRate:h,topMoods:u}}function nV({size:e=12}){return(0,t.jsxs)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("polyline",{points:"23 4 23 10 17 10"}),(0,t.jsx)("path",{d:"M20.49 15a9 9 0 1 1-2.12-9.36L23 10"})]})}function nY({size:e=16}){return(0,t.jsxs)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),(0,t.jsx)("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]})}function nG(){let[e,n]=(0,r.useState)(null),[o,i]=(0,r.useState)(!1),[s,a]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e=()=>i(window.innerWidth<768);return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,r.useEffect)(()=>{let e=et();a(e),e&&n(nH())},[]);let l={fontFamily:"'JetBrains Mono', monospace"};return s?(0,t.jsxs)("div",{className:"page-enter",style:{padding:o?"24px 16px 48px":"48px 40px",maxWidth:680,margin:"0 auto"},children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:o?"flex-start":"center",justifyContent:"space-between",marginBottom:o?40:48,flexDirection:o?"column":"row",gap:16*!!o},children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{style:{fontSize:28,fontWeight:700,color:"#F4F4F5",letterSpacing:"-0.04em",lineHeight:1.25},children:"Analytics"}),(0,t.jsx)("p",{style:{fontSize:12,color:"#3F3F46",marginTop:4,lineHeight:1.5},children:"Your Embris intelligence data"})]}),(0,t.jsxs)("button",{onClick:()=>{et()&&n(nH())},style:{display:"inline-flex",alignItems:"center",gap:6,padding:"8px 16px",background:"#F97316",border:"none",borderRadius:8,color:"#09090B",fontSize:12,fontWeight:600,cursor:"pointer",alignSelf:o?"stretch":"auto",justifyContent:"center",transition:"all 0.15s ease"},onMouseEnter:e=>{e.currentTarget.style.background="#FB923C",e.currentTarget.style.transform="translateY(-1px)"},onMouseLeave:e=>{e.currentTarget.style.background="#F97316",e.currentTarget.style.transform="none"},children:[(0,t.jsx)(nV,{size:12}),"Refresh"]})]}),e&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{style:{display:"grid",gridTemplateColumns:o?"repeat(2, 1fr)":"repeat(4, 1fr)",gap:o?"24px 16px":"24px 32px",marginBottom:16},children:[{label:"Conversations",value:String(e.totalConversations),color:"#F4F4F5"},{label:"Memories",value:String(e.totalMemories),color:"#F4F4F5"},{label:"Reflections",value:String(e.reflectionsCount),color:"#F4F4F5"},{label:"Patterns",value:String(e.patternsCount),color:"#F4F4F5"}].map(e=>(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{style:{fontSize:11,color:"#71717A",textTransform:"uppercase",letterSpacing:"0.1em",marginBottom:8,fontWeight:500},children:e.label}),(0,t.jsx)("p",{style:{fontSize:20,fontWeight:600,color:e.color,...l,letterSpacing:"-0.02em"},children:e.value})]},e.label))}),(0,t.jsx)("div",{style:{display:"grid",gridTemplateColumns:o?"repeat(2, 1fr)":"repeat(4, 1fr)",gap:o?"24px 16px":"24px 32px",marginBottom:48},children:[{label:"Insights",value:String(e.insightsCount),color:"#F4F4F5"},{label:"Goals Active",value:String(e.goalsActive),color:e.goalsActive>0?"#F59E0B":"#F4F4F5"},{label:"Goals Done",value:String(e.goalsCompleted),color:e.goalsCompleted>0?"#22C55E":"#F4F4F5"},{label:"Growth Rate",value:`${e.growthRate}/conv`,color:"#F97316"}].map(e=>(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{style:{fontSize:11,color:"#71717A",textTransform:"uppercase",letterSpacing:"0.1em",marginBottom:8,fontWeight:500},children:e.label}),(0,t.jsx)("p",{style:{fontSize:20,fontWeight:600,color:e.color,...l,letterSpacing:"-0.02em"},children:e.value})]},e.label))}),Object.keys(e.memoryCategories).length>0&&(0,t.jsxs)("div",{style:{marginBottom:40},children:[(0,t.jsx)("h2",{style:{fontSize:11,fontWeight:600,color:"#71717A",textTransform:"uppercase",letterSpacing:"0.1em",marginBottom:16},children:"Memory Categories"}),Object.entries(e.memoryCategories).sort((e,t)=>t[1]-e[1]).map(([r,n])=>{let o=Math.round(n/(e.totalMemories||1)*100);return(0,t.jsxs)("div",{style:{marginBottom:12},children:[(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:6},children:[(0,t.jsx)("span",{style:{fontSize:13,color:"#A1A1AA",textTransform:"capitalize",lineHeight:1.5},children:r.replace(/_/g," ")}),(0,t.jsxs)("span",{style:{fontSize:12,color:"#71717A",...l},children:[n," (",o,"%)"]})]}),(0,t.jsx)("div",{style:{width:"100%",height:3,backgroundColor:"rgba(255,255,255,0.04)",borderRadius:2,overflow:"hidden"},children:(0,t.jsx)("div",{style:{width:`${o}%`,height:"100%",backgroundColor:"#F97316",borderRadius:2,transition:"width 0.8s cubic-bezier(0.16, 1, 0.3, 1)",opacity:.7}})})]},r)})]}),e.topMoods.length>0&&(0,t.jsxs)("div",{style:{marginBottom:40},children:[(0,t.jsx)("h2",{style:{fontSize:11,fontWeight:600,color:"#71717A",textTransform:"uppercase",letterSpacing:"0.1em",marginBottom:16},children:"Emotional Patterns"}),(0,t.jsx)("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:e.topMoods.map(({mood:e,count:r})=>(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:6,padding:"6px 12px",backgroundColor:"rgba(255,255,255,0.02)",borderRadius:8,transition:"background-color 0.15s ease"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="rgba(255,255,255,0.04)"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="rgba(255,255,255,0.02)"},children:[(0,t.jsx)("span",{style:{width:6,height:6,borderRadius:"50%",backgroundColor:{excited:"#F59E0B",happy:"#22C55E",neutral:"#71717A",confused:"#A78BFA",frustrated:"#EF4444",stressed:"#F97316",sad:"#6366F1",curious:"#06B6D4",determined:"#F97316"}[e]||"#71717A",flexShrink:0}}),(0,t.jsx)("span",{style:{fontSize:12,color:"#A1A1AA",textTransform:"capitalize"},children:e}),(0,t.jsx)("span",{style:{fontSize:11,color:"#52525B",...l},children:r})]},e))})]}),Object.keys(e.patternCategories).length>0&&(0,t.jsxs)("div",{style:{marginBottom:40},children:[(0,t.jsx)("h2",{style:{fontSize:11,fontWeight:600,color:"#71717A",textTransform:"uppercase",letterSpacing:"0.1em",marginBottom:16},children:"Pattern Categories"}),(0,t.jsx)("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:Object.entries(e.patternCategories).sort((e,t)=>t[1]-e[1]).map(([e,r])=>(0,t.jsxs)("div",{style:{padding:"6px 12px",backgroundColor:"rgba(255,255,255,0.02)",borderRadius:8,fontSize:12,color:"#A1A1AA",textTransform:"capitalize",transition:"background-color 0.15s ease"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="rgba(255,255,255,0.04)"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="rgba(255,255,255,0.02)"},children:[e," ",(0,t.jsxs)("span",{style:{color:"#52525B",...l},children:["(",r,")"]})]},e))})]}),0===e.totalConversations&&(0,t.jsxs)("div",{style:{textAlign:"center",padding:"40px 24px",color:"#3F3F46"},children:[(0,t.jsx)("p",{style:{fontSize:14,marginBottom:8,lineHeight:1.6},children:"No data yet"}),(0,t.jsx)("p",{style:{fontSize:12,color:"#27272A",lineHeight:1.6},children:"Start chatting with Embris to see your analytics grow."})]})]})]}):(0,t.jsxs)("div",{className:"page-enter",style:{padding:o?"24px 16px 48px":"48px 40px",maxWidth:600,margin:"0 auto"},children:[(0,t.jsx)("h1",{style:{fontSize:28,fontWeight:700,color:"#F4F4F5",letterSpacing:"-0.04em",marginBottom:8,lineHeight:1.25},children:"Analytics"}),(0,t.jsx)("p",{style:{fontSize:14,color:"#52525B",marginBottom:40,lineHeight:1.6},children:"Your Embris intelligence data"}),(0,t.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",padding:"60px 24px",textAlign:"center"},children:[(0,t.jsx)("div",{style:{color:"#3F3F46",marginBottom:16},children:(0,t.jsx)(nY,{size:32})}),(0,t.jsx)("h2",{style:{fontSize:18,fontWeight:600,color:"#F4F4F5",marginBottom:8,letterSpacing:"-0.02em",lineHeight:1.3},children:"Register to Unlock Analytics"}),(0,t.jsx)("p",{style:{fontSize:14,color:"#52525B",maxWidth:360,lineHeight:1.6},children:"Analytics tracks your Embris growth — conversations, memories, patterns, insights, goals, and emotional trends. Register on-chain to start building your profile."})]})]})}let nJ="vaultfire_disclaimer_accepted";function nK(){return(0,t.jsx)("svg",{width:12,height:12,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:(0,t.jsx)("polyline",{points:"20 6 9 17 4 12"})})}function nX(){let[e,n]=(0,r.useState)(!1),[o,i]=(0,r.useState)(!1),[s,a]=(0,r.useState)(!1);if((0,r.useEffect)(()=>{if(a(!0),!localStorage.getItem(nJ)){let e=setTimeout(()=>n(!0),400);return()=>clearTimeout(e)}},[]),!s||!e)return null;let l=["Embris is currently in alpha. Features may be incomplete or change without notice.","Nothing on this platform constitutes financial, investment, or legal advice.","You are solely responsible for securing your seed phrase and private keys.","Smart contracts deployed by this protocol have not been formally audited.","Vaultfire Protocol and its contributors are not liable for any losses or damages."];return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{style:{position:"fixed",inset:0,zIndex:9e3,backgroundColor:"rgba(0,0,0,0.75)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)"}}),(0,t.jsx)("div",{style:{position:"fixed",inset:0,zIndex:9001,display:"flex",alignItems:"center",justifyContent:"center",padding:"16px"},children:(0,t.jsx)("div",{className:"fade-in",style:{width:"100%",maxWidth:420,background:"#0C0C0E",borderRadius:16,overflow:"hidden",boxShadow:"0 24px 48px rgba(0,0,0,0.4)"},children:(0,t.jsxs)("div",{style:{padding:"32px 28px 28px"},children:[(0,t.jsxs)("div",{style:{marginBottom:24},children:[(0,t.jsx)("h2",{style:{fontSize:20,fontWeight:600,color:"#F4F4F5",letterSpacing:"-0.03em",marginBottom:6},children:"Before you continue"}),(0,t.jsx)("p",{style:{fontSize:13,color:"#52525B"},children:"Please review and accept the following"})]}),(0,t.jsx)("div",{style:{display:"flex",flexDirection:"column",marginBottom:24},children:l.map((e,r)=>(0,t.jsxs)("div",{style:{padding:"10px 0",borderBottom:r<l.length-1?"1px solid rgba(255,255,255,0.03)":"none",display:"flex",gap:10,alignItems:"flex-start"},children:[(0,t.jsxs)("span",{style:{fontSize:11,color:"#3F3F46",fontWeight:500,minWidth:16,flexShrink:0,marginTop:1,fontFamily:"'JetBrains Mono', monospace"},children:[r+1,"."]}),(0,t.jsx)("p",{style:{fontSize:13,color:"#A1A1AA",lineHeight:1.65,letterSpacing:"-0.01em"},children:e})]},r))}),(0,t.jsxs)("label",{style:{display:"flex",alignItems:"flex-start",gap:10,cursor:"pointer",marginBottom:20,userSelect:"none"},children:[(0,t.jsx)("div",{onClick:()=>i(!o),style:{width:18,height:18,borderRadius:5,flexShrink:0,marginTop:1,border:`1.5px solid ${o?"#F97316":"rgba(255,255,255,0.08)"}`,backgroundColor:o?"rgba(249,115,22,0.08)":"transparent",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.15s ease",color:"#F97316"},children:o&&(0,t.jsx)(nK,{})}),(0,t.jsx)("span",{style:{fontSize:13,color:"#A1A1AA",lineHeight:1.65},children:"I understand and accept full responsibility for my use of Embris and Vaultfire Protocol."})]}),(0,t.jsx)("button",{onClick:()=>{o&&(localStorage.setItem(nJ,"true"),n(!1))},disabled:!o,style:{width:"100%",padding:"12px",background:o?"#F97316":"rgba(255,255,255,0.03)",border:"none",borderRadius:10,color:o?"#09090B":"#3F3F46",fontSize:14,fontWeight:600,cursor:o?"pointer":"default",transition:"all 0.15s ease",letterSpacing:"-0.01em"},children:"Continue"})]})})})]})}function nq(){let[e,n]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{let e=()=>n(window.innerWidth<768);return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,t.jsx)("footer",{style:{backgroundColor:"#09090B",padding:e?"8px 16px":"8px 24px",flexShrink:0},children:(0,t.jsxs)("p",{style:{fontSize:9,color:"#27272A",textAlign:"center",lineHeight:1.6,letterSpacing:"0.01em",maxWidth:720,margin:"0 auto"},children:["Alpha software — use at your own risk. Not financial advice. Smart contracts unaudited. No liability for losses."," ","·"," ","© ",new Date().getFullYear()," Embris, powered by Vaultfire Protocol. All rights reserved."]})})}let nZ="embris_onboarding_complete_v1",nQ=[{id:1,title:"Welcome to Vaultfire Protocol",description:"Vaultfire is the first ethical AI trust protocol — a blockchain-based governance framework deployed across Base and Avalanche. Our mission: making human thriving more profitable than extraction.",icon:"flame"},{id:2,title:"Meet Embris, Your AI Companion",description:"Embris is your personal AI companion powered by Vaultfire. Unlike typical chatbots, Embris remembers you, learns your preferences, tracks your goals, and grows smarter with every conversation.",icon:"brain"},{id:3,title:"Register On-Chain",description:"Register your identity on Base or Avalanche to unlock the full Embris experience — persistent memory, self-learning, emotional intelligence, goal tracking, and personality tuning.",icon:"chain"},{id:4,title:"Your Vaultfire Wallet",description:"Create a Vaultfire wallet to interact with the protocol. Your wallet is generated locally in your browser — your keys, your control. Use it to register and verify on-chain.",icon:"wallet"},{id:5,title:"Embris Grows With You",description:"The more you chat, the smarter Embris becomes. It generates reflections, recognizes patterns, creates insights, and adapts its personality to match your style. Your companion, your way.",icon:"shield"}];function n0(){try{localStorage.setItem(nZ,"true")}catch{}}let n1={flame:(0,t.jsx)(function(){return(0,t.jsxs)("svg",{width:40,height:40,viewBox:"0 0 32 32",fill:"none",children:[(0,t.jsx)("path",{d:"M16 4c-3 3.5-6 8-6 12 0 3.31 2.69 6 6 6s6-2.69 6-6c0-4-3-8.5-6-12z",fill:"#F97316",opacity:"0.9"}),(0,t.jsx)("path",{d:"M16 10c-1.5 2-3 4.5-3 6.5 0 1.66 1.34 3 3 3s3-1.34 3-3c0-2-1.5-4.5-3-6.5z",fill:"#FB923C"}),(0,t.jsx)("path",{d:"M16 14c-.7 1-1.4 2.2-1.4 3.2 0 .77.63 1.4 1.4 1.4s1.4-.63 1.4-1.4c0-1-.7-2.2-1.4-3.2z",fill:"#FDE68A",opacity:"0.6"})]})},{}),shield:(0,t.jsx)(function(){return(0,t.jsxs)("svg",{width:40,height:40,viewBox:"0 0 24 24",fill:"none",stroke:"#F97316",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"}),(0,t.jsx)("polyline",{points:"9 12 11 14 15 10"})]})},{}),wallet:(0,t.jsx)(function(){return(0,t.jsxs)("svg",{width:40,height:40,viewBox:"0 0 24 24",fill:"none",stroke:"#F97316",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4"}),(0,t.jsx)("path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5"}),(0,t.jsx)("path",{d:"M18 12a2 2 0 0 0 0 4h4v-4h-4z"})]})},{}),brain:(0,t.jsx)(function(){return(0,t.jsxs)("svg",{width:40,height:40,viewBox:"0 0 24 24",fill:"none",stroke:"#F97316",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("path",{d:"M12 2a7 7 0 0 1 7 7c0 2.38-1.19 4.47-3 5.74V17a2 2 0 0 1-2 2h-4a2 2 0 0 1-2-2v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 0 1 7-7z"}),(0,t.jsx)("line",{x1:"9",y1:"21",x2:"15",y2:"21"})]})},{}),chain:(0,t.jsx)(function(){return(0,t.jsxs)("svg",{width:40,height:40,viewBox:"0 0 24 24",fill:"none",stroke:"#F97316",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}),(0,t.jsx)("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"})]})},{})};function n2({onComplete:e}){let[n,o]=(0,r.useState)(!1),[i,s]=(0,r.useState)(0);if((0,r.useEffect)(()=>{!function(){try{return"true"===localStorage.getItem(nZ)}catch{return!0}}()&&o(!0)},[]),!n)return null;let a=nQ[i],l=i===nQ.length-1;return(0,t.jsx)("div",{style:{position:"fixed",inset:0,zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0,0,0,0.7)",backdropFilter:"blur(8px)",WebkitBackdropFilter:"blur(8px)"},children:(0,t.jsxs)("div",{className:"modal-in",style:{width:"90%",maxWidth:440,backgroundColor:"#111113",borderRadius:20,padding:"40px 32px 32px",position:"relative"},children:[(0,t.jsx)("div",{style:{display:"flex",gap:4,justifyContent:"center",marginBottom:32},children:nQ.map((e,r)=>(0,t.jsx)("div",{style:{width:r===i?24:6,height:6,borderRadius:3,backgroundColor:r===i?"#F97316":r<i?"rgba(249,115,22,0.3)":"rgba(255,255,255,0.06)",transition:"all 0.3s ease"}},r))}),(0,t.jsx)("div",{style:{display:"flex",justifyContent:"center",marginBottom:24,opacity:.9},children:n1[a.icon]}),(0,t.jsx)("h2",{style:{fontSize:20,fontWeight:600,color:"#F4F4F5",textAlign:"center",marginBottom:12,letterSpacing:"-0.02em"},children:a.title}),(0,t.jsx)("p",{style:{fontSize:14,color:"#A1A1AA",textAlign:"center",lineHeight:1.7,marginBottom:32},children:a.description}),(0,t.jsxs)("div",{style:{display:"flex",gap:12},children:[(0,t.jsx)("button",{onClick:()=>{n0(),o(!1),e?.()},style:{flex:1,padding:"12px 16px",backgroundColor:"transparent",border:"1px solid rgba(255,255,255,0.06)",borderRadius:12,color:"#71717A",fontSize:14,fontWeight:500,cursor:"pointer"},children:"Skip"}),(0,t.jsx)("button",{onClick:()=>{l?(n0(),o(!1),e?.()):s(i+1)},style:{flex:1,padding:"12px 16px",backgroundColor:"#F97316",border:"none",borderRadius:12,color:"#09090B",fontSize:14,fontWeight:600,cursor:"pointer"},children:l?"Get Started":"Next"})]}),(0,t.jsxs)("p",{style:{fontSize:11,color:"#3F3F46",textAlign:"center",marginTop:16,fontFamily:"'JetBrains Mono', monospace"},children:[i+1," / ",nQ.length]})]})})}function n5(){return(0,t.jsxs)("div",{style:{padding:"48px 40px",maxWidth:720,margin:"0 auto"},children:[(0,t.jsx)("div",{className:"skeleton skeleton-title",style:{width:"40%",marginBottom:8}}),(0,t.jsx)("div",{className:"skeleton skeleton-text-sm",style:{width:"60%",marginBottom:40}}),(0,t.jsx)("div",{style:{display:"flex",gap:16,marginBottom:32},children:[1,2,3].map(e=>(0,t.jsxs)("div",{className:"skeleton-card",style:{flex:1,height:80,padding:20},children:[(0,t.jsx)("div",{className:"skeleton skeleton-text-sm",style:{width:"50%",marginBottom:12}}),(0,t.jsx)("div",{className:"skeleton skeleton-text-lg",style:{width:"30%"}})]},e))}),[1,2,3,4,5].map(e=>(0,t.jsxs)("div",{style:{display:"flex",gap:12,alignItems:"center",marginBottom:12},children:[(0,t.jsx)("div",{className:"skeleton skeleton-circle",style:{width:8,height:8,flexShrink:0}}),(0,t.jsx)("div",{className:"skeleton skeleton-text",style:{flex:1}}),(0,t.jsx)("div",{className:"skeleton skeleton-text",style:{width:"20%"}})]},e))]})}function n4(){return(0,t.jsx)("div",{style:{display:"flex",flexDirection:"column",height:"100%",padding:"24px"},children:(0,t.jsx)("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:24,maxWidth:680,margin:"0 auto",width:"100%"},children:[1,2,3].map(e=>(0,t.jsxs)("div",{style:{display:"flex",gap:10,alignItems:"flex-start"},children:[(0,t.jsx)("div",{className:"skeleton skeleton-circle",style:{width:26,height:26,flexShrink:0}}),(0,t.jsxs)("div",{style:{flex:1},children:[(0,t.jsx)("div",{className:"skeleton skeleton-text",style:{width:"80%",marginBottom:8}}),(0,t.jsx)("div",{className:"skeleton skeleton-text",style:{width:"60%",marginBottom:8}}),(0,t.jsx)("div",{className:"skeleton skeleton-text",style:{width:"40%"}})]})]},e))})})}function n6(){let[e,n]=(0,r.useState)("home"),[o,i]=(0,r.useState)(!1),[s,a]=(0,r.useState)(!1),[l,d]=(0,r.useState)("home"),[u,h]=(0,r.useState)(!1),p=(0,r.useRef)(null),g=(0,r.useRef)(null),f=(0,r.useRef)(null),[m,x]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e=()=>i(window.innerWidth<768);return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let y=(0,r.useCallback)(t=>{t!==e&&(p.current&&clearTimeout(p.current),g.current&&clearTimeout(g.current),a(!0),["dashboard","analytics","trust","verify","bridge"].includes(t)&&(g.current=setTimeout(()=>{h(!1)},400)),p.current=setTimeout(()=>{d(t),n(t),a(!1),h(!1)},150))},[e]),b=(0,r.useCallback)(e=>{if(!o)return;let t=e.touches[0];t.clientX<20&&(f.current=t.clientX)},[o]),v=(0,r.useCallback)(e=>{o&&null!==f.current&&(e.changedTouches[0].clientX-f.current>60&&x(!0),f.current=null)},[o]),j="chat"===l;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(nX,{}),(0,t.jsx)(n2,{}),(0,t.jsxs)("div",{style:{display:"flex",flexDirection:"column",height:"100vh",backgroundColor:"#09090B",overflow:"hidden"},onTouchStart:b,onTouchEnd:v,children:[(0,t.jsxs)("div",{style:{display:"flex",flex:1,overflow:"hidden",minHeight:0},children:[(0,t.jsx)(c,{activeSection:e,onSectionChange:y,mobileForceOpen:m,onMobileClose:()=>x(!1)}),(0,t.jsx)("main",{style:{flex:1,overflowY:j?"hidden":"auto",overflowX:"hidden",backgroundColor:"#09090B",paddingTop:52*!!o,width:"100%",minWidth:0,display:j?"flex":"block",flexDirection:"column",scrollBehavior:"smooth",WebkitOverflowScrolling:"touch"},children:(0,t.jsx)("div",{className:s?"page-exit":"page-enter",style:{height:j?"100%":"auto",display:j?"flex":"block",flexDirection:"column"},children:(()=>{if(u)return"chat"===l?(0,t.jsx)(n4,{}):(0,t.jsx)(n5,{});switch(l){case"home":default:return(0,t.jsx)(eC,{});case"chat":return(0,t.jsx)(rh,{});case"wallet":return(0,t.jsx)(nm,{});case"verify":return(0,t.jsx)(nw,{});case"bridge":return(0,t.jsx)(nF,{});case"dashboard":return(0,t.jsx)(nR,{});case"sync":return(0,t.jsx)(nN,{});case"trust":return(0,t.jsx)(n_,{});case"analytics":return(0,t.jsx)(nG,{})}})()},l)})]}),!j&&(0,t.jsx)(nq,{})]})]})}e.s(["default",()=>n6],31713)}]);
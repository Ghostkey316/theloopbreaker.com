@import url('https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,300;0,14..32,400;0,14..32,500;0,14..32,600;0,14..32,700;1,14..32,400&family=JetBrains+Mono:wght@400;500;600&display=swap');
@import "tailwindcss";

/* ═══════════════════════════════════════════════════════════════════════════
   EMBRIS DESIGN SYSTEM — Premium Polish
   Modeled after ChatGPT + Coinbase. Restraint-first. Typography-driven.
   ═══════════════════════════════════════════════════════════════════════════ */

@theme {
  --color-bg-base: #09090B;
  --color-bg-surface: #111113;
  --color-bg-elevated: #18181B;
  --color-bg-hover: rgba(255,255,255,0.03);
  --color-bg-active: rgba(255,255,255,0.05);

  --color-text-primary: #F4F4F5;
  --color-text-secondary: #A1A1AA;
  --color-text-tertiary: #71717A;
  --color-text-muted: #52525B;
  --color-text-faint: #3F3F46;

  --color-accent: #F97316;
  --color-accent-hover: #FB923C;
  --color-accent-muted: #EA580C;

  --color-success: #22C55E;
  --color-warning: #EAB308;
  --color-error: #EF4444;
  --color-base-chain: #627EEA;
  --color-avax-chain: #E84142;

  --color-border: rgba(255,255,255,0.03);
  --color-border-hover: rgba(255,255,255,0.06);

  --spacing-sidebar: 220px;

  /* Typography scale */
  --font-size-xs: 11px;
  --font-size-sm: 12px;
  --font-size-base: 14px;
  --font-size-md: 15px;
  --font-size-lg: 17px;
  --font-size-xl: 20px;
  --font-size-2xl: 24px;
  --font-size-3xl: 28px;
  --font-size-4xl: 32px;

  --line-height-tight: 1.3;
  --line-height-snug: 1.4;
  --line-height-normal: 1.5;
  --line-height-relaxed: 1.6;
  --line-height-loose: 1.75;

  /* Transitions */
  --transition-fast: 0.1s cubic-bezier(0.16, 1, 0.3, 1);
  --transition-base: 0.15s cubic-bezier(0.16, 1, 0.3, 1);
  --transition-smooth: 0.25s cubic-bezier(0.16, 1, 0.3, 1);
  --transition-page: 0.2s cubic-bezier(0.4, 0, 0.2, 1);
}

/* ═══════════════════════════════════════════════════════════════════════════
   RESET & BASE
   ═══════════════════════════════════════════════════════════════════════════ */
*, *::before, *::after {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
  font-size: 16px;
}

body {
  background-color: #09090B;
  color: #F4F4F5;
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
  font-feature-settings: 'cv02', 'cv03', 'cv04', 'cv11';
  line-height: 1.6;
  letter-spacing: -0.011em;
  overflow-x: hidden;
  -webkit-text-size-adjust: 100%;
}

main, section, div { max-width: 100%; }

/* ═══════════════════════════════════════════════════════════════════════════
   SCROLLBAR — Nearly invisible, smooth
   ═══════════════════════════════════════════════════════════════════════════ */
::-webkit-scrollbar { width: 4px; height: 4px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb {
  background: rgba(255,255,255,0.04);
  border-radius: 100px;
  transition: background 0.2s ease;
}
::-webkit-scrollbar-thumb:hover { background: rgba(255,255,255,0.08); }
::selection { background: rgba(249,115,22,0.12); color: #F4F4F5; }

/* Smooth scrolling on all scroll containers */
* {
  scroll-behavior: smooth;
  -webkit-overflow-scrolling: touch;
}

/* ═══════════════════════════════════════════════════════════════════════════
   MOBILE — Touch-optimized
   ═══════════════════════════════════════════════════════════════════════════ */
@media (max-width: 767px) {
  body { -webkit-overflow-scrolling: touch; }
  input, textarea, select { font-size: 16px !important; }
  /* Minimum 44px touch targets */
  button, a, [role="button"] {
    min-height: 44px;
    min-width: 44px;
  }
  /* Exception for inline/small buttons */
  button.btn-sm, a.btn-sm {
    min-height: 32px;
    min-width: auto;
  }
}

/* ═══════════════════════════════════════════════════════════════════════════
   PAGE TRANSITION SYSTEM
   ═══════════════════════════════════════════════════════════════════════════ */
@keyframes pageFadeIn {
  from {
    opacity: 0;
    transform: translateY(4px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes pageFadeOut {
  from {
    opacity: 1;
    transform: translateY(0);
  }
  to {
    opacity: 0;
    transform: translateY(-4px);
  }
}

.page-enter {
  animation: pageFadeIn 0.2s cubic-bezier(0.16, 1, 0.3, 1) forwards;
}

.page-exit {
  animation: pageFadeOut 0.15s cubic-bezier(0.4, 0, 1, 1) forwards;
}

/* ═══════════════════════════════════════════════════════════════════════════
   SKELETON LOADING SYSTEM
   ═══════════════════════════════════════════════════════════════════════════ */
@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}

.skeleton {
  background: linear-gradient(
    90deg,
    rgba(255,255,255,0.03) 25%,
    rgba(255,255,255,0.06) 50%,
    rgba(255,255,255,0.03) 75%
  );
  background-size: 200% 100%;
  animation: shimmer 1.8s ease-in-out infinite;
  border-radius: 6px;
}

.skeleton-text {
  height: 14px;
  border-radius: 4px;
}

.skeleton-text-sm {
  height: 11px;
  border-radius: 3px;
}

.skeleton-text-lg {
  height: 20px;
  border-radius: 5px;
}

.skeleton-title {
  height: 28px;
  border-radius: 6px;
}

.skeleton-card {
  background: linear-gradient(
    90deg,
    rgba(255,255,255,0.02) 25%,
    rgba(255,255,255,0.04) 50%,
    rgba(255,255,255,0.02) 75%
  );
  background-size: 200% 100%;
  animation: shimmer 1.8s ease-in-out infinite;
  border-radius: 12px;
  border: 1px solid rgba(255,255,255,0.03);
}

.skeleton-circle {
  border-radius: 50%;
}

/* ═══════════════════════════════════════════════════════════════════════════
   ANIMATIONS — Purposeful only, no decorative effects
   ═══════════════════════════════════════════════════════════════════════════ */
@keyframes pulse-dot {
  0%, 80%, 100% { transform: scale(0.6); opacity: 0.4; }
  40% { transform: scale(1); opacity: 1; }
}
.typing-dot { animation: pulse-dot 1.4s infinite ease-in-out; }
.typing-dot:nth-child(2) { animation-delay: 0.2s; }
.typing-dot:nth-child(3) { animation-delay: 0.4s; }

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(3px); }
  to { opacity: 1; transform: translateY(0); }
}
.fade-in { animation: fadeIn 0.25s cubic-bezier(0.16, 1, 0.3, 1) forwards; }

@keyframes fadeInFast {
  from { opacity: 0; }
  to { opacity: 1; }
}
.fade-in-fast { animation: fadeInFast 0.15s ease forwards; }

@keyframes spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

@keyframes statusPulse {
  0%, 100% { box-shadow: 0 0 0 0 rgba(34,197,94,0.3); }
  50% { box-shadow: 0 0 0 3px rgba(34,197,94,0.05); }
}

/* Typing indicator fade-in */
@keyframes typingFadeIn {
  from { opacity: 0; transform: translateY(6px); }
  to { opacity: 1; transform: translateY(0); }
}
.typing-indicator-enter {
  animation: typingFadeIn 0.2s cubic-bezier(0.16, 1, 0.3, 1) forwards;
}

/* Message stream animation */
@keyframes streamIn {
  from { opacity: 0; }
  to { opacity: 1; }
}
.stream-token {
  animation: streamIn 0.08s ease forwards;
}

/* Send button pulse */
@keyframes sendPulse {
  0% { transform: scale(1); }
  50% { transform: scale(0.92); }
  100% { transform: scale(1); }
}
.send-pulse {
  animation: sendPulse 0.2s cubic-bezier(0.16, 1, 0.3, 1);
}

/* ═══════════════════════════════════════════════════════════════════════════
   PROSE STYLES (Chat Markdown) — Clean, no borders on inline code
   ═══════════════════════════════════════════════════════════════════════════ */
.prose-embris h1, .prose-embris h2, .prose-embris h3 {
  color: #F4F4F5;
  font-weight: 600;
  letter-spacing: -0.025em;
  line-height: 1.3;
}
.prose-embris h1 { margin: 1.25rem 0 0.5rem; font-size: 1.125rem; }
.prose-embris h2 { margin: 1rem 0 0.375rem; font-size: 1.0625rem; }
.prose-embris h3 { margin: 0.875rem 0 0.25rem; font-size: 1rem; }
.prose-embris p { margin: 0.375rem 0; line-height: 1.75; }
.prose-embris ul, .prose-embris ol { padding-left: 1.25rem; margin: 0.5rem 0; }
.prose-embris li { margin: 0.25rem 0; line-height: 1.7; }
.prose-embris code {
  background: rgba(255,255,255,0.04);
  border-radius: 4px;
  padding: 0.1rem 0.35rem;
  font-size: 0.85em;
  font-family: 'JetBrains Mono', 'SF Mono', 'Fira Code', monospace;
  color: #E4E4E7;
  word-break: break-all;
}
.prose-embris pre {
  background: rgba(255,255,255,0.02);
  border-radius: 8px;
  padding: 0.875rem;
  overflow-x: auto;
  margin: 0.75rem 0;
}
.prose-embris pre code {
  background: none;
  padding: 0;
  color: #E4E4E7;
  word-break: normal;
}
.prose-embris strong { color: #F4F4F5; font-weight: 600; }
.prose-embris a {
  color: #F97316;
  text-decoration: none;
  transition: opacity 0.15s ease;
}
.prose-embris a:hover { opacity: 0.8; }
.prose-embris blockquote {
  border-left: 2px solid rgba(255,255,255,0.06);
  padding-left: 0.875rem;
  color: #A1A1AA;
  font-style: italic;
  margin: 0.5rem 0;
}
.prose-embris hr {
  border: none;
  border-top: 1px solid rgba(255,255,255,0.03);
  margin: 1.25rem 0;
}

/* ═══════════════════════════════════════════════════════════════════════════
   BUTTON & INPUT SYSTEM — Premium micro-interactions
   ═══════════════════════════════════════════════════════════════════════════ */
button {
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
  transition: all 0.15s cubic-bezier(0.16, 1, 0.3, 1);
  cursor: pointer;
}

/* Scale press effect on all buttons */
button:active:not(:disabled) {
  transform: scale(0.98);
}

/* Focus ring — accessible but subtle */
button:focus-visible {
  outline: 2px solid rgba(249,115,22,0.5);
  outline-offset: 2px;
}

input:focus, textarea:focus {
  outline: none;
}

input:focus-visible, textarea:focus-visible {
  outline: 2px solid rgba(249,115,22,0.3);
  outline-offset: 1px;
}

a {
  transition: color 0.15s ease, opacity 0.15s ease;
}

a:focus-visible {
  outline: 2px solid rgba(249,115,22,0.5);
  outline-offset: 2px;
  border-radius: 3px;
}

/* Card hover lift effect */
.card-hover {
  transition: transform 0.2s cubic-bezier(0.16, 1, 0.3, 1),
              box-shadow 0.2s cubic-bezier(0.16, 1, 0.3, 1),
              background-color 0.15s ease;
}

.card-hover:hover {
  transform: translateY(-1px);
  box-shadow: 0 4px 20px rgba(0,0,0,0.3);
}

/* Toggle switch animation */
.toggle-track {
  transition: background-color 0.2s cubic-bezier(0.16, 1, 0.3, 1);
}

.toggle-thumb {
  transition: transform 0.2s cubic-bezier(0.34, 1.56, 0.64, 1);
}

/* ═══════════════════════════════════════════════════════════════════════════
   SIDEBAR — Smooth slide animation
   ═══════════════════════════════════════════════════════════════════════════ */
.sidebar-mobile {
  transition: transform 0.28s cubic-bezier(0.4, 0, 0.2, 1);
}

.sidebar-overlay {
  transition: opacity 0.28s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Nav item hover transitions */
.nav-item {
  transition: background-color 0.12s ease,
              color 0.12s ease,
              transform 0.1s ease;
}

.nav-item:hover {
  background-color: rgba(255,255,255,0.03);
}

.nav-item.active {
  background-color: rgba(255,255,255,0.04);
}

/* Active indicator bar */
.nav-item.active::before {
  content: '';
  position: absolute;
  left: 0;
  top: 50%;
  transform: translateY(-50%);
  width: 2px;
  height: 16px;
  background-color: #F97316;
  border-radius: 0 2px 2px 0;
  opacity: 0.8;
}

/* ═══════════════════════════════════════════════════════════════════════════
   MODAL ANIMATION
   ═══════════════════════════════════════════════════════════════════════════ */
@keyframes modalIn {
  from { opacity: 0; transform: translateY(8px) scale(0.98); }
  to { opacity: 1; transform: translateY(0) scale(1); }
}
.modal-in { animation: modalIn 0.2s cubic-bezier(0.16, 1, 0.3, 1) forwards; }

@keyframes overlayIn {
  from { opacity: 0; }
  to { opacity: 1; }
}
.overlay-in { animation: overlayIn 0.15s ease forwards; }

/* ═══════════════════════════════════════════════════════════════════════════
   UTILITY
   ═══════════════════════════════════════════════════════════════════════════ */
.mono {
  font-family: 'JetBrains Mono', 'SF Mono', 'Fira Code', monospace;
}

/* Table rows — alternating subtle backgrounds */
.table-row-even { background-color: transparent; }
.table-row-odd { background-color: rgba(255,255,255,0.015); }

/* ═══════════════════════════════════════════════════════════════════════════
   VOICE MODE — Pulsing mic indicator
   ═══════════════════════════════════════════════════════════════════════════ */
@keyframes pulse {
  0%, 100% { opacity: 1; transform: scale(1); }
  50% { opacity: 0.5; transform: scale(1.3); }
}

@keyframes voiceWave {
  0%, 100% { height: 4px; }
  50% { height: 16px; }
}

/* Embris speaking pulse — flame glow */
@keyframes embrisSpeakPulse {
  0%, 100% { transform: scale(1); opacity: 0.4; }
  50% { transform: scale(1.4); opacity: 0; }
}

.embris-speaking-flame {
  animation: none;
}

/* Voice waveform bars */
@keyframes voiceWaveBar {
  0%, 100% { height: 4px; opacity: 0.5; }
  50% { height: 14px; opacity: 1; }
}

.voice-wave-bar {
  animation: voiceWaveBar 0.8s ease-in-out infinite;
}

.voice-wave-bar:nth-child(1) { animation-delay: 0s; }
.voice-wave-bar:nth-child(2) { animation-delay: 0.1s; }
.voice-wave-bar:nth-child(3) { animation-delay: 0.2s; }
.voice-wave-bar:nth-child(4) { animation-delay: 0.3s; }
.voice-wave-bar:nth-child(5) { animation-delay: 0.15s; }

/* Active mic button glow */
.voice-mic-active {
  box-shadow: 0 0 0 3px rgba(249,115,22,0.2), 0 0 16px rgba(249,115,22,0.15);
}

/* Voice settings range slider */
input[type="range"] {
  -webkit-appearance: none;
  appearance: none;
  background: rgba(255,255,255,0.06);
  border-radius: 4px;
  height: 4px;
  outline: none;
}

input[type="range"]::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 14px;
  height: 14px;
  border-radius: 50%;
  background: #F97316;
  cursor: pointer;
  border: 2px solid #09090B;
  box-shadow: 0 0 4px rgba(249,115,22,0.3);
}

input[type="range"]::-moz-range-thumb {
  width: 14px;
  height: 14px;
  border-radius: 50%;
  background: #F97316;
  cursor: pointer;
  border: 2px solid #09090B;
}

/* ═══════════════════════════════════════════════════════════════════════════
   ONBOARDING MODAL — Slide animation
   ═══════════════════════════════════════════════════════════════════════════ */
@keyframes slideUp {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}
.slide-up { animation: slideUp 0.3s cubic-bezier(0.16, 1, 0.3, 1) forwards; }

/* ═══════════════════════════════════════════════════════════════════════════
   TRUST SCORE — Ring animation
   ═══════════════════════════════════════════════════════════════════════════ */
@keyframes scoreReveal {
  from { stroke-dashoffset: 283; }
}

/* ═══════════════════════════════════════════════════════════════════════════
   NOTIFICATION BADGE — Subtle pulse
   ═══════════════════════════════════════════════════════════════════════════ */
@keyframes notifPulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.1); }
}

/* ═══════════════════════════════════════════════════════════════════════════
   HAMBURGER MENU ANIMATION
   ═══════════════════════════════════════════════════════════════════════════ */
.hamburger-line {
  transition: transform 0.25s cubic-bezier(0.4, 0, 0.2, 1),
              opacity 0.2s ease;
  transform-origin: center;
}

.hamburger-open .hamburger-line:nth-child(1) {
  transform: translateY(6px) rotate(45deg);
}

.hamburger-open .hamburger-line:nth-child(2) {
  opacity: 0;
  transform: scaleX(0);
}

.hamburger-open .hamburger-line:nth-child(3) {
  transform: translateY(-6px) rotate(-45deg);
}

/* ═══════════════════════════════════════════════════════════════════════════
   SWIPE GESTURE HINT — Mobile
   ═══════════════════════════════════════════════════════════════════════════ */
@keyframes swipeHint {
  0% { transform: translateX(0); opacity: 0.6; }
  50% { transform: translateX(8px); opacity: 1; }
  100% { transform: translateX(0); opacity: 0.6; }
}

/* ═══════════════════════════════════════════════════════════════════════════
   TYPOGRAPHY HIERARCHY — Consistent scale
   ═══════════════════════════════════════════════════════════════════════════ */
h1, h2, h3, h4, h5, h6 {
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
  font-feature-settings: 'cv02', 'cv03', 'cv04', 'cv11';
  letter-spacing: -0.025em;
}

/* Page-level headings */
.heading-page {
  font-size: 28px;
  font-weight: 600;
  color: #F4F4F5;
  letter-spacing: -0.03em;
  line-height: 1.25;
}

/* Section headings */
.heading-section {
  font-size: 17px;
  font-weight: 600;
  color: #F4F4F5;
  letter-spacing: -0.02em;
  line-height: 1.3;
}

/* Label headings (all-caps) */
.label-heading {
  font-size: 11px;
  font-weight: 500;
  color: #52525B;
  letter-spacing: 0.1em;
  text-transform: uppercase;
}

/* Body text */
.body-text {
  font-size: 14px;
  line-height: 1.6;
  color: #A1A1AA;
}

/* Caption text */
.caption-text {
  font-size: 12px;
  line-height: 1.5;
  color: #52525B;
}

/* ═══════════════════════════════════════════════════════════════════════════
   PULL-TO-REFRESH INDICATOR
   ═══════════════════════════════════════════════════════════════════════════ */
@keyframes pullRefreshSpin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

.pull-refresh-spinner {
  animation: pullRefreshSpin 0.8s linear infinite;
}

/* ═══════════════════════════════════════════════════════════════════════════
   SMOOTH SCROLL CONTAINER
   ═══════════════════════════════════════════════════════════════════════════ */
.scroll-smooth {
  scroll-behavior: smooth;
  -webkit-overflow-scrolling: touch;
  overscroll-behavior: contain;
}

/* Chat message container — no layout shift during streaming */
.chat-messages {
  display: flex;
  flex-direction: column;
  overflow-anchor: none;
}

.chat-messages > * {
  overflow-anchor: none;
}

.chat-scroll-anchor {
  overflow-anchor: auto;
  height: 1px;
}
